{
  "version": 3,
  "sources": ["../../../../data/mods/weatherwar/conditions.ts"],
  "sourcesContent": ["import {FS} from '../../../lib';\r\nimport {toID} from '../../../sim/dex-data';\r\nimport {Pokemon} from \"../../../sim/pokemon\";\r\n\r\n// Similar to User.usergroups. Cannot import here due to users.ts requiring Chat\r\n// This also acts as a cache, meaning ranks will only update when a hotpatch/restart occurs\r\nconst usergroups: {[userid: string]: string} = {};\r\nconst usergroupData = FS('config/usergroups.csv').readIfExistsSync().split('\\n');\r\nfor (const row of usergroupData) {\r\n\tif (!toID(row)) continue;\r\n\r\n\tconst cells = row.split(',');\r\n\tif (cells.length > 3) throw new Error(`Invalid entry when parsing usergroups.csv`);\r\n\tusergroups[toID(cells[0])] = cells[1].trim() || ' ';\r\n}\r\n\r\nexport function getName(name: string): string {\r\n\tconst userid = toID(name);\r\n\tif (!userid) throw new Error('No/Invalid name passed to getSymbol');\r\n\r\n\tconst group = usergroups[userid] || ' ';\r\n\treturn group + name;\r\n}\r\n\r\nexport const Conditions: {[k: string]: ConditionData} = {\r\n\tfrz: {\r\n\t\tname: 'frz',\r\n\t\tstart: \"  [Pokemon] was chilled!\",\r\n\t\talreadyStarted: \"  [POKEMON] is already chilled!\",\r\n\t\tend: \"  [POKEMON] warmed up!\",\r\n\t\tendFromItem: \"  [POKEMON]'s [ITEM] warmed it up!\",\r\n\t\tendFromMove: \"  [POKEMON]'s [MOVE] warmed it up!\",\r\n\t\tcant: \"[POKEMON] is chilled!\",\r\n\t\teffectType: 'Status',\r\n\t\tonStart(target, source, sourceEffect) {\r\n\t\t\tif (sourceEffect && sourceEffect.effectType === 'Ability') {\r\n\t\t\t\tthis.add('-status', target, 'frz', '[from] ability: ' + sourceEffect.name, '[of] ' + source, '[silent]');\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-status', target, 'frz', '[silent]');\r\n\t\t\t}\r\n\t\t\tthis.add('-message', `${target.name} was frostbitten!`);\r\n\t\t},\r\n\t\t// Damage reduction is handled directly in the sim/battle.js damage function\r\n\t\tonResidualOrder: 9,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tthis.damage(pokemon.baseMaxhp / 16);\r\n\t\t},\r\n\t\tonModifySpA(spa, pokemon) {\r\n\t\t\treturn this.chainModify(0.5);\r\n\t\t},\r\n\t},\r\n\ttheswarm: {\r\n\t\tname: 'The Swarm',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('therock')) return 8;\r\n\t\t\tif (source.hasAbility('weathersetter')) return 0;\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (this.field.pseudoWeather.twilightzone && !pokemon.hasType('Bug')) {\r\n\t\t\t\treturn this.chainModify(0.67);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyMove(move) {\r\n\t\t\tif (move.category === 'Status' || move.type !== 'Bug') return;\r\n\t\t\tmove.onEffectiveness = function(typeMod, target, type) {\r\n\t\t\t\tif(type === 'Fairy') return 1;\r\n\t\t\t};\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\r\n\t\t\t\tthis.add('-fieldstart', 'The Swarm', '[from] ability: ' + effect.name, '[of] ' + source, '[silent]');\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-fieldstart', 'The Swarm', '[silent]');\r\n\t\t\t}\r\n\t\t\tthis.add('-message', \"The Swarm approaches...\");\r\n\t\t\tthis.hint(\"In The Swarm, non-Bug Pokemon have 0.67x speed and Bug moves hit Fairy supereffectively.\");\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-message', \"The Swarm persists...\");\r\n\t\t\tthis.add('-weather', 'The Swarm', '[upkeep]');\r\n\t\t\tthis.eachEvent('Weather');\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-fieldend', 'The Swarm', '[silent]');\r\n\t\t\tthis.add('-message', \"The Swarm departs...\");\r\n\t\t},\r\n\t},\r\n\ttwilightzone: {\r\n\t\tname: 'Twilight Zone',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('therock')) return 8;\r\n\t\t\tif (source.hasAbility('weathersetter')) return 0;\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\tonModifyAccuracyPriority: -1,\r\n\t\tonModifyAccuracy(accuracy, target, source, move) {\r\n\t\t\tif (!this.field.pseudoWeather.twilightzone || typeof accuracy !== 'number') return;\r\n\t\t\tif (move.type !== 'Dark') {\r\n\t\t\t\tthis.debug('Twilight Zone - decreasing accuracy');\r\n\t\t\t\treturn this.chainModify([2457, 4096]);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyMove(move, pokemon) {\r\n\t\t\tif(this.field.pseudoWeather.twilight && move.basePower <= 60) move.flags['snatch'] = 1;\r\n\t\t},\r\n\t\tonModifyPriority(priority, pokemon, target, move) {\r\n\t\t\tif (this.field.pseudoWeather.twilightzone && move?.type === 'Dark' && move?.category === 'Status') {\r\n\t\t\t\treturn priority + 1;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\r\n\t\t\t\tthis.add('-fieldstart', 'Twilight Zone', '[from] ability: ' + effect.name, '[of] ' + source, '[silent]');\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-fieldstart', 'Twilight Zone', '[silent]');\r\n\t\t\t}\r\n\t\t\tthis.add('-message', \"You've entered the Twilight Zone.\");\r\n\t\t\tthis.hint(\"In Twilight Zone, non-Dark moves have 0.6x accuracy and Dark status moves have +1 priority.\");\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-message', \"You're in the Twilight Zone.\");\r\n\t\t\tthis.add('-weather', 'Twilight Zone', '[upkeep]');\r\n\t\t\tthis.eachEvent('Weather');\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-fieldend', 'Twilight Zone', '[silent]');\r\n\t\t\tthis.add('-message', \"You've exited the Twilight Zone.\");\r\n\t\t},\r\n\t},\r\n\tlotsofreallysmalldragons: {\r\n\t\tname: 'Lots of Really Small Dragons',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('therock')) return 8;\r\n\t\t\tif (source.hasAbility('weathersetter')) return 0;\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\tonTryMove(attacker, defender, move) {\r\n\t\t\tif(this.field.pseudoWeather.lotsofreallysmalldragons && move.flags['sound']) {\r\n\t\t\t\tthis.add('-message', \"The Lots of Really Small Dragons are so loud, you can't hear!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonPrepareHit(source, target, move) {\r\n\t\t\tif (!this.field.pseudoWeather.lotsofreallysmalldragons || move.category === 'Status' || move.type !== 'Dragon' || move.flags['noparentalbond'] || move.flags['charge'] ||\r\n\t\t\tmove.flags['futuremove'] || move.spreadHit || move.isZ || move.isMax) return;\r\n\t\t\tif (move.multihit) move.multihit *= 2;\r\n\t\t\telse move.multihit = 2;\r\n\t\t\tmove.multihitType = 'parentalbond';\r\n\t\t},\r\n\t\tonSourceModifySecondaries(secondaries, target, source, move) {\r\n\t\t\tif (this.field.pseudoWeather.lotsofreallysmalldragons && move.multihitType === 'parentalbond' && move.id === 'secretpower' && move.hit < 2) {\r\n\t\t\t\t// hack to prevent accidentally suppressing King's Rock/Razor Fang\r\n\t\t\t\treturn secondaries.filter(effect => effect.volatileStatus === 'flinch');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\r\n\t\t\t\tthis.add('-fieldstart', 'Lots of Really Small Dragons', '[from] ability: ' + effect.name, '[of] ' + source, '[silent]');\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-fieldstart', 'Lots of Really Small Dragons', '[silent]');\r\n\t\t\t\tthis.add('-message', \"Lots of Really Small Dragons arrive!\");\r\n\t\t\t}\r\n\t\t\tthis.hint(\"In Lots of Really Small Dragons, sound moves fail when used and Dragon moves hit twice but the second hit has 0.25x power.\");\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-weather', 'Lots of Really Small Dragons', '[upkeep]');\r\n\t\t\tthis.eachEvent('Weather');\r\n\t\t\tthis.add('-message', \"Lots of Really Small Dragons are still here!\");\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-fieldend', 'Lots of Really Small Dragons', '[silent]');\r\n\t\t\tthis.add('-message', \"Lots of Really Small Dragons leave!\");\r\n\t\t},\r\n\t},\r\n\tthunderstorm: {\r\n\t\tname: 'Thunderstorm',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('therock')) return 8;\r\n\t\t\tif (source.hasAbility('weathersetter')) return 0;\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\tonResidualOrder: 5,\r\n\t\tonResidualSubOrder: 3,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif (this.field.pseudoWeather.thunderstorm && pokemon.hp && this.randomChance(3, 10)) {\r\n\t\t\t\tconst newMove = this.dex.getActiveMove('thunder');\r\n\t\t\t\tconst newSet = {\r\n\t\t\t\t\tname: 'Mew',\r\n\t\t\t\t\tspecies: 'Mew',\r\n\t\t\t\t\titem: '',\r\n\t\t\t\t\tability: 'Static',\r\n\t\t\t\t\tmoves: [ 'Thunder' ],\r\n\t\t\t\t\tnature: 'Serious',\r\n\t\t\t\t\tevs: { hp: 85, atk: 85, def: 85, spa: 85, spd: 85, spe: 85 },\r\n\t\t\t\t\tgender: 'N',\r\n\t\t\t\t\tivs: { hp: 31, atk: 31, def: 31, spa: 31, spd: 31, spe: 31 },\r\n\t\t\t\t\thappiness: 255,\r\n\t\t\t\t\thpType: '',\r\n\t\t\t\t\tpokeball: '',\r\n\t\t\t\t\tgigantamax: false,\r\n\t\t\t\t\tdynamaxLevel: 10,\r\n\t\t\t\t\tteraType: 'Electric',\r\n\t\t\t\t\tlevel: 100\r\n\t\t\t\t};\r\n\t\t\t\tconst newMon = new Pokemon(newSet, pokemon.side);\r\n\t\t\t\tthis.add(`c:|${Math.floor(Date.now() / 1000)}|LTG|You should forfeit... NOW!`);\r\n\t\t\t\tthis.add('-anim', pokemon, \"Thunder\", pokemon);\r\n\t\t\t\tthis.actions.useMove(newMove, newMon, pokemon);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyMove(move, pokemon) {\r\n\t\t\tif(this.field.pseudoWeather.thunderstorm && move.type === 'Electric') move.accuracy = true;\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\r\n\t\t\t\tthis.add('-fieldstart', 'Thunderstorm', '[from] ability: ' + effect.name, '[of] ' + source, '[silent]');\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-fieldstart', 'Thunderstorm', '[silent]');\r\n\t\t\t}\r\n\t\t\tthis.add('-message', \"The thunder storms in.\");\r\n\t\t\tthis.hint(\"In Thunderstorm, all Pokemon have a 30% chance to get hit by a 100 SpA non-STAB Thunder at the end of each turn and Electric moves can't miss.\");\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-message', \"The thunder storms.\");\r\n\t\t\tthis.add('-weather', 'Thunderstorm', '[upkeep]');\r\n\t\t\tthis.eachEvent('Weather');\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-fieldend', 'Thunderstorm', '[silent]');\r\n\t\t\tthis.add('-message', \"The thunder storms away.\");\r\n\t\t},\r\n\t},\r\n\tfable: {\r\n\t\tname: 'Fable',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('therock')) return 8;\r\n\t\t\tif (source.hasAbility('weathersetter')) return 0;\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\t// Ability suppression implemented in sim/pokemon.ts:Pokemon#ignoringAbility\r\n\t\tonSourceModifyAtkPriority: 6,\r\n\t\tonSourceModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (this.field.pseudoWeather.fable && ['Dark', 'Dragon', 'Ghost', 'Poison'].includes(move.type)) {\r\n\t\t\t\tif(!attacker.hasAbility('darkfantasy')) return this.chainModify(0.75);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceModifySpAPriority: 5,\r\n\t\tonSourceModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (this.field.pseudoWeather.fable && ['Dark', 'Dragon', 'Ghost', 'Poison'].includes(move.type)) {\r\n\t\t\t\tif(!attacker.hasAbility('darkfantasy')) return this.chainModify(0.75);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\r\n\t\t\t\tthis.add('-fieldstart', 'Fable', '[from] ability: ' + effect.name, '[of] ' + source, '[silent]');\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-weather', 'Fable', '[silent]');\r\n\t\t\t}\r\n\t\t\tthis.add('-message', \"A fable started!\");\r\n\t\t\tthis.hint(\"In Fable, \\\"evil\\\" abilities are suppressed and Dark, Ghost, Poison, Dragon moves have 0.75x power.\")\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-message', \"A fable continues.\");\r\n\t\t\tthis.add('-weather', 'Fable', '[upkeep]');\r\n\t\t\tthis.eachEvent('Weather');\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-fieldend', 'Fable', '[silent]');\r\n\t\t\tthis.add('-message', \"A fable ended.\");\r\n\t\t},\r\n\t},\r\n\tcolosseum: {\r\n\t\tname: 'Colosseum',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('therock')) return 8;\r\n\t\t\tif (source.hasAbility('weathersetter')) return 0;\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\tonResidualOrder: 5,\r\n\t\tonResidualSubOrder: 3,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif (this.field.pseudoWeather.colosseum && pokemon.hp && (!pokemon.lastMove || pokemon.lastMove.category == 'Status')) {\r\n\t\t\t\tthis.add('-message', `${pokemon.name} feels pressure from the colosseum!`);\r\n\t\t\t\tthis.boost({def: -1});\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAfterMoveSecondary(target, source, move) {\r\n\t\t\tif (this.field.pseudoWeather.colosseum && move.type === 'Fighting' && !this.queue.willMove(target)) {\r\n\t\t\t\tif (source.isActive) target.addVolatile('trapped', source, move, 'trapper');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\r\n\t\t\t\tthis.add('-fieldstart', 'Colosseum', '[from] ability: ' + effect.name, '[of] ' + source, '[silent]');\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-weather', 'Colosseum', '[silent]');\r\n\t\t\t}\r\n\t\t\tthis.add('-message', \"The colosseum appears!\");\r\n\t\t\tthis.hint(\"In Colosseum, at the end of each turn, Pokemon who did not attack have their highest defense lowered by 1 stage and Fighting moves trap the opponent if they move last.\");\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-message', \"The colosseum persists.\");\r\n\t\t\tthis.add('-weather', 'Colosseum', '[upkeep]');\r\n\t\t\tthis.eachEvent('Weather');\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-fieldend', 'Colosseum', '[silent]');\r\n\t\t\tthis.add('-message', \"The colosseum disappears.\");\r\n\t\t},\r\n\t},\r\n\tdrought: {\r\n\t\tname: 'Drought',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('therock')) return 8;\r\n\t\t\tif (source.hasAbility('weathersetter')) return 0;\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\tonResidualOrder: 5,\r\n\t\tonResidualSubOrder: 3,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif (this.field.pseudoWeather.drought && pokemon.hp && !pokemon.status && pokemon.runEffectiveness('Fire') > 0) {\r\n\t\t\t\tthis.add('-message', `${pokemon.name} spontaneously erupted into flames!`);\r\n\t\t\t\tpokemon.trySetStatus('brn', pokemon);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBasePowerPriority: 19,\r\n\t\tonBasePower(basePower, attacker, defender, move) {\r\n\t\t\tif (this.field.pseudoWeather.drought && defender.status === 'brn' && move.type === 'Fire') {\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\r\n\t\t\t\tthis.add('-fieldstart', 'Drought', '[from] ability: ' + effect.name, '[of] ' + source, '[silent]');\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-weather', 'Drought', '[silent]');\r\n\t\t\t}\r\n\t\t\tthis.add('-message', \"A drought started!\");\r\n\t\t\tthis.hint(\"In Drought, Pokemon weak to Fire become burned at the end of each turn and Fire moves deal 1.5x damage to burned targets.\");\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-message', \"The drought continues.\");\r\n\t\t\tthis.add('-weather', 'Drought', '[upkeep]');\r\n\t\t\tthis.eachEvent('Weather');\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-fieldend', 'Drought', '[silent]');\r\n\t\t\tthis.add('-message', \"The drought ended.\");\r\n\t\t},\r\n\t},\r\n\tdeltastream: {\r\n\t\tname: 'Delta Stream',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('therock')) return 8;\r\n\t\t\tif (source.hasAbility('weathersetter')) return 0;\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\tonEffectivenessPriority: -1,\r\n\t\tonEffectiveness(typeMod, target, type, move) {\r\n\t\t\tif (this.field.pseudoWeather.deltastream && move && move.effectType === 'Move' && move.category !== 'Status' && type === 'Flying' && typeMod > 0) {\r\n\t\t\t\tthis.add('-fieldactivate', 'Delta Stream');\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFaint(pokemon) {\r\n\t\t\tif(this.field.pseudoWeather.deltastream && pokemon.hasType(\"Flying\")) {\r\n\t\t\t\tthis.add('-message', `${pokemon.name} produces its last flap...`);\r\n\t\t\t\tpokemon.side.addSideCondition('tailwind');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\r\n\t\t\t\tthis.add('-fieldstart', 'Delta Stream', '[from] ability: ' + effect.name, '[of] ' + source);\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-weather', 'Delta Stream');\r\n\t\t\t}\r\n\t\t\tthis.hint(\"In Delta Stream, Ice, Electric, and Rock moves have halved power against Flying-types and when a Flying Pokemon dies, it sets Tailwind for 2 turns.\");\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-weather', 'Delta Stream', '[upkeep]');\r\n\t\t\tthis.eachEvent('Weather');\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-fieldend', 'Delta Stream');\r\n\t\t},\r\n\t},\r\n\tthevoices: {\r\n\t\tname: 'THE VOICES',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('therock')) return 8;\r\n\t\t\tif (source.hasAbility('weathersetter')) return 0;\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\tonAfterMoveSecondary(target, source, move) {\r\n\t\t\tif (this.field.pseudoWeather.thevoices && move.id !== 'boomburst' && this.randomChance(3, 10)) {\r\n\t\t\t\tthis.add('-message', `${source.name} hears the voices...`);\r\n\t\t\t\tconst newMove = this.dex.getActiveMove('boomburst');\r\n\t\t\t\tthis.actions.useMove(newMove, source, target);\r\n\t\t\t\tthis.attrLastMove('[still]');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyMove(move, pokemon) {\r\n\t\t\tif (!this.field.pseudoWeather.thevoices || move.type !== 'Ghost') return;\r\n\t\t\tfor (const target of pokemon.side.foe.active) {\r\n\t\t\t\tif (target.types.includes(\"Normal\")) {\r\n\t\t\t\t\tif (!move.ignoreImmunity) move.ignoreImmunity = {};\r\n\t\t\t\t\tif (move.ignoreImmunity !== true) {\r\n\t\t\t\t\t\tmove.ignoreImmunity['Ghost'] = true;\r\n\t\t\t\t\t\tmove.damage = 'level';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\r\n\t\t\t\tthis.add('-fieldstart', 'THE VOICES', '[from] ability: ' + effect.name, '[of] ' + source, '[silent]');\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-fieldstart', 'THE VOICES', '[silent]');\r\n\t\t\t}\r\n\t\t\tthis.add('-message', \"You hear THE VOICES...\");\r\n\t\t\tthis.hint(\"In THE VOICES, there is a 30% for any move to be turned into Boomburst and Ghost moves hit Normal types for 100 HP.\");\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-message', \"You still hear THE VOICES...\");\r\n\t\t\tthis.add('-weather', 'THE VOICES', '[upkeep]');\r\n\t\t\tthis.eachEvent('Weather');\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-fieldend', 'THE VOICES', '[silent]');\r\n\t\t\tthis.add('-message', \"You stop hearing THE VOICES.\");\r\n\t\t},\r\n\t},\r\n\tovergrowth: {\r\n\t\tname: 'Overgrowth',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('therock')) return 8;\r\n\t\t\tif (source.hasAbility('weathersetter')) return 0;\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif(pokemon.adjacentFoes().length == 0) return;\r\n\t\t\tconst target = this.sample(pokemon.adjacentFoes());\r\n\t\t\tif(this.field.pseudoWeather.overgrowth && !pokemon.hasType('Grass')) pokemon.addVolatile('leechseed', target);\r\n\t\t},\r\n\t\tonModifyMove(move) {\r\n\t\t\tif (this.field.pseudoWeather.overgrowth && move.flags['powder']) {\r\n\t\t\t\tmove.accuracy = true;\r\n\t\t\t\tmove.ignoringAbility = true;\r\n\t\t\t\tdelete move.flags['powder'];\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceModifyAccuracyPriority: -1,\r\n\t\tonSourceModifyAccuracy(accuracy, target, source, move) {\r\n\t\t\t\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\r\n\t\t\t\tthis.add('-fieldstart', 'Overgrowth', '[from] ability: ' + effect.name, '[of] ' + source, '[silent]');\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-fieldstart', 'Overgrowth', '[silent]');\r\n\t\t\t}\r\n\t\t\tthis.add('-message', \"An overgrowth appeared!\");\r\n\t\t\tthis.hint(\"In Overgrowth, all non-Grass Pokemon are afflicted with Leech Seed at the end of each turn and Powder moves bypass immunities and can't miss.\");\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-message', \"The overgrowth continues.\");\r\n\t\t\tthis.add('-weather', 'Overgrowth', '[upkeep]');\r\n\t\t\tthis.eachEvent('Weather');\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-fieldend', 'Overgrowth', '[silent]');\r\n\t\t\tthis.add('-message', \"The overgrowth subsides.\");\r\n\t\t},\r\n\t},\r\n\tduststorm: {\r\n\t\tname: 'Dust Storm',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('therock')) return 8;\r\n\t\t\tif (source.hasAbility('weathersetter')) return 0;\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\r\n\t\t\t\tthis.add('-fieldstart', 'Dust Storm', '[from] ability: ' + effect.name, '[of] ' + source, '[silent]');\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-fieldstart', 'Dust Storm', '[silent]');\r\n\t\t\t}\r\n\t\t\tthis.add('-message', \"A dust storm kicked up!\");\r\n\t\t\tthis.hint(\"In Dust Storm, all non-Ground/Rock/Steel Pokemon lose 1/16 max HP at the end of each turn for each weather present; and Spikes sets itself in two layers at a time and deals double damage.\");\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-message', \"The dust storm continues.\");\r\n\t\t\tthis.add('-weather', 'Dust Storm', '[upkeep]');\r\n\t\t\t//this.eachEvent('Weather');\r\n\t\t},\r\n\t\tonWeather(target) {\r\n\t\t\tconst immuneTypes = ['Ground', 'Rock', 'Steel'];\r\n\t\t\tif (!immuneTypes.some(r => target.baseSpecies.types.includes(r))) {\r\n\t\t\t\tthis.add('-message', `${target.name} is hurt by its ${target.set.ability}!`);\r\n\t\t\t\tthis.damage(target.baseMaxhp / 16);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-fieldend', 'Dust Storm', '[silent]');\r\n\t\t\tthis.add('-message', \"The dust storm subsided.\");\r\n\t\t},\r\n\t},\r\n\twhiteout: {\r\n\t\tname: 'Whiteout',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('therock')) return 8;\r\n\t\t\tif (source.hasAbility('weathersetter')) return 0;\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\tonModifyTypePriority: -1,\r\n\t\tonModifyType(move, pokemon) {\r\n\t\t\tif (this.field.pseudoWeather.whiteout && move.type === 'Water' && !(move.isZ && move.category !== 'Status')) {\r\n\t\t\t\tmove.type = 'Ice';\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceDamagingHit(damage, target, source, move) {\r\n\t\t\t// Despite not being a secondary, Shield Dust / Covert Cloak block Poison Touch's effect\r\n\t\t\tif (!this.field.pseudoWeather.whiteout || target.hasAbility('shielddust') || target.hasItem('covertcloak')) return;\r\n\t\t\tif (move.type === 'Ice') {\r\n\t\t\t\tif (this.randomChance(2, 10)) {\r\n\t\t\t\t\ttarget.trySetStatus('frz', source);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\r\n\t\t\t\tthis.add('-fieldstart', 'Whiteout', '[from] ability: ' + effect.name, '[of] ' + source, '[silent]');\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-fieldstart', 'Whiteout', '[silent]');\r\n\t\t\t}\r\n\t\t\tthis.add('-message', \"A whiteout kicked up!\");\r\n\t\t\tthis.hint(\"In Whiteout, Water moves become Ice moves and Ice moves have a 20% chance to inflict Frostbite.\");\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-message', \"The whiteout continues.\");\r\n\t\t\tthis.add('-weather', 'Whiteout', '[upkeep]');\r\n\t\t\tthis.eachEvent('Weather');\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-fieldend', 'Whiteout', '[silent]');\r\n\t\t\tthis.add('-message', \"The whiteout subsided.\");\r\n\t\t},\r\n\t},\r\n\tmetronomebattle: {\r\n\t\tname: 'Metronome Battle',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('therock')) return 8;\r\n\t\t\tif (source.hasAbility('weathersetter')) return 0;\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif(!this.field.pseudoWeather.metronomebattle || !pokemon.hasType('Normal')) return;\r\n\t\t\tconst dance = this.dex.getActiveMove('metronome');\r\n\t\t\tthis.actions.useMove(dance, pokemon);\r\n\t\t},\r\n\t\tonEffectiveness(typeMod, target, type, move) {\r\n\t\t\tif(this.field.pseudoWeather.metronomebattle && move.type === 'Normal') return 0;\r\n\t\t},\r\n\t\tonModifyMovePriority: -5,\r\n\t\tonModifyMove(move) {\r\n\t\t\tif (!this.field.pseudoWeather.metronomebattle) return;\r\n\t\t\tif (!move.ignoreImmunity) move.ignoreImmunity = {};\r\n\t\t\tif (move.ignoreImmunity !== true) {\r\n\t\t\t\tmove.ignoreImmunity['Normal'] = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\r\n\t\t\t\tthis.add('-fieldstart', 'Metronome Battle', '[from] ability: ' + effect.name, '[of] ' + source, '[silent]');\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-fieldstart', 'Metronome Battle', '[silent]');\r\n\t\t\t}\r\n\t\t\tthis.add('-message', \"Metronome battle go!\");\r\n\t\t\tthis.hint(\"In Metronome Battle, Normal Pokemon use Metronome at the end of each turn and Normal moves have neutral effectiveness.\");\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-message', \"The metronome battle continues.\");\r\n\t\t\tthis.add('-weather', 'Metronome Battle', '[upkeep]');\r\n\t\t\tthis.eachEvent('Weather');\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-fieldend', 'Metronome Battle', '[silent]');\r\n\t\t\tthis.add('-message', \"Metronome battle stop!\");\r\n\t\t},\r\n\t},\r\n\tshitstorm: {\r\n\t\tname: 'Shitstorm',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('therock')) return 8;\r\n\t\t\tif (source.hasAbility('weathersetter')) return 0;\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\tonResidualOrder: 100,\r\n\t\tonResidualSubOrder: 100,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif (!this.field.pseudoWeather.shitstorm || !pokemon.hp) return;\r\n\t\t\tfor (const target of pokemon.foes()) {\r\n\t\t\t\tif (target.status === 'tox') return;\r\n\t\t\t\tif (target.status) {\r\n\t\t\t\t\ttarget.setStatus('');\r\n\t\t\t\t\tif (target.status === 'slp') target.setStatus('tox');\r\n\t\t\t\t\telse target.setStatus('psn');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif(this.field.pseudoWeather.shitstorm && move.type === 'Poison' && (target.status === 'psn' || target.status === 'tox'))\r\n\t\t\t\tthis.boost({atk: -1, spa: -1, spe: -1}, target, source, move);\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\r\n\t\t\t\tthis.add('-fieldstart', 'Shitstorm', '[from] ability: ' + effect.name, '[of] ' + source, '[silent]');\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-fieldstart', 'Shitstorm', '[silent]');\r\n\t\t\t}\r\n\t\t\tthis.add('-message', \"A shitstorm brews!\");\r\n\t\t\tthis.hint(\"In Shitstorm, Burn/Paralysis/Frostbite/Confusion become Poison, Sleep becomes Toxic, and Poison moves lower poisoned targets' Atk/SpA/Spe by 1.\");\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-message', \"The shitstorm keeps brewing.\");\r\n\t\t\tthis.add('-weather', 'Shitstorm', '[upkeep]');\r\n\t\t\tthis.eachEvent('Weather');\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-fieldend', 'Shitstorm', '[silent]');\r\n\t\t\tthis.add('-message', \"The shitstorm disapppears.\");\r\n\t\t},\r\n\t},\r\n\tmindfuck: {\r\n\t\tname: 'mindfuck',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('therock')) return 8;\r\n\t\t\tif (source.hasAbility('weathersetter')) return 0;\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\tonModifyAccuracy(accuracy) {\r\n\t\t\tif (!this.field.pseudoWeather.mindfuck || typeof accuracy !== 'number') return;\r\n\t\t\treturn this.chainModify([6840, 4096]);\r\n\t\t},\r\n\t\tonDisableMove(pokemon) {\r\n\t\t\tif(!this.field.pseudoWeather.mindfuck) return;\r\n\t\t\tfor (const moveSlot of pokemon.moveSlots) {\r\n\t\t\t\tif (this.dex.moves.get(moveSlot.id).flags['gravity']) {\r\n\t\t\t\t\tpokemon.disableMove(moveSlot.id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// groundedness implemented in battle.engine.js:BattlePokemon#isGrounded\r\n\t\tonBeforeMovePriority: 6,\r\n\t\tonBeforeMove(pokemon, target, move) {\r\n\t\t\tif (this.field.pseudoWeather.mindfuck && move.flags['gravity'] && !move.isZ) {\r\n\t\t\t\tthis.add('cant', pokemon, 'move: Gravity', move);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyMove(move, pokemon, target) {\r\n\t\t\tif(!this.field.pseudoWeather.mindfuck) return;\r\n\t\t\tif(move.type === 'Psychic' && move.category === 'Status' && move.target === 'normal') {\r\n\t\t\t\tmove.category = \"Special\";\r\n\t\t\t\tmove.basePower = 90;\r\n\t\t\t}\r\n\t\t\tif (move.flags['gravity'] && !move.isZ) {\r\n\t\t\t\tthis.add('cant', pokemon, 'move: Gravity', move);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t// This code is for moves that use defensive stats as the attacking stat; see below for most of the implementation\r\n\t\t\tif (!move.overrideOffensiveStat) return;\r\n\t\t\tconst statAndBoosts = move.overrideOffensiveStat;\r\n\t\t\tif (!['def', 'spd'].includes(statAndBoosts)) return;\r\n\t\t\tmove.overrideOffensiveStat = statAndBoosts === 'def' ? 'spd' : 'def';\r\n\t\t\tthis.hint(`${move.name} uses ${statAndBoosts === 'def' ? '' : 'Sp. '}Def boosts when Wonder Room is active.`);\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\r\n\t\t\t\tthis.add('-fieldstart', 'Mindfuck', '[from] ability: ' + effect.name, '[of] ' + source);\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-fieldstart', 'Mindfuck', '[silent]');\r\n\t\t\t}\r\n\t\t\tthis.add('-message', \"Your mind got fucked!\");\r\n\t\t\tthis.hint(\"In Mindfuck, the effects of Magic Room, Wonder Room, and Gravity are active, and Psychic status moves with an adjacent target become special with 90 BP.\", '[silent]');\r\n\t\t},\r\n\t\t// Item suppression implemented in Pokemon.ignoringItem() within sim/pokemon.js\r\n\t\t// Swapping defenses partially implemented in sim/pokemon.js:Pokemon#calculateStat and Pokemon#getStat\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-message', \"Your mind is fucked.\");\r\n\t\t\tthis.add('-weather', 'Mindfuck', '[upkeep]');\r\n\t\t\tthis.eachEvent('Weather');\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-fieldend', 'Mindfuck', '[silent]');\r\n\t\t\tthis.add('-message', \"Your mind got unfucked.\");\r\n\t\t},\r\n\t},\r\n\tlandslide: {\r\n\t\tname: 'Landslide',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('therock')) return 8;\r\n\t\t\tif (source.hasAbility('weathersetter')) return 0;\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\tonModifyDefPriority: 10,\r\n\t\tonModifyDef(def, pokemon) {\r\n\t\t\tif (this.field.pseudoWeather.landslide && pokemon.hasType('Rock')) {\r\n\t\t\t\treturn this.modify(def, 1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBasePowerPriority: 23,\r\n\t\tonBasePower(basePower, pokemon, target, move) {\r\n\t\t\tif (!this.field.pseudoWeather.landslide || move.type !== 'Rock' || typeof move.accuracy !== 'number') return basePower;\r\n\t\t\treturn basePower + (100 - move.accuracy);\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\r\n\t\t\t\tthis.add('-fieldstart', 'Landslide', '[from] ability: ' + effect.name, '[of] ' + source, '[silent]');\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-fieldstart', 'Landslide', '[silent]');\r\n\t\t\t}\r\n\t\t\tthis.add('-message', \"A landslide started!\");\r\n\t\t\tthis.hint(\"In Landslide, Rock-types have 1.5x Defense and Rock moves gain 1 BP equal to each percent accuracy below 100%.\");\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-message', \"The landslide continues.\");\r\n\t\t\tthis.add('-weather', 'Landslide', '[upkeep]');\r\n\t\t\tthis.eachEvent('Weather');\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-fieldend', 'Landslide', '[silent]');\r\n\t\t\tthis.add('-message', \"The landslide finished.\");\r\n\t\t},\r\n\t},\r\n\ttimewarp: {\r\n\t\tname: 'Time Warp',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('therock')) return 8;\r\n\t\t\tif (source.hasAbility('weathersetter')) return 0;\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\tonModifyMove(move, pokemon) {\r\n\t\t\tconst targetSide = pokemon.side.foe;\r\n\t\t\tif (this.field.pseudoWeather.timewarp && !move.flags['futuremove']) {\r\n\t\t\t\tif (move.target === \"self\" && !pokemon.side.slotConditions[pokemon.position]['selfforesighter']) {\r\n\t\t\t\t\tmove.onTry = function (source, t) {\r\n\t\t\t\t\t\tif (!t.side.addSlotCondition(t, 'selfforesighter')) {\r\n\t\t\t\t\t\t\tthis.hint('Future moves fail when the targeted slot already has a future move focused on it.');\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst moveData = this.dex.getActiveMove(move.id);\r\n\t\t\t\t\t\tmoveData.flags['selfforesighter'] = 1;\r\n\t\t\t\t\t\tdelete moveData.flags['protect'];\r\n\t\t\t\t\t\tObject.assign(t.side.slotConditions[t.position]['selfforesighter'], {\r\n\t\t\t\t\t\t\tduration: 3,\r\n\t\t\t\t\t\t\tmove: moveData.id,\r\n\t\t\t\t\t\t\tsource: source,\r\n\t\t\t\t\t\t\tmoveData: moveData,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (source.hasAbility('secondimpact')) {\r\n\t\t\t\t\t\t\tif (!t.side.addSlotCondition(t, 'orbitalfuturemove')) return false;\r\n\t\t\t\t\t\t\tObject.assign(t.side.slotConditions[t.position]['orbitalfuturemove'],{\r\n\t\t\t\t\t\t\t\tduration: 3,\r\n\t\t\t\t\t\t\t\tmove: moveData.id,\r\n\t\t\t\t\t\t\t\tsource: source,\r\n\t\t\t\t\t\t\t\tmoveData: moveData,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.add('-message', `${source.name} foresaw two attacks!`);\r\n\t\t\t\t\t\t} else this.add('-message', `${source.name} foresaw an attack!`);\r\n\t\t\t\t\t\treturn this.NOT_FAIL;\r\n\t\t\t\t\t}\r\n\t\t\t\t} \r\n\t\t\t\telse if (['normal', 'any', 'allAdjacent', 'allAdjacentFoes'].includes(move.target) && !targetSide.slotConditions[pokemon.position]['futuremove']) {\r\n\t\t\t\t\tmove.onTry = function (source, t) {\r\n\t\t\t\t\t\tif (!t.side.addSlotCondition(t, 'futuremove')) {\r\n\t\t\t\t\t\t\tthis.hint('Future moves fail when the targeted slot already has a future move focused on it.');\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst moveData = this.dex.getActiveMove(move.id);\r\n\t\t\t\t\t\tmoveData.flags['futuremove'] = 1;\r\n\t\t\t\t\t\tdelete moveData.flags['protect'];\r\n\t\t\t\t\t\tObject.assign(t.side.slotConditions[t.position]['futuremove'], {\r\n\t\t\t\t\t\t\tduration: 3,\r\n\t\t\t\t\t\t\tmove: moveData.id,\r\n\t\t\t\t\t\t\tsource: source,\r\n\t\t\t\t\t\t\tmoveData: moveData,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (source.hasAbility('secondimpact')) {\r\n\t\t\t\t\t\t\tif (!t.side.addSlotCondition(t, 'orbitalfuturemove')) return false;\r\n\t\t\t\t\t\t\tObject.assign(t.side.slotConditions[t.position]['orbitalfuturemove'],{\r\n\t\t\t\t\t\t\t\tduration: 4,\r\n\t\t\t\t\t\t\t\tmove: moveData.id,\r\n\t\t\t\t\t\t\t\tsource: source,\r\n\t\t\t\t\t\t\t\tmoveData: moveData,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.add('-message', `${source.name} foresaw two attacks!`);\r\n\t\t\t\t\t\t} else this.add('-message', `${source.name} foresaw an attack!`);\r\n\t\t\t\t\t\treturn this.NOT_FAIL;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t//max power steel moves implemented in moves.ts\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\r\n\t\t\t\tthis.add('-fieldstart', 'Time Warp', '[from] ability: ' + effect.name, '[of] ' + source, '[silent]');\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-fieldstart', 'Time Warp', '[silent]');\r\n\t\t\t}\r\n\t\t\tthis.add('-message', \"Time warped!\");\r\n\t\t\tthis.hint(\"In Time Warp, every move will hit after 2 turns instead of immediately and Steel moves always have maximum power.\");\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-message', \"Time is warping.\");\r\n\t\t\tthis.add('-weather', 'Time Warp', '[upkeep]');\r\n\t\t\tthis.eachEvent('Weather');\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-fieldend', 'Time Warp', '[silent]');\r\n\t\t\tthis.add('-message', \"Time went back to normal.\");\r\n\t\t},\r\n\t},\r\n\tflashflood: {\r\n\t\tname: 'Flash Flood',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('therock')) return 8;\r\n\t\t\tif (source.hasAbility('weathersetter')) return 0;\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif(this.field.pseudoWeather.flashflood && this.randomChance(1, 4)) {\r\n\t\t\t\tif (this.runEvent('DragOut', pokemon, pokemon)) {\r\n\t\t\t\t\tthis.add('-message', `The flash flood swept ${pokemon.name} away!`);\r\n\t\t\t\t\tpokemon.forceSwitchFlag = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyPriority(priority, pokemon, target, move) {\r\n\t\t\tif(!this.field.pseudoWeather.flashflood || move?.category === 'Status' || move?.type !== 'Water') return;\r\n\t\t\tconst basePowerAfterMultiplier = this.modify(move.basePower, this.event.modifier);\r\n\t\t\tif (basePowerAfterMultiplier <= 60) return priority + 1;\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\r\n\t\t\t\tthis.add('-fieldstart', 'Flash Flood', '[from] ability: ' + effect.name, '[of] ' + source, '[silent]');\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-fieldstart', 'Flash Flood', '[silent]');\r\n\t\t\t}\r\n\t\t\tthis.add('-message', \"A flash flood appeared!\");\r\n\t\t\tthis.hint(\"In Flash Flood, all Pokemon have a 25% chance to be forced out at the end of each turn and Water moves with 60 BP or less move first in their priority bracket.\");\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-message', \"The flash flood continues.\");\r\n\t\t\tthis.add('-weather', 'Flash Flood', '[upkeep]');\r\n\t\t\tthis.eachEvent('Weather');\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-fieldend', 'Flash Flood', '[silent]');\r\n\t\t\tthis.add('-message', \"The flash flood stopped.\");\r\n\t\t},\r\n\t},\r\n\r\n\tselfforesighter: {\r\n\t\t// this is a slot condition\r\n\t\tname: 'selfforesighter',\r\n\t\tduration: 3,\r\n\t\tonResidualOrder: 3,\r\n\t\tonEnd(target) {\r\n\t\t\tconst data = this.effectState;\r\n\t\t\t// time's up; time to hit! :D\r\n\t\t\tconst move = this.dex.moves.get(data.move);\r\n\t\t\tif (target.fainted || target !== data.source) {\r\n\t\t\t\tthis.hint(`${move.name} did not hit because the target is ${(target.fainted ? 'fainted' : 'the user')}.`);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.add('-end', target, 'move: ' + move.name);\r\n\t\t\ttarget.removeVolatile('Protect');\r\n\t\t\ttarget.removeVolatile('Endure');\r\n\r\n\t\t\tif (data.source.hasAbility('infiltrator') && this.gen >= 6) {\r\n\t\t\t\tdata.moveData.infiltrates = true;\r\n\t\t\t}\r\n\t\t\tif (data.source.hasAbility('normalize') && this.gen >= 6) {\r\n\t\t\t\tdata.moveData.type = 'Normal';\r\n\t\t\t}\r\n\t\t\tconst hitMove = new this.dex.Move(data.moveData) as ActiveMove;\r\n\r\n\t\t\tthis.actions.trySpreadMoveHit([target], data.source, hitMove, true);\r\n\t\t\tif (data.source.isActive && data.source.hasItem('lifeorb') && this.gen >= 5) {\r\n\t\t\t\tthis.singleEvent('AfterMoveSecondarySelf', data.source.getItem(), data.source.itemState, data.source, target, data.source.getItem());\r\n\t\t\t}\r\n\t\t\tthis.activeMove = null;\r\n\r\n\t\t\tthis.checkWin();\r\n\t\t},\r\n\t},\r\n};"],
  "mappings": "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",
  "names": []
}
