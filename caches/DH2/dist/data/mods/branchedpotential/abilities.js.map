{
  "version": 3,
  "sources": ["../../../../data/mods/branchedpotential/abilities.ts"],
  "sourcesContent": ["export const Abilities: {[abilityid: string]: ModdedAbilityData} = {\r\n\tshieldsdown: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tif ((pokemon.baseSpecies.baseSpecies !== 'Minior' && pokemon.baseSpecies.baseSpecies !== 'Stacragus') || pokemon.transformed) return;\r\n\t\t\tif (pokemon.hp > pokemon.maxhp / 2) {\r\n\t\t\t\tif (pokemon.baseSpecies.baseSpecies === 'Minior' && pokemon.species.forme !== 'Meteor') {\r\n\t\t\t\t\tpokemon.formeChange('Minior-Meteor');\r\n\t\t\t\t} else if (pokemon.baseSpecies.baseSpecies === 'Stacragus' && pokemon.species.forme !== 'Chrysalis') {\r\n\t\t\t\t\tpokemon.formeChange('Stacragus-Chrysalis');\r\n\t\t\t\t\tthis.add('-start', pokemon, 'typechange', pokemon.getTypes(true).join('/'), '[silent]');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (pokemon.species.forme === 'Meteor' || pokemon.species.forme === 'Chrysalis') {\r\n\t\t\t\t\tpokemon.formeChange(pokemon.set.species);\r\n\t\t\t\t\tthis.add('-start', pokemon, 'typechange', pokemon.getTypes(true).join('/'), '[silent]');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonResidualOrder: 27,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif ((pokemon.baseSpecies.baseSpecies !== 'Minior' && pokemon.baseSpecies.baseSpecies !== 'Stacragus') || pokemon.transformed || !pokemon.hp) return;\r\n\t\t\tif (pokemon.hp > pokemon.maxhp / 2) {\r\n\t\t\t\tif (pokemon.baseSpecies.baseSpecies === 'Minior' && pokemon.species.forme !== 'Meteor') {\r\n\t\t\t\t\tpokemon.formeChange('Minior-Meteor');\r\n\t\t\t\t} else if (pokemon.baseSpecies.baseSpecies === 'Stacragus' && pokemon.species.forme !== 'Chrysalis') {\r\n\t\t\t\t\tpokemon.formeChange('Stacragus-Chrysalis');\r\n\t\t\t\t\tthis.add('-start', pokemon, 'typechange', pokemon.getTypes(true).join('/'), '[silent]');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (pokemon.species.forme === 'Meteor' || pokemon.species.forme === 'Chrysalis') {\r\n\t\t\t\t\tpokemon.formeChange(pokemon.set.species);\r\n\t\t\t\t\tthis.add('-start', pokemon, 'typechange', pokemon.getTypes(true).join('/'), '[silent]');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSetStatus(status, target, source, effect) {\r\n\t\t\tif ((target.species.id !== 'miniormeteor' && target.species.id !== 'stacraguschrysalis') || target.transformed) return;\r\n\t\t\tif ((effect as Move)?.status) {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Shields Down');\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonTryAddVolatile(status, target) {\r\n\t\t\tif ((target.species.id !== 'miniormeteor' && target.species.id !== 'stacraguschrysalis') || target.transformed) return;\r\n\t\t\tif (status.id !== 'yawn') return;\r\n\t\t\tthis.add('-immune', target, '[from] ability: Shields Down');\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, cantsuppress: 1},\r\n\t\tdesc: \"Minior/Stacragus, upon switch-in/end of turn change to Core/Offense at 1/2 max HP or less, else Meteor/Chrysalis.\",\r\n\t\tname: \"Shields Down\",\r\n\t\trating: 3,\r\n\t\tnum: 197,\r\n\t},\r\n\tesiugsid: {\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (\r\n\t\t\t\teffect && effect.effectType === 'Move' &&\r\n\t\t\t\t['phankyr'].includes(target.species.id) && !target.transformed\r\n\t\t\t) {\r\n\t\t\t\tthis.add('-activate', target, 'ability: Esiugsid');\r\n\t\t\t\tthis.effectState.busted = true;\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonCriticalHit(target, source, move) {\r\n\t\t\tif (!target) return;\r\n\t\t\tif (!['phankyr'].includes(target.species.id) || target.transformed) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst hitSub = target.volatiles['substitute'] && !move.flags['authentic'] && !(move.infiltrates && this.gen >= 6);\r\n\t\t\tif (hitSub) return;\r\n\r\n\t\t\tif (!target.runImmunity(move.type)) return;\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonEffectiveness(typeMod, target, type, move) {\r\n\t\t\tif (!target) return;\r\n\t\t\tif (!['phankyr'].includes(target.species.id) || target.transformed) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst hitSub = target.volatiles['substitute'] && !move.flags['authentic'] && !(move.infiltrates && this.gen >= 6);\r\n\t\t\tif (hitSub) return;\r\n\r\n\t\t\tif (!target.runImmunity(move.type)) return;\r\n\t\t\treturn 0;\r\n\t\t},\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (['phankyr'].includes(pokemon.species.id) && this.effectState.busted) {\r\n\t\t\t\tconst speciesid = 'Phankyr-Revealed';\r\n\t\t\t\tpokemon.formeChange(speciesid, this.effect, true);\r\n\t\t\t\tthis.damage(pokemon.baseMaxhp / 8, pokemon, pokemon, this.dex.species.get(speciesid));\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, cantsuppress: 1},\r\n\t\tdesc: \"(Phankyr only) The first hit it takes is blocked, and it takes 1/8 HP damage instead.\",\r\n\t\tname: \"Esiugsid\",\r\n\t\trating: 3.5,\r\n\t\tnum: 209,\r\n\t},\r\n\tlethalpoison: {\r\n\t\tonSourceAfterFaint(length, target, source, effect) {\r\n\t\t\tif (source.activeMoveActions < 6) {\r\n\t\t\t\tif (effect && effect.effectType === 'Move') {\r\n\t\t\t\t\tthis.boost({atk: 2}, source);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tdesc: \"This Pokemon's Attack is raised by 2 stages if it KOes another Pokemon within 5 turns.\",\r\n\t\tname: \"Lethal Poison\",\r\n\t\trating: 3,\r\n\t\tnum: 210,\r\n\t},\r\n\tprism: {\r\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, cantsuppress: 1},\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tlet type: string | undefined = 'Normal';\r\n\t\t\ttype = target.getItem().onMemory;\r\n\t\t\tif (!type) {\r\n\t\t\t\ttype = 'Normal';\r\n\t\t\t}\r\n\t\t\tif (target !== source && move.type === type) {\r\n\t\t\t\tif (!this.heal(target.baseMaxhp / 4)) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Prism');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tdesc: \"If this Pokemon is a Chrienmor, its typing changes to match its held memory; immunity to moves of the same typing.\",\r\n\t\tname: \"Prism\",\r\n\t\trating: 3.5,\r\n\t\tnum: -100,\r\n\t},\r\n\tholyconduit: {\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Psychic') {\r\n\t\t\t\tthis.debug('Holy Conduit boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpAPriority: 5,\r\n\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Psychic') {\r\n\t\t\t\tthis.debug('Holy Conduit boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tdesc: \"This Pokemon's attacking stat is multiplied by 1.5 while using a Psychic-type attack.\",\r\n\t\tname: \"Holy Conduit\",\r\n\t\trating: 3.5,\r\n\t\tnum: -118,\r\n\t},\r\n\r\n\tpotionmaster: {\r\n\r\n\t\tonModifyMove(move) {\r\n\t\t\tif (!move || move.category !== \"Special\" || move.target === 'self') return;\r\n\t\t\tif (!move.secondaries) {\r\n\t\t\t\tmove.secondaries = [];\r\n\t\t\t}\r\n\t\t\tmove.secondaries.push({\r\n\t\t\t\tchance: 30,\r\n\t\t\t\tstatus: 'psn',\r\n\t\t\t\tability: this.dex.abilities.get('potionmaster'),\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tdesc: \"This Pokemon's special attacks have a 30% chance to poison\",\r\n\t\tname: \"Potion Master\",\r\n\t\trating: 2,\r\n\t\tnum: -119,\r\n\t},\r\n};\r\n"],
  "mappings": "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",
  "names": []
}
