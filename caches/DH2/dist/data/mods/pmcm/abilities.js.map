{
  "version": 3,
  "sources": ["../../../../data/mods/pmcm/abilities.ts"],
  "sourcesContent": ["export const Abilities: { [abilityid: string]: ModdedAbilityData } = {\r\n\t//placeholder\r\n\tthickfat: {\r\n\t\tinherit: true,\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.status === 'brn') {\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Thick Fat');\r\n\t\t\t\tpokemon.cureStatus();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSetStatus(status, target, source, effect) {\r\n\t\t\tif (status.id !== 'brn') return;\r\n\t\t\tif ((effect as Move)?.status) {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Thick Fat');\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tshortDesc: \"Fire-/Ice-type moves against this Pokemon deal 1/2 damage. Burn immune.\",\r\n\t},\r\n\tcallvolbeat: {\r\n\t\t//Placeholder for when ability is implemented\r\n\t\t/*onSourceDamagingHit(damage, target, source, move) {\r\n\t\t\tif (this.hasVolHealed) return;\r\n\t\t\tthis.hasVolHealed = true;\r\n\t\t\tthis.heal(1 / 4);\r\n\t\t},*/\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Call Volbeat\",\r\n\t\trating: 5,\r\n\t\tnum: -100,\r\n\t\tshortDesc: \"Does nothing right now!\",\r\n\t\t//shortDesc: \"After getting hit for the first time in a battle, heal 25% HP.\",\r\n\t},\r\n\tcallillumise: {\r\n\t\t//Placeholder for when ability is implemented\r\n\t\t/*onSourceDamagingHit(damage, target, source, move) {\r\n\t\t\tif (this.hasIllHealed) return;\r\n\t\t\tthis.hasIllHealed = true;\r\n\t\t\tthis.heal(1 / 4);\r\n\t\t},*/\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Call Illumise\",\r\n\t\trating: 5,\r\n\t\tnum: -101,\r\n\t\tshortDesc: \"Does nothing right now!\",\r\n\t\t//shortDesc: \"After getting hit for the first time in a battle, heal 25% HP.\",\r\n\t},\r\n\tshortfuse: {\r\n\t\tonDamagePriority: -30, \r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (damage >= target.hp && effect && effect.effectType === 'Move') {\r\n\t\t\t\tthis.add('-ability', target, 'Short Fuse');\r\n\t\t\r\n\t\t\t\t// Keep the Pok\u00E9mon at 1 HP instead of fainting immediately\r\n\t\t\t\tconst finalHp = target.hp - 1;\r\n\t\t\t\tthis.damage(target.hp - 1, target, source, effect);\r\n\t\t\r\n\t\t\t\t// Force the Pok\u00E9mon to use Explosion\r\n\t\t\t\tconst explosion = this.dex.getActiveMove('explosion');\r\n\t\t\t\tthis.actions.useMove(explosion, target);\r\n\t\t\t\t\t\r\n\t\t\t\t// Ensure the Pok\u00E9mon properly faints afterward\r\n\t\t\t\ttarget.faint();\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Short Fuse\",\r\n\t\trating: 5,\r\n\t\tnum: -102,\r\n\t\t//shortDesc: \"Does nothing right now!\",\r\n\t\tshortDesc: \"When this Pokemon would be KOed, it instead uses Explosion.\",\r\n\t},\r\n\thydroelectricdam: {\r\n\t\t//Copied from the code for Sand Spit\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tthis.field.setWeather('raindance');\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Hydroelectric Dam\",\r\n\t\trating: 5,\r\n\t\tnum: -103,\r\n\t\tshortDesc: \"When this Pokemon is hit by an attack, the effect of Rain Dance begins.\",\r\n\t},\r\n\tfrozenarmor: {\r\n\t\t//Code stolen from Shields Down\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif(move.category != 'Status') {\r\n\t\t\t\tmove.basePower = Math.max(move.basePower - 20, 0);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSwitchInPriority: -1,\r\n\t\tonStart(pokemon) {\r\n\t\t\tif (pokemon.baseSpecies.baseSpecies !== 'Glastrier' || pokemon.transformed) return;\r\n\t\t\tif (pokemon.hp < pokemon.maxhp / 2) {\r\n\t\t\t\tif (pokemon.species !== 'Calyrex-Ice') {\r\n\t\t\t\t\tpokemon.formeChange('Calyrex-Ice');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (pokemon.species.forme === 'Calyrex-Ice') {\r\n\t\t\t\t\tpokemon.formeChange(pokemon.set.species);\r\n\t\t\t\t\tthis.add('-ability', pokemon, 'As One (Glastrier)');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonResidualOrder: 29,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif (pokemon.baseSpecies.baseSpecies !== 'Glastrier' || pokemon.transformed || !pokemon.hp) return;\r\n\t\t\tif (pokemon.hp < pokemon.maxhp / 2) {\r\n\t\t\t\tif (pokemon.species !== 'Calyrex-Ice') {\r\n\t\t\t\t\tpokemon.formeChange('Calyrex-Ice');\r\n\t\t\t\t\tpokemon.setAbility('As One (Glastrier)');\r\n\t\t\t\t\tthis.add('-ability', pokemon, 'As One');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (pokemon.species.forme === 'Calyrex-Ice') {\r\n\t\t\t\t\tpokemon.formeChange(pokemon.set.species);\r\n\t\t\t\t\tpokemon.setAbility('As One (Glastrier)');\r\n\t\t\t\t\tthis.add('-ability', pokemon, 'As One');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, cantsuppress: 1},\r\n\t\tname: \"Frozen Armor\",\r\n\t\trating: 5,\r\n\t\tnum: -105,\r\n\t\tshortDesc: \"Incoming attacks have their BP reduced by 20. This Pokemon transforms into Calyrex-Ice below 50% HP.\",\r\n\t},\r\n\tflipflop: {\r\n\t\tonDamagingHitOrder: 1,\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (move.flags['contact']) {\r\n\t\t\t\tlet invertedBoosts: SparseBoostsTable = {};\r\n\t\t\t\tfor (const stat in source.boosts) {\r\n\t\t\t\t\tif (source.boosts[stat] > 0) {\r\n\t\t\t\t\t\tinvertedBoosts[stat] = -2 * source.boosts[stat]; \r\n\t\t\t\t\t\tthis.boost(invertedBoosts, source);\r\n\t\t\t\t\t\tthis.add('-ability', target, 'Flip Flop');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Flip Flop\",\r\n\t\trating: 5,\r\n\t\tnum: -104,\r\n\t\tshortDesc: \"When hit by a contact move, the attacker\u2019s stat changes are inverted.\",\r\n\t},\r\n\r\n\tgrasspelt: {\r\n\t\tinherit: true,\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tthis.field.setTerrain('grassyterrain');\r\n\t\t},\r\n\t},\r\n\taquaveil: {\r\n\t\tonSwitchInPriority: -1,\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.add('-start', pokemon, 'Aqua Ring');\r\n\t\t},\r\n\t\tonResidualOrder: 6,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tthis.heal(pokemon.baseMaxhp / 16);\r\n\t\t},\r\n\t\tonSourceModifyAtkPriority: 5,\r\n\t\tonSourceModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Fire') {\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceModifySpAPriority: 5,\r\n\t\tonSourceModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Fire') {\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Water') {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Water') {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tname: \"Aqua Veil\",\r\n\t\trating: 5,\r\n\t\tnum: -106,\r\n\t},\r\n\tstillwater: {\r\n\t\tonAnyModifyBoost(boosts, pokemon) {\r\n\t\t\tconst unawareUser = this.effectState.target;\r\n\t\t\tif (unawareUser === pokemon) return;\r\n\t\t\tif (unawareUser === this.activePokemon && pokemon === this.activeTarget) {\r\n\t\t\t\tboosts['def'] = 0;\r\n\t\t\t\tboosts['spd'] = 0;\r\n\t\t\t\tboosts['evasion'] = 0;\r\n\t\t\t}\r\n\t\t\tif (pokemon === this.activePokemon && unawareUser === this.activeTarget) {\r\n\t\t\t\tboosts['atk'] = 0;\r\n\t\t\t\tboosts['def'] = 0;\r\n\t\t\t\tboosts['spa'] = 0;\r\n\t\t\t\tboosts['accuracy'] = 0;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Water') {\r\n\t\t\t\tif (!this.heal(target.baseMaxhp / 4)) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Water Absorb');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Still Water\",\r\n\t\trating: 5,\r\n\t\tnum: -107,\r\n\t\tshortDesc: \"This ability provides the effects of Unaware and Water Absorb.\",\r\n\t\t},\r\n};\r\n"],
  "mappings": "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",
  "names": []
}
