{
  "version": 3,
  "sources": ["../../../../data/mods/fecc/conditions.ts"],
  "sourcesContent": ["import {Pokemon} from '../../../sim/pokemon';\r\nimport {FS} from '../../../lib';\r\nimport {toID} from '../../../sim/dex-data';\r\nconst usergroups: {[userid: string]: string} = {};\r\nconst usergroupData = FS('config/usergroups.csv').readIfExistsSync().split('\\n');\r\nfor (const row of usergroupData) {\r\n\tif (!toID(row)) continue;\r\n\r\n\tconst cells = row.split(',');\r\n\tif (cells.length > 3) throw new Error(`Invalid entry when parsing usergroups.csv`);\r\n\tusergroups[toID(cells[0])] = cells[1].trim() || ' ';\r\n}\r\n\r\nexport function getName(name: string): string {\r\n\tconst userid = toID(name);\r\n\tif (!userid) throw new Error('No/Invalid name passed to getSymbol');\r\n\r\n\tconst group = usergroups[userid] || ' ';\r\n\treturn group + name;\r\n}\r\n\r\nexport const Conditions: {[k: string]: ConditionData} = {\r\n\talotofbees: {\r\n\t\tname: 'A Lot Of Bees',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('smoothrock')) {\r\n\t\t\t\treturn 8;\r\n\t\t\t}\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\tonWeatherModifyDamage(damage, attacker, defender, move) {\r\n\t\t\tif (defender.hasItem('utilityumbrella')) return;\r\n\t\t\tif (move.type === 'Bug') {\r\n\t\t\t\tthis.debug('bee bug boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tthis.add('-message', \"UNLEASH THE BEES!\");\r\n\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\r\n\t\t\t\tthis.add('-weather', 'A Lot Of Bees', '[from] ability: ' + effect.name, '[of] ' + source);\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-weather', 'A Lot Of Bees');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-weather', 'A Lot Of Bees', '[upkeep]');\r\n\t\t\tif (this.field.isWeather('alotofbees')) this.eachEvent('Weather');\r\n\t\t},\r\n\t\tonWeather(target) {\r\n\t\t\tif(target.hasAbility('honeyrush')) return;\r\n\t\t\tfor(const type of target.types) {\r\n\t\t\t\tif(['Bug', 'Ground', 'Rock', 'Steel'].includes(type)) return;\r\n\t\t\t}\r\n\t\t\tthis.add('-message', `${target.name} was stung by bees!`);\r\n\t\t\tthis.damage(target.baseMaxhp / 16);\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-message', \"The bees are leaving! Bye-bye, bees!\");\r\n\t\t\tthis.add('-weather', 'none', '[silent]');\r\n\t\t},\r\n\t},\r\n\tfakedynamax: {\r\n\t\tinherit: true,\r\n\t\tduration: null,\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.add('-start', pokemon, 'Dynamax', '[silent]');\r\n\t\t},\r\n\t\tonBeforeSwitchOutPriority: -1,\r\n\t\tonBeforeSwitchOut(pokemon) {\r\n\t\t\tpokemon.removeVolatile('fakedynamax');\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tthis.add('-end', pokemon, 'Dynamax', '[silent]');\r\n\t\t}\r\n\t},\r\n\tpsn: {\r\n\t\tinherit: true,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif (pokemon.hasAbility('heavypoison') || (pokemon.adjacentFoes().length > 0 && pokemon.adjacentFoes()[0].hasAbility('heavypoison'))) this.damage(pokemon.baseMaxhp / 4);\r\n\t\t\telse this.damage(pokemon.baseMaxhp / 8);\r\n\t\t},\r\n\t},\r\n\ttox: {\r\n\t\tinherit: true,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tlet factor = 1;\r\n\t\t\tif (pokemon.hasAbility('heavypoison') || (pokemon.adjacentFoes().length > 0 && pokemon.adjacentFoes()[0].hasAbility('heavypoison'))) factor = 2;\r\n\t\t\tif (this.effectState.stage < 15) {\r\n\t\t\t\tthis.effectState.stage++;\r\n\t\t\t}\r\n\t\t\tthis.damage(this.clampIntRange(pokemon.baseMaxhp / 16, 1) * this.effectState.stage * factor);\r\n\t\t},\r\n\t},\r\n\tlazy: {\r\n\t\tname: 'lazy',\r\n\t\teffectType: 'Status',\r\n\t\tonStart(target, source, sourceEffect) {\r\n\t\t\tthis.add('-message', `${target.name} grew tired of this game! It's taking a nap!`);\r\n\t\t\tif (sourceEffect && sourceEffect.effectType === 'Ability') {\r\n\t\t\t\tthis.add('-status', target, 'lazy', '[from] ability: ' + sourceEffect.name, `[of] ${source}`, '[silent]');\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-status', target, 'lazy', '[silent]');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBeforeMovePriority: 9,\r\n\t\tonBeforeMove(pokemon) {\r\n\t\t\tif (pokemon.removeVolatile('truant')) {\r\n\t\t\t\tthis.add(`c:|${Math.floor(Date.now() / 1000)}|${pokemon.name}|Just 5 more minutes...`);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tpokemon.addVolatile('truant');\r\n\t\t},\r\n\t},\r\n};\r\n"],
  "mappings": "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",
  "names": []
}
