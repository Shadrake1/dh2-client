{
  "version": 3,
  "sources": ["../../../../data/mods/maadowrlostzone/conditions.ts"],
  "sourcesContent": ["export const Conditions: {[k: string]: ConditionData} = {\r\n\tbrn: {\r\n\t\tname: 'brn',\r\n\t\teffectType: 'Status',\r\n\t\tonStart(target, source, sourceEffect) {\r\n\t\t\tif (sourceEffect && sourceEffect.id === 'flameorb') {\r\n\t\t\t\tthis.add('-status', target, 'brn', '[from] item: Flame Orb');\r\n\t\t\t} else if (sourceEffect && sourceEffect.effectType === 'Ability') {\r\n\t\t\t\tthis.add('-status', target, 'brn', '[from] ability: ' + sourceEffect.name, '[of] ' + source);\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-status', target, 'brn');\r\n\t\t\t}\r\n\t\t},\r\n\t\t// Damage reduction is handled directly in the sim/battle.js damage function\r\n\t\tonResidualOrder: 10,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tthis.damage(pokemon.baseMaxhp / 16);\r\n\t\t},\r\n\t},\r\n\tpar: {\r\n\t\tname: 'par',\r\n\t\teffectType: 'Status',\r\n\t\tonStart(target, source, sourceEffect) {\r\n\t\t\tif (sourceEffect && sourceEffect.effectType === 'Ability') {\r\n\t\t\t\tthis.add('-status', target, 'par', '[from] ability: ' + sourceEffect.name, '[of] ' + source);\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-status', target, 'par');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\t// Paralysis occurs after all other Speed modifiers, so evaluate all modifiers up to this point first\r\n\t\t\tspe = this.finalModify(spe);\r\n\t\t\tif (!pokemon.hasAbility('quickfeet')) {\r\n\t\t\t\tspe = Math.floor(spe * 50 / 100);\r\n\t\t\t}\r\n\t\t\treturn spe;\r\n\t\t},\r\n\t\tonBeforeMovePriority: 1,\r\n\t\tonBeforeMove(pokemon) {\r\n\t\t\tif (this.randomChance(1, 4) && !(pokemon.hasAbility('quickfeet'))) {\r\n\t\t\t\tthis.add('cant', pokemon, 'par');\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tslp: {\r\n\t\tname: 'slp',\r\n\t\teffectType: 'Status',\r\n\t\tonStart(target, source, sourceEffect) {\r\n\t\t\tif (sourceEffect && sourceEffect.effectType === 'Ability') {\r\n\t\t\t\tthis.add('-status', target, 'slp', '[from] ability: ' + sourceEffect.name, '[of] ' + source);\r\n\t\t\t} else if (sourceEffect && sourceEffect.effectType === 'Move') {\r\n\t\t\t\tthis.add('-status', target, 'slp', '[from] move: ' + sourceEffect.name);\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-status', target, 'slp');\r\n\t\t\t}\r\n\t\t\t// 1-3 turns\r\n\t\t\tthis.effectState.startTime = this.random(2, 5);\r\n\t\t\tthis.effectState.time = this.effectState.startTime;\r\n\r\n\t\t\tif (target.removeVolatile('nightmare')) {\r\n\t\t\t\tthis.add('-end', target, 'Nightmare', '[silent]');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBeforeMovePriority: 10,\r\n\t\tonBeforeMove(pokemon, target, move) {\r\n\t\t\tif (pokemon.hasAbility('earlybird')) {\r\n\t\t\t\tpokemon.statusState.time--;\r\n\t\t\t}\r\n\t\t\tpokemon.statusState.time--;\r\n\t\t\tif (pokemon.statusState.time <= 0) {\r\n\t\t\t\tpokemon.cureStatus();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.add('cant', pokemon, 'slp');\r\n\t\t\tif (move.sleepUsable) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t},\r\n\tfrz: {\r\n\t\tname: 'frz',\r\n\t\teffectType: 'Status',\r\n\t\tonStart(target, source, sourceEffect) {\r\n\t\t\tif (sourceEffect && sourceEffect.effectType === 'Ability') {\r\n\t\t\t\tthis.add('-status', target, 'frz', '[from] ability: ' + sourceEffect.name, '[of] ' + source);\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-status', target, 'frz');\r\n\t\t\t}\r\n\t\t\tif (target.species.name === 'Shaymin-Sky' && target.baseSpecies.baseSpecies === 'Shaymin') {\r\n\t\t\t\ttarget.formeChange('Shaymin', this.effect, true);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBeforeMovePriority: 10,\r\n\t\tonBeforeMove(pokemon, target, move) {\r\n\t\t\tif (move.flags['defrost']) return;\r\n\t\t\tif (this.randomChance(1, 5)) {\r\n\t\t\t\tpokemon.cureStatus();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.add('cant', pokemon, 'frz');\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonModifyMove(move, pokemon) {\r\n\t\t\tif (move.flags['defrost']) {\r\n\t\t\t\tthis.add('-curestatus', pokemon, 'frz', '[from] move: ' + move);\r\n\t\t\t\tpokemon.clearStatus();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAfterMoveSecondary(target, source, move) {\r\n\t\t\tif (move.thawsTarget) {\r\n\t\t\t\ttarget.cureStatus();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (move.type === 'Fire' && move.category !== 'Status') {\r\n\t\t\t\ttarget.cureStatus();\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tpsn: {\r\n\t\tname: 'psn',\r\n\t\teffectType: 'Status',\r\n\t\tonStart(target, source, sourceEffect) {\r\n\t\t\tif (sourceEffect && sourceEffect.effectType === 'Ability') {\r\n\t\t\t\tthis.add('-status', target, 'psn', '[from] ability: ' + sourceEffect.name, '[of] ' + source);\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-status', target, 'psn');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonResidualOrder: 9,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif (pokemon.volatiles['malwarepoisoned']) {\r\n\t\t\t\tthis.damage(pokemon.baseMaxhp / 16);\r\n\t\t\t} else {\r\n\t\t\t\tthis.damage(pokemon.baseMaxhp / 8);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\ttox: {\r\n\t\tname: 'tox',\r\n\t\teffectType: 'Status',\r\n\t\tonStart(target, source, sourceEffect) {\r\n\t\t\tthis.effectState.stage = 0;\r\n\t\t\tif (sourceEffect && sourceEffect.id === 'toxicorb') {\r\n\t\t\t\tthis.add('-status', target, 'tox', '[from] item: Toxic Orb');\r\n\t\t\t} else if (sourceEffect && sourceEffect.effectType === 'Ability') {\r\n\t\t\t\tthis.add('-status', target, 'tox', '[from] ability: ' + sourceEffect.name, '[of] ' + source);\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-status', target, 'tox');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSwitchIn() {\r\n\t\t\tthis.effectState.stage = 0;\r\n\t\t},\r\n\t\tonResidualOrder: 9,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif (this.effectState.stage < 15) {\r\n\t\t\t\tthis.effectState.stage++;\r\n\t\t\t}\r\n\t\t\tthis.damage(this.clampIntRange(pokemon.baseMaxhp / 16, 1) * this.effectState.stage);\r\n\t\t},\r\n\t},\r\n\tconfusion: {\r\n\t\tname: 'confusion',\r\n\t\t// this is a volatile status\r\n\t\tonStart(target, source, sourceEffect) {\r\n\t\t\tif (sourceEffect?.id === 'lockedmove') {\r\n\t\t\t\tthis.add('-start', target, 'confusion', '[fatigue]');\r\n\t\t\t} else if (sourceEffect?.effectType === 'Ability') {\r\n\t\t\t\tthis.add('-start', target, 'confusion', '[from] ability: ' + sourceEffect.name, '[of] ' + source);\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-start', target, 'confusion');\r\n\t\t\t}\r\n\t\t\tconst min = sourceEffect?.id === 'axekick' ? 3 : 2;\r\n\t\t\tthis.effectState.time = this.random(min, 6);\r\n\t\t},\r\n\t\tonEnd(target) {\r\n\t\t\tthis.add('-end', target, 'confusion');\r\n\t\t},\r\n\t\tonBeforeMovePriority: 3,\r\n\t\tonBeforeMove(pokemon) {\r\n\t\t\tpokemon.volatiles['confusion'].time--;\r\n\t\t\tif (!pokemon.volatiles['confusion'].time) {\r\n\t\t\t\tpokemon.removeVolatile('confusion');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.add('-activate', pokemon, 'confusion');\r\n\t\t\tif (!this.randomChance(33, 100)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.activeTarget = pokemon;\r\n\t\t\tconst damage = this.actions.getConfusionDamage(pokemon, 40);\r\n\t\t\tif (typeof damage !== 'number') throw new Error(\"Confusion damage not dealt\");\r\n\t\t\tconst activeMove = {id: this.toID('confused'), effectType: 'Move', type: '???'};\r\n\t\t\tthis.damage(damage, pokemon, pokemon, activeMove as ActiveMove);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t},\r\n\tflinch: {\r\n\t\tname: 'flinch',\r\n\t\tduration: 1,\r\n\t\tonBeforeMovePriority: 8,\r\n\t\tonBeforeMove(pokemon) {\r\n\t\t\tthis.add('cant', pokemon, 'flinch');\r\n\t\t\tthis.runEvent('Flinch', pokemon);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t},\r\n\ttrapped: {\r\n\t\tname: 'trapped',\r\n\t\tnoCopy: true,\r\n\t\tonTrapPokemon(pokemon) {\r\n\t\t\tpokemon.tryTrap();\r\n\t\t},\r\n\t\tonStart(target) {\r\n\t\t\tthis.add('-activate', target, 'trapped');\r\n\t\t},\r\n\t},\r\n\ttrapper: {\r\n\t\tname: 'trapper',\r\n\t\tnoCopy: true,\r\n\t},\r\n\tpartiallytrapped: {\r\n\t\tname: 'partiallytrapped',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(target, source) {\r\n\t\t\tif (source?.hasItem('gripclaw')) return 8;\r\n\t\t\treturn this.random(5, 7);\r\n\t\t},\r\n\t\tonStart(pokemon, source) {\r\n\t\t\tthis.add('-activate', pokemon, 'move: ' + this.effectState.sourceEffect, '[of] ' + source);\r\n\t\t\tthis.effectState.boundDivisor = source.hasItem('bindingband') ? 6 : 8;\r\n\t\t},\r\n\t\tonResidualOrder: 13,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tconst source = this.effectState.source;\r\n\t\t\t// G-Max Centiferno and G-Max Sandblast continue even after the user leaves the field\r\n\t\t\tconst gmaxEffect = ['gmaxcentiferno', 'gmaxsandblast'].includes(this.effectState.sourceEffect.id);\r\n\t\t\tif (source && (!source.isActive || source.hp <= 0 || !source.activeTurns) && !gmaxEffect) {\r\n\t\t\t\tdelete pokemon.volatiles['partiallytrapped'];\r\n\t\t\t\tthis.add('-end', pokemon, this.effectState.sourceEffect, '[partiallytrapped]', '[silent]');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.damage(pokemon.baseMaxhp / this.effectState.boundDivisor);\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tthis.add('-end', pokemon, this.effectState.sourceEffect, '[partiallytrapped]');\r\n\t\t},\r\n\t\tonTrapPokemon(pokemon) {\r\n\t\t\tconst gmaxEffect = ['gmaxcentiferno', 'gmaxsandblast'].includes(this.effectState.sourceEffect.id);\r\n\t\t\tif (this.effectState.source?.isActive || gmaxEffect) pokemon.tryTrap();\r\n\t\t},\r\n\t},\r\n\tlockedmove: {\r\n\t\t// Outrage, Thrash, Petal Dance...\r\n\t\tname: 'lockedmove',\r\n\t\tduration: 2,\r\n\t\tonResidual(target) {\r\n\t\t\tif (target.status === 'slp') {\r\n\t\t\t\t// don't lock, and bypass confusion for calming\r\n\t\t\t\tdelete target.volatiles['lockedmove'];\r\n\t\t\t}\r\n\t\t\tthis.effectState.trueDuration--;\r\n\t\t},\r\n\t\tonStart(target, source, effect) {\r\n\t\t\tthis.effectState.trueDuration = this.random(2, 4);\r\n\t\t\tthis.effectState.move = effect.id;\r\n\t\t},\r\n\t\tonRestart() {\r\n\t\t\tif (this.effectState.trueDuration >= 2) {\r\n\t\t\t\tthis.effectState.duration = 2;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(target) {\r\n\t\t\tif (this.effectState.trueDuration > 1) return;\r\n\t\t\ttarget.addVolatile('confusion');\r\n\t\t},\r\n\t\tonLockMove(pokemon) {\r\n\t\t\tif (pokemon.volatiles['dynamax']) return;\r\n\t\t\treturn this.effectState.move;\r\n\t\t},\r\n\t},\r\n\ttwoturnmove: {\r\n\t\t// Skull Bash, SolarBeam, Sky Drop...\r\n\t\tname: 'twoturnmove',\r\n\t\tduration: 2,\r\n\t\tonStart(attacker, defender, effect) {\r\n\t\t\t// (\"attacker\" is the Pokemon using the two turn move and the Pokemon this condition is being applied to)\r\n\t\t\tthis.effectState.move = effect.id;\r\n\t\t\tattacker.addVolatile(effect.id);\r\n\t\t\t// lastMoveTargetLoc is the location of the originally targeted slot before any redirection\r\n\t\t\t// note that this is not updated for moves called by other moves\r\n\t\t\t// i.e. if Dig is called by Metronome, lastMoveTargetLoc will still be the user's location\r\n\t\t\tlet moveTargetLoc: number = attacker.lastMoveTargetLoc!;\r\n\t\t\tif (effect.sourceEffect && this.dex.moves.get(effect.id).target !== 'self') {\r\n\t\t\t\t// this move was called by another move such as Metronome\r\n\t\t\t\t// and needs a random target to be determined this turn\r\n\t\t\t\t// it will already have one by now if there is any valid target\r\n\t\t\t\t// but if there isn't one we need to choose a random slot now\r\n\t\t\t\tif (defender.fainted) {\r\n\t\t\t\t\tdefender = this.sample(attacker.foes(true));\r\n\t\t\t\t}\r\n\t\t\t\tmoveTargetLoc = attacker.getLocOf(defender);\r\n\t\t\t}\r\n\t\t\tattacker.volatiles[effect.id].targetLoc = moveTargetLoc;\r\n\t\t\tthis.attrLastMove('[still]');\r\n\t\t\t// Run side-effects normally associated with hitting (e.g., Protean, Libero)\r\n\t\t\tthis.runEvent('PrepareHit', attacker, defender, effect);\r\n\t\t},\r\n\t\tonEnd(target) {\r\n\t\t\ttarget.removeVolatile(this.effectState.move);\r\n\t\t},\r\n\t\tonLockMove() {\r\n\t\t\treturn this.effectState.move;\r\n\t\t},\r\n\t\tonMoveAborted(pokemon) {\r\n\t\t\tpokemon.removeVolatile('twoturnmove');\r\n\t\t},\r\n\t},\r\n\tchoicelock: {\r\n\t\tname: 'choicelock',\r\n\t\tnoCopy: true,\r\n\t\tonStart(pokemon) {\r\n\t\t\tif (!this.activeMove) throw new Error(\"Battle.activeMove is null\");\r\n\t\t\tif (!this.activeMove.id || this.activeMove.hasBounced || this.activeMove.sourceEffect === 'snatch') return false;\r\n\t\t\tthis.effectState.move = this.activeMove.id;\r\n\t\t},\r\n\t\tonBeforeMove(pokemon, target, move) {\r\n\t\t\tif (!pokemon.getItem().isChoice) {\r\n\t\t\t\tpokemon.removeVolatile('choicelock');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (\r\n\t\t\t\t!pokemon.ignoringItem() && !pokemon.volatiles['dynamax'] &&\r\n\t\t\t\tmove.id !== this.effectState.move && move.id !== 'struggle'\r\n\t\t\t) {\r\n\t\t\t\t// Fails unless the Choice item is being ignored, and no PP is lost\r\n\t\t\t\tthis.addMove('move', pokemon, move.name);\r\n\t\t\t\tthis.attrLastMove('[still]');\r\n\t\t\t\tthis.debug(\"Disabled by Choice item lock\");\r\n\t\t\t\tthis.add('-fail', pokemon);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonDisableMove(pokemon) {\r\n\t\t\tif (!pokemon.getItem().isChoice || !pokemon.hasMove(this.effectState.move)) {\r\n\t\t\t\tpokemon.removeVolatile('choicelock');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (pokemon.ignoringItem() || pokemon.volatiles['dynamax']) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tfor (const moveSlot of pokemon.moveSlots) {\r\n\t\t\t\tif (moveSlot.id !== this.effectState.move) {\r\n\t\t\t\t\tpokemon.disableMove(moveSlot.id, false, this.effectState.sourceEffect);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tmustrecharge: {\r\n\t\tname: 'mustrecharge',\r\n\t\tduration: 2,\r\n\t\tonBeforeMovePriority: 11,\r\n\t\tonBeforeMove(pokemon) {\r\n\t\t\tthis.add('cant', pokemon, 'recharge');\r\n\t\t\tpokemon.removeVolatile('mustrecharge');\r\n\t\t\tpokemon.removeVolatile('truant');\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.add('-mustrecharge', pokemon);\r\n\t\t},\r\n\t\tonLockMove: 'recharge',\r\n\t},\r\n\tfuturemove: {\r\n\t\t// this is a slot condition\r\n\t\tname: 'futuremove',\r\n\t\tduration: 3,\r\n\t\tonResidualOrder: 3,\r\n\t\tonEnd(target) {\r\n\t\t\tconst data = this.effectState;\r\n\t\t\t// time's up; time to hit! :D\r\n\t\t\tconst move = this.dex.moves.get(data.move);\r\n\t\t\tif (target.fainted || target === data.source) {\r\n\t\t\t\tthis.hint(`${move.name} did not hit because the target is ${(target.fainted ? 'fainted' : 'the user')}.`);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.add('-end', target, 'move: ' + move.name);\r\n\t\t\ttarget.removeVolatile('Protect');\r\n\t\t\ttarget.removeVolatile('Endure');\r\n\r\n\t\t\tif (data.source.hasAbility('infiltrator') && this.gen >= 6) {\r\n\t\t\t\tdata.moveData.infiltrates = true;\r\n\t\t\t}\r\n\t\t\tif (data.source.hasAbility('normalize') && this.gen >= 6) {\r\n\t\t\t\tdata.moveData.type = 'Normal';\r\n\t\t\t}\r\n\t\t\tconst hitMove = new this.dex.Move(data.moveData) as ActiveMove;\r\n\r\n\t\t\tthis.actions.trySpreadMoveHit([target], data.source, hitMove, true);\r\n\t\t\tif (data.source.isActive && data.source.hasItem('lifeorb') && this.gen >= 5) {\r\n\t\t\t\tthis.singleEvent('AfterMoveSecondarySelf', data.source.getItem(), data.source.itemState, data.source, target, data.source.getItem());\r\n\t\t\t}\r\n\t\t\tthis.activeMove = null;\r\n\r\n\t\t\tthis.checkWin();\r\n\t\t},\r\n\t},\r\n\thealreplacement: {\r\n\t\t// this is a slot condition\r\n\t\tname: 'healreplacement',\r\n\t\tonStart(target, source, sourceEffect) {\r\n\t\t\tthis.effectState.sourceEffect = sourceEffect;\r\n\t\t\tthis.add('-activate', source, 'healreplacement');\r\n\t\t},\r\n\t\tonSwitchInPriority: 1,\r\n\t\tonSwitchIn(target) {\r\n\t\t\tif (!target.fainted) {\r\n\t\t\t\ttarget.heal(target.maxhp);\r\n\t\t\t\tthis.add('-heal', target, target.getHealth, '[from] move: ' + this.effectState.sourceEffect, '[zeffect]');\r\n\t\t\t\ttarget.side.removeSlotCondition(target, 'healreplacement');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tstall: {\r\n\t\t// Protect, Detect, Endure counter\r\n\t\tname: 'stall',\r\n\t\tduration: 2,\r\n\t\tcounterMax: 729,\r\n\t\tonStart() {\r\n\t\t\tthis.effectState.counter = 3;\r\n\t\t},\r\n\t\tonStallMove(pokemon) {\r\n\t\t\t// this.effectState.counter should never be undefined here.\r\n\t\t\t// However, just in case, use 1 if it is undefined.\r\n\t\t\tconst counter = this.effectState.counter || 1;\r\n\t\t\tthis.debug(\"Success chance: \" + Math.round(100 / counter) + \"%\");\r\n\t\t\tconst success = this.randomChance(1, counter);\r\n\t\t\tif (!success) delete pokemon.volatiles['stall'];\r\n\t\t\treturn success;\r\n\t\t},\r\n\t\tonRestart() {\r\n\t\t\tif (this.effectState.counter < (this.effect as Condition).counterMax!) {\r\n\t\t\t\tthis.effectState.counter *= 3;\r\n\t\t\t}\r\n\t\t\tthis.effectState.duration = 2;\r\n\t\t},\r\n\t},\r\n\r\n\tgem: {\r\n\t\tname: 'gem',\r\n\t\tduration: 1,\r\n\t\taffectsFainted: true,\r\n\t\tonBasePowerPriority: 14,\r\n\t\tonBasePower(basePower, user, target, move) {\r\n\t\t\tthis.debug('Gem Boost');\r\n\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t},\r\n\t},\r\n\r\n\t// weather is implemented here since it's so important to the game\r\n\r\n\traindance: {\r\n\t\tname: 'RainDance',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('damprock')) {\r\n\t\t\t\treturn 8;\r\n\t\t\t}\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\tonWeatherModifyDamage(damage, attacker, defender, move) {\r\n\t\t\tif (move.id === 'incandescentflame' && !attacker.hasItem('utilityumbrella')) {\r\n\t\t\t\tthis.debug('rain Incandescent Flame boost');\r\n\t\t\t\treturn this.chainModify(1);\r\n\t\t\t}\r\n\t\t\tif (defender.hasItem('utilityumbrella')) return;\r\n\t\t\tif (move.type === 'Water') {\r\n\t\t\t\tthis.debug('rain water boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t\tif (move.type === 'Fire') {\r\n\t\t\t\tthis.debug('rain fire suppress');\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\r\n\t\t\t\tthis.add('-weather', 'RainDance', '[from] ability: ' + effect.name, '[of] ' + source);\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-weather', 'RainDance');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-weather', 'RainDance', '[upkeep]');\r\n\t\t\tthis.eachEvent('Weather');\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-weather', 'none');\r\n\t\t},\r\n\t},\r\n\tprimordialsea: {\r\n\t\tname: 'PrimordialSea',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 0,\r\n\t\tonTryMovePriority: 1,\r\n\t\tonTryMove(attacker, defender, move) {\r\n\t\t\tif (move.type === 'Fire' && move.id !== 'incandescentflame' && move.category !== 'Status') {\r\n\t\t\t\tthis.debug('Primordial Sea fire suppress');\r\n\t\t\t\tthis.add('-fail', attacker, move, '[from] Primordial Sea');\r\n\t\t\t\tthis.attrLastMove('[still]');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonWeatherModifyDamage(damage, attacker, defender, move) {\r\n\t\t\tif (defender.hasItem('utilityumbrella')) return;\r\n\t\t\tif (move.type === 'Water') {\r\n\t\t\t\tthis.debug('Rain water boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tthis.add('-weather', 'PrimordialSea', '[from] ability: ' + effect.name, '[of] ' + source);\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-weather', 'PrimordialSea', '[upkeep]');\r\n\t\t\tthis.eachEvent('Weather');\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-weather', 'none');\r\n\t\t},\r\n\t},\r\n\tsunnyday: {\r\n\t\tname: 'SunnyDay',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('heatrock')) {\r\n\t\t\t\treturn 8;\r\n\t\t\t}\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\tonWeatherModifyDamage(damage, attacker, defender, move) {\r\n\t\t\tif (move.id === 'hydrosteam' && !attacker.hasItem('utilityumbrella')) {\r\n\t\t\t\tthis.debug('Sunny Day Hydro Steam boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t\tif (defender.hasItem('utilityumbrella')) return;\r\n\t\t\tif (move.type === 'Fire') {\r\n\t\t\t\tthis.debug('Sunny Day fire boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t\tif (move.type === 'Water') {\r\n\t\t\t\tthis.debug('Sunny Day water suppress');\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFieldStart(battle, source, effect) {\r\n\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\r\n\t\t\t\tthis.add('-weather', 'SunnyDay', '[from] ability: ' + effect.name, '[of] ' + source);\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-weather', 'SunnyDay');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonImmunity(type, pokemon) {\r\n\t\t\tif (pokemon.hasItem('utilityumbrella')) return;\r\n\t\t\tif (type === 'frz') return false;\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-weather', 'SunnyDay', '[upkeep]');\r\n\t\t\tthis.eachEvent('Weather');\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-weather', 'none');\r\n\t\t},\r\n\t},\r\n\tdesolateland: {\r\n\t\tname: 'DesolateLand',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 0,\r\n\t\tonTryMovePriority: 1,\r\n\t\tonTryMove(attacker, defender, move) {\r\n\t\t\tif (move.type === 'Water' && move.category !== 'Status') {\r\n\t\t\t\tthis.debug('Desolate Land water suppress');\r\n\t\t\t\tthis.add('-fail', attacker, move, '[from] Desolate Land');\r\n\t\t\t\tthis.attrLastMove('[still]');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonWeatherModifyDamage(damage, attacker, defender, move) {\r\n\t\t\tif (defender.hasItem('utilityumbrella')) return;\r\n\t\t\tif (move.type === 'Fire') {\r\n\t\t\t\tthis.debug('Sunny Day fire boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tthis.add('-weather', 'DesolateLand', '[from] ability: ' + effect.name, '[of] ' + source);\r\n\t\t},\r\n\t\tonImmunity(type, pokemon) {\r\n\t\t\tif (pokemon.hasItem('utilityumbrella')) return;\r\n\t\t\tif (type === 'frz') return false;\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-weather', 'DesolateLand', '[upkeep]');\r\n\t\t\tthis.eachEvent('Weather');\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-weather', 'none');\r\n\t\t},\r\n\t},\r\n\tsandstorm: {\r\n\t\tname: 'Sandstorm',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('smoothrock')) {\r\n\t\t\t\treturn 8;\r\n\t\t\t}\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\t// This should be applied directly to the stat before any of the other modifiers are chained\r\n\t\t// So we give it increased priority.\r\n\t\tonModifySpDPriority: 10,\r\n\t\tonModifySpD(spd, pokemon) {\r\n\t\t\tif (pokemon.hasType('Rock') && this.field.isWeather('sandstorm')) {\r\n\t\t\t\treturn this.modify(spd, 1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\r\n\t\t\t\tthis.add('-weather', 'Sandstorm', '[from] ability: ' + effect.name, '[of] ' + source);\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-weather', 'Sandstorm');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-weather', 'Sandstorm', '[upkeep]');\r\n\t\t\tif (this.field.isWeather('sandstorm')) this.eachEvent('Weather');\r\n\t\t},\r\n\t\tonWeather(target) {\r\n\t\t\tthis.damage(target.baseMaxhp / 16);\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-weather', 'none');\r\n\t\t},\r\n\t},\r\n\t// start: Lost Zone\r\n\tdesertgales: {\r\n\t\tname: 'Desert Gales',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('smoothrock')) {\r\n\t\t\t\treturn 8;\r\n\t\t\t}\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\r\n\t\t\t\tthis.add('-ability', source, 'Desert Gales');\r\n\t\t\t\tthis.add('-weather', 'Desert Gales', '[silent]');\r\n\t\t\t\tthis.add('-message', `Desert gales kicked up!`);\r\n\t\t\t\tthis.add('-message', \"Normal-type moves will become Ground-type.\");\r\n\t\t\t\tthis.add('-message', \"Rock-, Ground- and Steel-type moves will also have their power increased.\");\r\n\t\t\t\tthis.add('-message', \"Other weather-related moves and Abilities will behave as they do in sandstorm.\");\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-weather', 'Desert Gales', '[silent]');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyTypePriority: -1,\r\n\t\tonModifyType(move, pokemon) {\r\n\t\t\tconst noModifyType = [\r\n\t\t\t\t'colourmegone', 'judgment', 'multiattack', 'naturalgift', 'pincerattack', 'revelationdance', 'schadenfreude', 'seasonalantlers', 'technoblast', 'terrainpulse', 'weatherball',\r\n\t\t\t];\r\n\t\t\tif (move.type === 'Normal' && !noModifyType.includes(move.id) && !move.isZ && move.category !== 'Status') {\r\n\t\t\t\tmove.type = 'Ground';\r\n\t\t\t\tthis.add('-message', `${move.name} became ${move.type}-type in the desert gales!`);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonWeatherModifyDamage(damage, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Rock' || move.type === 'Ground' || move.type === 'Steel') {\r\n\t\t\t\tthis.debug('Desert Gales boost');\r\n\t\t\t\tthis.add('-message', `${move.name} was powered up by the desert gales!`);\r\n\t\t\t\treturn this.chainModify([0x1333, 0x1000]);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonResidual() {\r\n\t\t\tthis.add('-weather', 'Desert Gales', '[upkeep]');\r\n\t\t\tthis.add('-message', `The desert gales are raging!`);\r\n\t\t\tthis.eachEvent('Weather');\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-weather', 'none', '[silent]');\r\n\t\t\tthis.add('-message', `The desert gales subsided!`);\r\n\t\t},\r\n\t},\r\n\t// end\r\n\r\n\thail: {\r\n\t\tname: 'Hail',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('icyrock')) {\r\n\t\t\t\treturn 8;\r\n\t\t\t}\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\r\n\t\t\t\tthis.add('-weather', 'Hail', '[from] ability: ' + effect.name, '[of] ' + source);\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-weather', 'Hail');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-weather', 'Hail', '[upkeep]');\r\n\t\t\tif (this.field.isWeather('hail')) this.eachEvent('Weather');\r\n\t\t},\r\n\t\tonWeather(target) {\r\n\t\t\t// Check if the target's side has the Fimbulvetr condition\r\n\t\t\tif (target.side.getSideCondition('fimbulvetr')) {\r\n\t\t\t\t// Deal 1/8 of max HP if Fimbulvetr is active\r\n\t\t\t\tthis.damage(target.baseMaxhp / 8);\r\n\t\t\t} else {\r\n\t\t\t\t// Otherwise, deal 1/16 of max HP\r\n\t\t\t\tthis.damage(target.baseMaxhp / 16);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-weather', 'none');\r\n\t\t},\r\n\t\t// start: New function to modify damage for Ice-types\r\n\t\tonModifyDamage(damage, pokemon, source, move) {\r\n\t\t\t// Check if Hail is active and if the Pok\u00E9mon is Ice-type\r\n\t\t\tif (this.field.isWeather('hail') && pokemon.hasType('Ice') && pokemon.getMoveHitData(move).typeMod > 0) {\r\n\t\t\t\tthis.debug('Hail reduces damage for Ice-type from super effective hit');\r\n\t\t\t\treturn this.chainModify(0.75); // Reduce damage by 25%\r\n\t\t\t}\r\n\t\t},\r\n\t\t// end\r\n\t},\r\n\tsnow: {\r\n\t\tname: 'Snow',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('icyrock')) {\r\n\t\t\t\treturn 8;\r\n\t\t\t}\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\tonModifyDefPriority: 10,\r\n\t\tonModifyDef(def, pokemon) {\r\n\t\t\tif (pokemon.hasType('Ice') && this.field.isWeather('snow')) {\r\n\t\t\t\treturn this.modify(def, 1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tif (effect?.effectType === 'Ability') {\r\n\t\t\t\tif (this.gen <= 5) this.effectState.duration = 0;\r\n\t\t\t\tthis.add('-weather', 'Snow', '[from] ability: ' + effect.name, '[of] ' + source);\r\n\t\t\t} else {\r\n\t\t\t\tthis.add('-weather', 'Snow');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-weather', 'Snow', '[upkeep]');\r\n\t\t\tif (this.field.isWeather('snow')) this.eachEvent('Weather');\r\n\t\t},\r\n\t\tonWeather(target) {\r\n\t\t\t// Check if the target's side has the Fimbulvetr condition\r\n\t\t\tif (target.side.getSideCondition('fimbulvetr')) {\r\n\t\t\t\t// Deal 1/8 of max HP if Fimbulvetr is active\r\n\t\t\t\tthis.damage(target.baseMaxhp / 8);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-weather', 'none');\r\n\t\t},\r\n\t},\r\n\tdeltastream: {\r\n\t\tname: 'DeltaStream',\r\n\t\teffectType: 'Weather',\r\n\t\tduration: 0,\r\n\t\tonEffectivenessPriority: -1,\r\n\t\tonEffectiveness(typeMod, target, type, move) {\r\n\t\t\tif (move && move.effectType === 'Move' && move.category !== 'Status' && type === 'Flying' && typeMod > 0) {\r\n\t\t\t\tthis.add('-fieldactivate', 'Delta Stream');\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tthis.add('-weather', 'DeltaStream', '[from] ability: ' + effect.name, '[of] ' + source);\r\n\t\t},\r\n\t\tonFieldResidualOrder: 1,\r\n\t\tonFieldResidual() {\r\n\t\t\tthis.add('-weather', 'DeltaStream', '[upkeep]');\r\n\t\t\tthis.eachEvent('Weather');\r\n\t\t},\r\n\t\tonFieldEnd() {\r\n\t\t\tthis.add('-weather', 'none');\r\n\t\t},\r\n\t},\r\n\r\n\tdynamax: {\r\n\t\tname: 'Dynamax',\r\n\t\tnoCopy: true,\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.effectState.turns = 0;\r\n\t\t\tpokemon.removeVolatile('minimize');\r\n\t\t\tpokemon.removeVolatile('substitute');\r\n\t\t\tif (pokemon.volatiles['torment']) {\r\n\t\t\t\tdelete pokemon.volatiles['torment'];\r\n\t\t\t\tthis.add('-end', pokemon, 'Torment', '[silent]');\r\n\t\t\t}\r\n\t\t\tif (['cramorantgulping', 'cramorantgorging'].includes(pokemon.species.id) && !pokemon.transformed) {\r\n\t\t\t\tpokemon.formeChange('cramorant');\r\n\t\t\t}\r\n\t\t\tthis.add('-start', pokemon, 'Dynamax', pokemon.gigantamax ? 'Gmax' : '');\r\n\t\t\tif (pokemon.baseSpecies.name === 'Shedinja') return;\r\n\r\n\t\t\t// Changes based on dynamax level, 2 is max (at LVL 10)\r\n\t\t\tconst ratio = 1.5 + (pokemon.dynamaxLevel * 0.05);\r\n\r\n\t\t\tpokemon.maxhp = Math.floor(pokemon.maxhp * ratio);\r\n\t\t\tpokemon.hp = Math.floor(pokemon.hp * ratio);\r\n\t\t\tthis.add('-heal', pokemon, pokemon.getHealth, '[silent]');\r\n\t\t},\r\n\t\tonTryAddVolatile(status, pokemon) {\r\n\t\t\tif (status.id === 'flinch') return null;\r\n\t\t},\r\n\t\tonBeforeSwitchOutPriority: -1,\r\n\t\tonBeforeSwitchOut(pokemon) {\r\n\t\t\tpokemon.removeVolatile('dynamax');\r\n\t\t},\r\n\t\tonSourceModifyDamage(damage, source, target, move) {\r\n\t\t\tif (move.id === 'behemothbash' || move.id === 'behemothblade' || move.id === 'dynamaxcannon') {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonDragOutPriority: 2,\r\n\t\tonDragOut(pokemon) {\r\n\t\t\tthis.add('-block', pokemon, 'Dynamax');\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\tonResidualPriority: -100,\r\n\t\tonResidual() {\r\n\t\t\tthis.effectState.turns++;\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tthis.add('-end', pokemon, 'Dynamax');\r\n\t\t\tif (pokemon.baseSpecies.name === 'Shedinja') return;\r\n\t\t\tpokemon.hp = pokemon.getUndynamaxedHP();\r\n\t\t\tpokemon.maxhp = pokemon.baseMaxhp;\r\n\t\t\tthis.add('-heal', pokemon, pokemon.getHealth, '[silent]');\r\n\t\t},\r\n\t},\r\n\r\n\r\n\t// start: Generational Feature\r\n\tdolorakiumtrigger: {\r\n\t\tname: 'Dolorakium Trigger',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.baseSpecies.baseSpecies === 'Dolorak' && pokemon.hasItem('dolorakium') && !pokemon.volatiles['dolorakiumeffect']) {\r\n\t\t\t\tpokemon.addVolatile('dolorakiumeffect');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tdolorakiumeffect: {\r\n\t\tname: 'Dolorakium Effect',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(source) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const pokemon of this.getAllActive()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-activate', source, 'Dolorakium Effect', '[silent]');\r\n\t\t\t\t}\r\n\t\t\t\tactivated = true;\r\n\t\t\t\tif (!pokemon.volatiles['dolorak']) {\r\n\t\t\t\t\tpokemon.addVolatile('dolorak');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchIn(pokemon) {\r\n\t\t\tif (!pokemon.volatiles['dolorak']) {\r\n\t\t\t\tpokemon.addVolatile('dolorak');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyDragOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.baseSpecies.baseSpecies === 'Dolorak' && target.hasItem('dolorakium') && target.volatiles['dolorakiumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['dolorak']) {\r\n\t\t\t\t\ttarget.removeVolatile('dolorak');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.baseSpecies.baseSpecies === 'Dolorak' && target.hasItem('dolorakium') && target.volatiles['dolorakiumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['dolorak']) {\r\n\t\t\t\t\ttarget.removeVolatile('dolorak');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.baseSpecies.baseSpecies === 'Dolorak' && target.hasItem('dolorakium') && target.volatiles['dolorakiumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['dolorak']) {\r\n\t\t\t\t\ttarget.removeVolatile('dolorak');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFaint(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.baseSpecies.baseSpecies === 'Dolorak' && target.hasItem('dolorakium') && target.volatiles['dolorakiumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['dolorak']) {\r\n\t\t\t\t\ttarget.removeVolatile('dolorak');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tdolorak: {\r\n\t\tname: 'Dolorak',\r\n\t\tnoCopy: true,\r\n\t\tonModifyCritRatio(critRatio, source) {\r\n\t\t\tif (source.volatiles['lzstartersystem']) {\r\n\t\t\t\treturn critRatio + 1;\r\n\t\t\t}\r\n\t\t//\treturn critRatio + 1;\r\n\t\t},\r\n\t},\r\n\t//\r\n\tqwilinhiumtrigger: {\r\n\t\tname: 'Qwilinhium Trigger',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.species.name === 'Qwilinh-Ascend' && pokemon.hasItem('qwilinhium') && !pokemon.volatiles['qwilinhiumeffect']) {\r\n\t\t\t\tpokemon.addVolatile('qwilinhiumeffect');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tqwilinhiumeffect: {\r\n\t\tname: 'Qwilinhium Effect',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(source) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const pokemon of this.getAllActive()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-activate', source, 'Qwilinhium Effect', '[silent]');\r\n\t\t\t\t}\r\n\t\t\t\tactivated = true;\r\n\t\t\t\tif (!pokemon.volatiles['qwilinh']) {\r\n\t\t\t\t\tpokemon.addVolatile('qwilinh');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchIn(pokemon) {\r\n\t\t\tif (!pokemon.volatiles['qwilinh']) {\r\n\t\t\t\tpokemon.addVolatile('qwilinh');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyDragOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.species.name === 'Qwilinh-Ascend' && target.hasItem('qwilinhium') && target.volatiles['qwilinhiumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\ttarget.removeVolatile('qwilinh');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.species.name === 'Qwilinh-Ascend' && target.hasItem('qwilinhium') && target.volatiles['qwilinhiumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\ttarget.removeVolatile('qwilinh');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.species.name === 'Qwilinh-Ascend' && target.hasItem('qwilinhium') && target.volatiles['qwilinhiumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\ttarget.removeVolatile('qwilinh');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFaint(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.species.name === 'Qwilinh-Ascend' && target.hasItem('qwilinhium') && target.volatiles['qwilinhiumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\ttarget.removeVolatile('qwilinh');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tqwilinh: {\r\n\t\tname: 'Qwilinh',\r\n\t\tnoCopy: true,\r\n\t\tonSourceModifyDamage(damage, source, target, move) {\r\n\t\t\tconst stats: (keyof BoostsTable)[] = ['atk', 'def', 'spa', 'spd', 'spe', 'accuracy', 'evasion'];\r\n        \tconst hasNegativeStatDrop = stats.some(stat => (target.boosts[stat] ?? 0) < 0);\r\n        \r\n        \tif (hasNegativeStatDrop && !target.volatiles['lzstartersystem']) {\r\n            \tthis.debug('Qwilinh weaken');\r\n            \treturn this.chainModify(0.75);\r\n        \t}\r\n\t\t},\r\n\t},\r\n\t//\r\n\tsentinoyliumtrigger: {\r\n\t\tname: 'Sentinoylium Trigger',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.species.name === 'Sentinoyle-Ascend' && pokemon.hasItem('sentinoylium') && !pokemon.volatiles['sentinoyliumeffect']) {\r\n\t\t\t\tpokemon.addVolatile('sentinoyliumeffect');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tsentinoyliumeffect: {\r\n\t\tname: 'Sentinoylium Effect',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(source) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const pokemon of this.getAllActive()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-activate', source, 'Sentinoylium Effect', '[silent]');\r\n\t\t\t\t}\r\n\t\t\t\tactivated = true;\r\n\t\t\t\tif (!pokemon.volatiles['sentinoyle']) {\r\n\t\t\t\t\tpokemon.addVolatile('sentinoyle');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchIn(pokemon) {\r\n\t\t\tif (!pokemon.volatiles['sentinoyle']) {\r\n\t\t\t\tpokemon.addVolatile('sentinoyle');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyDragOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.baseSpecies.baseSpecies === 'Sentinoyle' && target.hasItem('sentinoylium') && target.volatiles['sentinoyliumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\ttarget.removeVolatile('sentinoyle');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.baseSpecies.baseSpecies === 'Sentinoyle' && target.hasItem('sentinoylium') && target.volatiles['sentinoyliumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\ttarget.removeVolatile('sentinoyle');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.baseSpecies.baseSpecies === 'Sentinoyle' && target.hasItem('sentinoylium') && target.volatiles['sentinoyliumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\ttarget.removeVolatile('sentinoyle');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFaint(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.baseSpecies.baseSpecies === 'Sentinoyle' && target.hasItem('sentinoylium') && target.volatiles['sentinoyliumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\ttarget.removeVolatile('sentinoyle');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tsentinoyle: {\r\n\t\tname: 'Sentinoyle',\r\n\t\tnoCopy: true,\r\n\t\tonChangeBoost(boost: Partial<BoostsTable>, target: Pokemon, source: Pokemon | null, effect: Effect) {\r\n\t\t\tif (target.volatiles['lzstartersystem']) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet showMsg = false;\r\n\t\t\tfor (const stat in boost) {\r\n\t\t\t\tif (stat in boost && typeof boost[stat as keyof BoostsTable] === 'number' && boost[stat as keyof BoostsTable]! > 0) {\r\n\t\t\t\t\tdelete boost[stat as keyof BoostsTable];\r\n\t\t\t\t\tshowMsg = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (showMsg) {\r\n\t\t\t\tthis.add('-fail', target, 'unboost', '[from] volatile: Sentinoylium Effect');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\t//\r\n\trampardiumtrigger: {\r\n\t\tname: 'Rampardium Trigger',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.baseSpecies.baseSpecies === 'Rampardos' && pokemon.hasItem('rampardium') && !pokemon.volatiles['rampardiumeffect']) {\r\n\t\t\t\tpokemon.addVolatile('rampardiumeffect');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\trampardiumeffect: {\r\n\t\tname: 'Rampardium Effect',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(source) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const pokemon of this.getAllActive()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-activate', source, 'Rampardium Effect', '[silent]');\r\n\t\t\t\t}\r\n\t\t\t\tactivated = true;\r\n\t\t\t\tif (!pokemon.volatiles['rampardos']) {\r\n\t\t\t\t\tpokemon.addVolatile('rampardos');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchIn(pokemon) {\r\n\t\t\tif (!pokemon.volatiles['rampardos']) {\r\n\t\t\t\tpokemon.addVolatile('rampardos');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyDragOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.baseSpecies.baseSpecies === 'Rampardos' && target.hasItem('rampardium') && target.volatiles['rampardiumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\ttarget.removeVolatile('rampardos');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.baseSpecies.baseSpecies === 'Rampardos' && target.hasItem('rampardium') && target.volatiles['rampardiumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\ttarget.removeVolatile('rampardos');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.baseSpecies.baseSpecies === 'Rampardos' && target.hasItem('rampardium') && target.volatiles['rampardiumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\ttarget.removeVolatile('rampardos');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFaint(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.baseSpecies.baseSpecies === 'Rampardos' && target.hasItem('rampardium') && target.volatiles['rampardiumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\ttarget.removeVolatile('rampardos');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\trampardos: {\r\n\t\tname: 'Rampardos',\r\n\t\tnoCopy: true,\r\n\t\tonModifyDamage(damage, source, target, move) {\r\n\t\t\tif (move && target.getMoveHitData(move).typeMod > 0 && !target.volatiles['lzstartersystem']) {\r\n\t\t\t\treturn this.chainModify([5120, 4096]);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\t//\r\n\tbastiodiumtrigger: {\r\n\t\tname: 'Bastiodium Trigger',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.baseSpecies.baseSpecies === 'Bastiodon' && pokemon.hasItem('bastiodium') && !pokemon.volatiles['bastiodiumeffect']) {\r\n\t\t\t\tpokemon.addVolatile('bastiodiumeffect');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tbastiodiumeffect: {\r\n\t\tname: 'Bastiodium Effect',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(source) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const pokemon of this.getAllActive()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-activate', source, 'Bastiodium Effect', '[silent]');\r\n\t\t\t\t}\r\n\t\t\t\tactivated = true;\r\n\t\t\t\tif (!pokemon.volatiles['bastiodon']) {\r\n\t\t\t\t\tpokemon.addVolatile('bastiodon');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchIn(pokemon) {\r\n\t\t\tif (!pokemon.volatiles['bastiodon']) {\r\n\t\t\t\tpokemon.addVolatile('bastiodon');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyDragOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.baseSpecies.baseSpecies === 'Bastiodon' && target.hasItem('bastiodium') && target.volatiles['bastiodiumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\ttarget.removeVolatile('bastiodon');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.baseSpecies.baseSpecies === 'Bastiodon' && target.hasItem('bastiodium') && target.volatiles['bastiodiumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\ttarget.removeVolatile('bastiodon');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.baseSpecies.baseSpecies === 'Bastiodon' && target.hasItem('bastiodium') && target.volatiles['bastiodiumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\ttarget.removeVolatile('bastiodon');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFaint(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.baseSpecies.baseSpecies === 'Bastiodon' && target.hasItem('bastiodium') && target.volatiles['bastiodiumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\ttarget.removeVolatile('bastiodon');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tbastiodon: {\r\n\t\tname: 'Bastiodon',\r\n\t\tnoCopy: true,\r\n\t\tonSourceModifyDamage(damage, source, target, move) {\r\n\t\t\tif (target.getMoveHitData(move).typeMod > 0 && !target.volatiles['lzstartersystem']) {\r\n\t\t\t\tthis.debug('Bastiodon neutralize');\r\n\t\t\t\treturn this.chainModify(0.75);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\t//\r\n\tchiwengardiumtrigger: {\r\n\t\tname: 'Chiwengardium Trigger',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.species.name === 'Chiwengard-Ascend' && pokemon.hasItem('chiwengardium') && !pokemon.volatiles['chiwengardiumeffect']) {\r\n\t\t\t\tpokemon.addVolatile('chiwengardiumeffect');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tchiwengardiumeffect: {\r\n\t\tname: 'Chiwengardium Effect',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(source) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const pokemon of this.getAllActive()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-activate', source, 'Chiwengardium Effect', '[silent]');\r\n\t\t\t\t}\r\n\t\t\t\tactivated = true;\r\n\t\t\t\tif (!pokemon.volatiles['chiwengard']) {\r\n\t\t\t\t\tpokemon.addVolatile('chiwengard');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchIn(pokemon) {\r\n\t\t\tif (!pokemon.volatiles['chiwengard']) {\r\n\t\t\t\tpokemon.addVolatile('chiwengard');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyDragOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.species.name === 'Chiwengard-Ascend' && target.hasItem('chiwengardium') && target.volatiles['chiwengardiumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\ttarget.removeVolatile('chiwengard');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.species.name === 'Chiwengard-Ascend' && target.hasItem('chiwengardium') && target.volatiles['chiwengardiumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\ttarget.removeVolatile('chiwengard');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.species.name === 'Chiwengard-Ascend' && target.hasItem('chiwengardium') && target.volatiles['chiwengardiumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\ttarget.removeVolatile('chiwengard');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFaint(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.species.name === 'Chiwengard-Ascend' && target.hasItem('chiwengardium') && target.volatiles['chiwengardiumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\ttarget.removeVolatile('chiwengard');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tchiwengard: {\r\n\t\tname: 'Chiwengard',\r\n\t\tnoCopy: true,\r\n\t\tonSourceModifyDamage(damage, source, target, move) {\r\n\t\t\tconst stats: (keyof BoostsTable)[] = ['atk', 'def', 'spa', 'spd', 'spe', 'accuracy', 'evasion'];\r\n        \tconst hasNegativeStatDrop = stats.some(stat => (target.boosts[stat] ?? 0) < 0);\r\n        \r\n        \tif (hasNegativeStatDrop && !target.volatiles['lzstartersystem']) {\r\n            \tthis.debug('Chiwengard weaken');\r\n            \treturn this.chainModify(0.75);\r\n        \t}\r\n\t\t},\r\n\t},\r\n\t//\r\n\tcthulaudiumtrigger: {\r\n\t\tname: 'Cthulaudium Trigger',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.baseSpecies.baseSpecies === 'Cthulauder' && pokemon.hasItem('cthulaudium') && !pokemon.volatiles['cthulaudiumeffect']) {\r\n\t\t\t\tpokemon.addVolatile('cthulaudiumeffect');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tcthulaudiumeffect: {\r\n\t\tname: 'Cthulaudium Effect',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(source) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const pokemon of this.getAllActive()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-activate', source, 'Cthulaudium Effect', '[silent]');\r\n\t\t\t\t}\r\n\t\t\t\tactivated = true;\r\n\t\t\t\tif (!pokemon.volatiles['cthulauder'] && !pokemon.hasType('Dark')) {\r\n\t\t\t\t\tpokemon.addVolatile('cthulauder');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchIn(pokemon) {\r\n\t\t\tif (!pokemon.volatiles['cthulauder'] && !pokemon.hasType('Dark')) {\r\n\t\t\t\tpokemon.addVolatile('cthulauder');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyDragOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.baseSpecies.baseSpecies === 'Cthulauder' && target.hasItem('cthulaudium') && target.volatiles['cthulaudiumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['cthulauder']) {\r\n\t\t\t\t\ttarget.removeVolatile('torment');\r\n\t\t\t\t\ttarget.removeVolatile('cthulauder');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.baseSpecies.baseSpecies === 'Cthulauder' && target.hasItem('cthulaudium') && target.volatiles['cthulaudiumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['cthulauder']) {\r\n\t\t\t\t\ttarget.removeVolatile('torment');\r\n\t\t\t\t\ttarget.removeVolatile('cthulauder');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.baseSpecies.baseSpecies === 'Cthulauder' && target.hasItem('cthulaudium') && target.volatiles['cthulaudiumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['cthulauder']) {\r\n\t\t\t\t\ttarget.removeVolatile('torment');\r\n\t\t\t\t\ttarget.removeVolatile('cthulauder');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFaint(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (target.baseSpecies.baseSpecies === 'Cthulauder' && target.hasItem('cthulaudium') && target.volatiles['cthulaudiumeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['cthulauder']) {\r\n\t\t\t\t\ttarget.removeVolatile('torment');\r\n\t\t\t\t\ttarget.removeVolatile('cthulauder');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tcthulauder: {\r\n\t\tname: 'Cthulauder',\r\n\t\tnoCopy: true,\r\n\t\tonStart(source) {\r\n\t\t\tif (!source.hasType('Dark') && !source.volatiles['torment'] && !source.volatiles['lzstartersystem']) {\r\n\t\t\t\tsource.addVolatile('torment');\r\n\t\t\t}\r\n\t\t\tif (source.volatiles['lzstartersystem']) {\r\n\t\t\t\tsource.removeVolatile('torment');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\t//\r\n\tlpsystemtrigger: {\r\n\t\tname: 'LP System Trigger',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif ((pokemon.hasType('Bug') || pokemon.hasType('Electric')) && pokemon.hasItem('lpsystem') && !pokemon.volatiles['lpsystemeffect']) {\r\n\t\t\t\tpokemon.addVolatile('lpsystemeffect');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tlpsystemeffect: {\r\n\t\tname: 'LP System Effect',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(source) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const pokemon of this.getAllActive()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-activate', source, 'LP System Effect', '[silent]');\r\n\t\t\t\t}\r\n\t\t\t\tactivated = true;\r\n\t\t\t\tif (!pokemon.volatiles['lpsystem'] && (pokemon.hasType('Bug') || pokemon.hasType('Electric'))) {\r\n\t\t\t\t\tpokemon.addVolatile('lpsystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchIn(pokemon) {\r\n\t\t\tif (!pokemon.volatiles['lpsystem'] && (pokemon.hasType('Bug') || pokemon.hasType('Electric'))) {\r\n\t\t\t\tpokemon.addVolatile('lpsystem');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyDragOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Bug') || target.hasType('Electric')) && target.hasItem('lpsystem') && target.volatiles['lpsystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['lpsystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('lpsystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Bug') || target.hasType('Electric')) && target.hasItem('lpsystem') && target.volatiles['lpsystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['lpsystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('lpsystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Bug') || target.hasType('Electric')) && target.hasItem('lpsystem') && target.volatiles['lpsystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['lpsystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('lpsystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFaint(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Bug') || target.hasType('Electric')) && target.hasItem('lpsystem') && target.volatiles['lpsystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['lpsystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('lpsystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tlpsystem: {\r\n\t\tname: 'LP System',\r\n\t\tnoCopy: true,\r\n\t\tonPrepareHit(source, target, move) {\r\n\t\t\t// Store boosts for all targets affected by the move\r\n\t\t\tif (move && move.target === 'allAdjacentFoes') {\r\n\t\t\t\tfor (const foe of source.foes()) {\r\n\t\t\t\t\tif (foe.isAdjacent(source)) {\r\n\t\t\t\t\t\tconst boosts = { ...foe.boosts };\r\n\t\t\t\t\t\tfoe.addVolatile('siphoning', source);\r\n\t\t\t\t\t\tfoe.volatiles['siphoning'].boosts = boosts;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (move && move.target === 'allAdjacent') {\r\n\t\t\t\tfor (const adjacent of this.getAllActive()) {\r\n\t\t\t\t\tif (adjacent !== source && adjacent.isAdjacent(source)) {\r\n\t\t\t\t\t\tconst boosts = { ...adjacent.boosts };\r\n\t\t\t\t\t\tadjacent.addVolatile('siphoning', source);\r\n\t\t\t\t\t\tadjacent.volatiles['siphoning'].boosts = boosts;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (move && move.target === 'normal') {\r\n\t\t\t\tconst boosts = { ...target.boosts };\r\n\t\t\t\ttarget.addVolatile('siphoning', source);\r\n\t\t\t\ttarget.volatiles['siphoning'].boosts = boosts;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAfterMove(source, target, move) {\r\n\t\t\t// Check if the target has fainted\r\n\t\t\tif (target.volatiles['lzstartersystem'] || target === source) return; // originally included \"target.fainted\" but its inclusion might be unnecessary\r\n\t\r\n\t\t\tconst stats = ['atk', 'def', 'spa', 'spd', 'spe', 'accuracy', 'evasion'] as const;\r\n\t\t\ttype BoostStatistics = typeof stats[number];\r\n\t\r\n\t\t\t// Iterate through all active Pok\u00E9mon to check for stat changes\r\n\t\t\tfor (const activeTarget of this.getAllActive()) {\r\n\t\t\t\tif (!activeTarget.volatiles['siphoning']) continue;\r\n\t\r\n\t\t\t\tconst storedBoosts = activeTarget.volatiles['siphoning'].boosts;\r\n\t\t\t\tconst currentBoosts = activeTarget.boosts;\r\n\t\t\t\tlet statLowered = false;\r\n\t\r\n\t\t\t\tfor (const stat of stats) {\r\n\t\t\t\t\t// Check if the current boost is less than the stored boost\r\n\t\t\t\t\tif (currentBoosts[stat] < storedBoosts[stat]) {\r\n\t\t\t\t\t\tstatLowered = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tif (statLowered) {\r\n\t\t\t\t\tthis.heal(source.baseMaxhp / 8);\r\n\t\t\t\t\tconst ally = source.side.active.find(ally => ally && ally !== source && !ally.fainted\r\n\t\t\t\t\t\t&& (ally.hasType('Bug') || ally.hasType('Electric') && ally.volatiles['lpsystem'])\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (ally) {\r\n\t\t\t\t\t\tthis.heal(ally.baseMaxhp / 16, ally);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t/*const damage = Math.floor(target.maxhp / 8);\r\n\t\t\t\t\tthis.damage(damage, activeTarget, source); // Apply damage to the affected target\r\n\t\t\t\t//\tthis.add('-message', `${activeTarget.name} took chip damage from ${source.name}'s Bug Engraving!`);\r\n\t\r\n\t\t\t\t\tif (source.hp < source.maxhp) {\r\n\t\t\t\t\t\tconst healAmount = Math.min(damage, source.maxhp - source.hp);\r\n\t\t\t\t\t\tthis.heal(healAmount, source);\r\n\t\t\t\t//\t\tthis.add('-message', `${source.name} recovered health from the Bug Engraving!`);\r\n\t\t\t\t\t}*/\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t// Clean up the volatile after processing\r\n\t\t\t\tdelete activeTarget.volatiles['siphoning'];\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\t//\r\n\thpsystemtrigger: {\r\n\t\tname: 'HP System Trigger',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif ((pokemon.hasType('Fire') || pokemon.hasType('Water')) && pokemon.hasItem('hpsystem') && !pokemon.volatiles['hpsystemeffect']) {\r\n\t\t\t\tpokemon.addVolatile('hpsystemeffect');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\thpsystemeffect: {\r\n\t\tname: 'HP System Effect',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(source) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const pokemon of this.getAllActive()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-activate', source, 'HP System Effect', '[silent]');\r\n\t\t\t\t}\r\n\t\t\t\tactivated = true;\r\n\t\t\t\tif (!pokemon.volatiles['hpsystem'] && (pokemon.hasType('Fire') || pokemon.hasType('Water'))) {\r\n\t\t\t\t\tpokemon.addVolatile('hpsystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchIn(pokemon) {\r\n\t\t\tif (!pokemon.volatiles['hpsystem'] && (pokemon.hasType('Fire') || pokemon.hasType('Water'))) {\r\n\t\t\t\tpokemon.addVolatile('hpsystem');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyDragOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Fire') || target.hasType('Water')) && target.hasItem('hpsystem') && target.volatiles['hpsystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['hpsystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('hpsystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Fire') || target.hasType('Water')) && target.hasItem('hpsystem') && target.volatiles['hpsystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['hpsystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('hpsystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Fire') || target.hasType('Water')) && target.hasItem('hpsystem') && target.volatiles['hpsystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['hpsystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('hpsystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFaint(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Fire') || target.hasType('Water')) && target.hasItem('hpsystem') && target.volatiles['hpsystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['hpsystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('hpsystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\thpsystem: {\r\n\t\tname: 'HP System',\r\n\t\tnoCopy: true,\r\n\t\tonSourceHit(target, source, move) {\r\n\t\t\tif (!move || !target) return;\r\n\t\t\tif (target !== source && move.category !== 'Status' && target.getMoveHitData(move).typeMod > 0 && !target.volatiles['lzstartersystem']) {\r\n\t\t\t\ttarget.trySetStatus('brn', source);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\t//\r\n\tthirdeyesystemtrigger: {\r\n\t\tname: 'Third Eye System Trigger',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif ((pokemon.hasType('Psychic') || pokemon.hasType('Normal') || (pokemon.baseSpecies.name === 'Aegislash-Light' && \r\n\t\t\t\t(pokemon.hasType('Electric') && pokemon.hasType('Fighting')))) && pokemon.hasItem('thirdeyesystem') && !pokemon.volatiles['thirdeyesystemeffect']) {\r\n\t\t\t\tpokemon.addVolatile('thirdeyesystemeffect');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tthirdeyesystemeffect: {\r\n\t\tname: 'Third Eye System Effect',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(source) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const pokemon of this.getAllActive()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-activate', source, 'Third Eye System Effect', '[silent]');\r\n\t\t\t\t}\r\n\t\t\t\tactivated = true;\r\n\t\t\t\tif (!pokemon.volatiles['thirdeyesystem'] && (pokemon.hasType('Psychic') || pokemon.hasType('Normal') || (pokemon.baseSpecies.name === 'Aegislash-Light' && \r\n\t\t\t\t\t(pokemon.hasType('Electric') && pokemon.hasType('Fighting'))))) {\r\n\t\t\t\t\tpokemon.addVolatile('thirdeyesystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchIn(pokemon) {\r\n\t\t\tif (!pokemon.volatiles['thirdeyesystem'] && (pokemon.hasType('Psychic') || pokemon.hasType('Normal') || (pokemon.baseSpecies.name === 'Aegislash-Light' && \r\n\t\t\t\t(pokemon.hasType('Electric') && pokemon.hasType('Fighting'))))) {\r\n\t\t\t\tpokemon.addVolatile('thirdeyesystem');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyDragOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Psychic') || target.hasType('Normal') || (target.baseSpecies.name === 'Aegislash-Light' && \r\n\t\t\t\t\t(target.hasType('Electric') && target.hasType('Fighting')))) && target.hasItem('thirdeyesystem') && target.volatiles['thirdeyesystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['thirdeyesystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('thirdeyesystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Psychic') || target.hasType('Normal') || (target.baseSpecies.name === 'Aegislash-Light' && \r\n\t\t\t\t\t(target.hasType('Electric') && target.hasType('Fighting')))) && target.hasItem('thirdeyesystem') && target.volatiles['thirdeyesystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['thirdeyesystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('thirdeyesystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Psychic') || target.hasType('Normal') || (target.baseSpecies.name === 'Aegislash-Light' && \r\n\t\t\t\t\t(target.hasType('Electric') && target.hasType('Fighting')))) && target.hasItem('thirdeyesystem') && target.volatiles['thirdeyesystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['thirdeyesystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('thirdeyesystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFaint(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Psychic') || target.hasType('Normal') || (target.baseSpecies.name === 'Aegislash-Light' && \r\n\t\t\t\t\t(target.hasType('Electric') && target.hasType('Fighting')))) && target.hasItem('thirdeyesystem') && target.volatiles['thirdeyesystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['thirdeyesystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('thirdeyesystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tthirdeyesystem: {\r\n\t\tname: 'Third Eye System',\r\n\t\tnoCopy: true,\r\n\t//\tonModifyMovePriority: -5,\r\n\t\tonModifyMove(move, pokemon) {\r\n\t\t\tif (pokemon.volatiles['lzstartersystem']) {\r\n\t\t\t\treturn;\r\n\t\t\t}\t\r\n\t\t\tif (!move.ignoreImmunity) move.ignoreImmunity = {};\r\n\t\t\t/*if (move.ignoreImmunity !== true) {\r\n\t\t\t\tmove.ignoreImmunity['Psychic'] = true;\r\n\t\t\t\tmove.ignoreImmunity['Normal'] = true;\r\n\t\t\t}*/\r\n\t\t\tif (move.ignoreImmunity !== true) {\r\n\t\t\t\tif (pokemon.baseSpecies.name === 'Aegislash-Light' && \r\n\t\t\t\t\tpokemon.hasType('Electric') && pokemon.hasType('Fighting')) {\r\n\t\t\t\t\t// Don't ignore immunities for Aegislash-Light in its shield form\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tmove.ignoreImmunity['Psychic'] = true;\r\n\t\t\t\tmove.ignoreImmunity['Normal'] = true;\r\n\t\t\t}\r\n\t\t\tmove.ignoreEvasion = true;\r\n\t\t},\r\n\t},\r\n\t//\r\n\tmountainsystemtrigger: {\r\n\t\tname: 'Mountain System Trigger',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif ((pokemon.hasType('Ice') || pokemon.hasType('Fighting')) && pokemon.hasItem('mountainsystem') && !pokemon.volatiles['mountainsystemeffect']) {\r\n\t\t\t\tpokemon.addVolatile('mountainsystemeffect');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tmountainsystemeffect: {\r\n\t\tname: 'Mountain System Effect',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(source) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const pokemon of this.getAllActive()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-activate', source, 'Mountain System Effect', '[silent]');\r\n\t\t\t\t}\r\n\t\t\t\tactivated = true;\r\n\t\t\t\tif (!pokemon.volatiles['mountainsystem'] && (pokemon.hasType('Ice') || pokemon.hasType('Fighting'))) {\r\n\t\t\t\t\tpokemon.addVolatile('mountainsystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchIn(pokemon) {\r\n\t\t\tif (!pokemon.volatiles['mountainsystem'] && (pokemon.hasType('Ice') || pokemon.hasType('Fighting'))) {\r\n\t\t\t\tpokemon.addVolatile('mountainsystem');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyDragOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Ice') || target.hasType('Fighting')) && target.hasItem('mountainsystem') && target.volatiles['mountainsystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['mountainsystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('mountainsystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Ice') || target.hasType('Fighting')) && target.hasItem('mountainsystem') && target.volatiles['mountainsystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['mountainsystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('mountainsystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Ice') || target.hasType('Fighting')) && target.hasItem('mountainsystem') && target.volatiles['mountainsystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['mountainsystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('mountainsystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFaint(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Ice') || target.hasType('Fighting')) && target.hasItem('mountainsystem') && target.volatiles['mountainsystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['mountainsystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('mountainsystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tmountainsystem: {\r\n\t\tname: 'Mountain System',\r\n\t\tnoCopy: true,\r\n    \tonDamage(damage, target, source, effect) {\r\n\t\t\tif (target.hp <= target.maxhp / 2 && !target.volatiles['lzstartersystem']) {\r\n\t\t\t\tthis.debug('Mountain System damage reduction');\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\t//\r\n\tcursesystemtrigger: {\r\n\t\tname: 'Curse System Trigger',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif ((pokemon.hasType('Ghost') || pokemon.hasType('Dark')) && pokemon.hasItem('cursesystem') && !pokemon.volatiles['cursesystemeffect']) {\r\n\t\t\t\tpokemon.addVolatile('cursesystemeffect');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tcursesystemeffect: {\r\n\t\tname: 'Curse System Effect',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(source) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const pokemon of this.getAllActive()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-activate', source, 'Curse System Effect', '[silent]');\r\n\t\t\t\t}\r\n\t\t\t\tactivated = true;\r\n\t\t\t\tif (!pokemon.volatiles['cursesystem'] && (pokemon.hasType('Ghost') || pokemon.hasType('Dark'))) {\r\n\t\t\t\t\tpokemon.addVolatile('cursesystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchIn(pokemon) {\r\n\t\t\tif (!pokemon.volatiles['cursesystem'] && (pokemon.hasType('Ghost') || pokemon.hasType('Dark'))) {\r\n\t\t\t\tpokemon.addVolatile('cursesystem');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyDragOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Ghost') || target.hasType('Dark')) && target.hasItem('cursesystem') && target.volatiles['cursesystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['cursesystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('cursesystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Ghost') || target.hasType('Dark')) && target.hasItem('cursesystem') && target.volatiles['cursesystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['cursesystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('cursesystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Ghost') || target.hasType('Dark')) && target.hasItem('cursesystem') && target.volatiles['cursesystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['cursesystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('cursesystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFaint(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Ghost') || target.hasType('Dark')) && target.hasItem('cursesystem') && target.volatiles['cursesystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['cursesystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('cursesystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tcursesystem: {\r\n\t\tname: 'Curse System',\r\n\t\tnoCopy: true,\r\n\t\tonSourceDamagingHit(damage, target, source, move) {\r\n\t\t\tconst isMultihit = move.multihit;\r\n\t\t\tconst hasParentalBond = source.hasAbility('parentalbond');\r\n\t\t\t\r\n\t\t\tif (target && !target.fainted && !target.hasType(['Ghost', 'Dark']) && move.category !== 'Status' && !target.volatiles['lzstartersystem']) {\r\n\t\t\t\tlet curseDamage = 0;\r\n\t\t\r\n\t\t\t\tconst applyCurseDamage = () => {\r\n\t\t\t\t\t// curseDamage = Math.floor(target.maxhp / 8);\r\n\r\n\t\t\t\t\t// Start: Balance Approach\r\n\t\t\t\t\t// Check if source's HP is at or below 50%\r\n\t\t\t\t\tif (source.hp <= source.maxhp / 2) {\r\n\t\t\t\t\t\tcurseDamage = Math.floor(target.maxhp / 8); // 1/8 damage\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcurseDamage = Math.floor(target.maxhp / 16); // 1/16 damage\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// End: Balance Approach\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!target.fainted) {  // Check if target is not fainted before applying damage\r\n\t\t\t\t\t\tconst targetHPBeforeDamage = target.hp;\r\n\t\t\t\t\t\tthis.damage(curseDamage, target, source);\r\n\t\t\t\t\t\tconst actualDamage = targetHPBeforeDamage - target.hp;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (actualDamage > 0) {  // Only proceed if damage was actually dealt\r\n\t\t\t\t\t\t\tthis.add('-message', `${target.name} got its life force drained!`);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// Move healing logic inside this block\r\n\t\t\t\t\t\t\tif (source.hp < source.maxhp) {\r\n\t\t\t\t\t\t\t\tconst healAmount = Math.min(actualDamage, source.maxhp - source.hp);\r\n\t\t\t\t\t\t\t\tthis.heal(healAmount, source);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\r\n\t\t\t\tif (isMultihit) {\r\n\t\t\t\t\tif (move.hit === 1) {\r\n\t\t\t\t\t\tapplyCurseDamage();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (hasParentalBond) {\r\n\t\t\t\t\tif (move.hit === 1) {\r\n\t\t\t\t\t\tapplyCurseDamage();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tapplyCurseDamage();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\t//\r\n\tlzstartersystemtrigger: {\r\n\t\tname: 'LZ Starter System Trigger',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (((pokemon.hasItem('matokodium') && pokemon.species.name === 'Matokoda-Ascend') || \r\n\t\t\t\t(pokemon.hasItem('piahchium') && pokemon.species.name === 'Piahchi-Ascend') || \r\n\t\t\t\t(pokemon.hasItem('zantium') && pokemon.species.name === 'Zantui-Ascend')) && \r\n\t\t\t\t!pokemon.volatiles['lzstartersystemeffect']) {\r\n\t\t\t\tpokemon.addVolatile('lzstartersystemeffect');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tlzstartersystemeffect: {\r\n\t\tname: 'LZ Starter System Effect',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(source) { // originally: onStart\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const pokemon of this.getAllActive()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-activate', source, 'LZ Starter System Effect', '[silent]');\r\n\t\t\t\t}\r\n\t\t\t\tactivated = true;\r\n\t\t\t\tif (!pokemon.volatiles['lzstartersystem']) {\r\n\t\t\t\t\tpokemon.addVolatile('lzstartersystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchIn(pokemon) {\r\n\t\t\tif (!pokemon.volatiles['lzstartersystem']) {\r\n\t\t\t\tpokemon.addVolatile('lzstartersystem');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyDragOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (((target.hasItem('matokodium') && target.species.name === 'Matokoda-Ascend') || \r\n\t\t\t\t\t(target.hasItem('piahchium') && target.species.name === 'Piahchi-Ascend') || \r\n\t\t\t\t\t(target.hasItem('zantium') && target.species.name === 'Zantui-Ascend'))\r\n\t\t\t\t\t&& target.volatiles['lzstartersystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['lzstartersystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('lzstartersystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (((target.hasItem('matokodium') && target.species.name === 'Matokoda-Ascend') || \r\n\t\t\t\t\t(target.hasItem('piahchium') && target.species.name === 'Piahchi-Ascend') || \r\n\t\t\t\t\t(target.hasItem('zantium') && target.species.name === 'Zantui-Ascend'))\r\n\t\t\t\t\t&& target.volatiles['lzstartersystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['lzstartersystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('lzstartersystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (((target.hasItem('matokodium') && target.species.name === 'Matokoda-Ascend') || \r\n\t\t\t\t\t(target.hasItem('piahchium') && target.species.name === 'Piahchi-Ascend') || \r\n\t\t\t\t\t(target.hasItem('zantium') && target.species.name === 'Zantui-Ascend'))\r\n\t\t\t\t\t&& target.volatiles['lzstartersystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['lzstartersystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('lzstartersystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFaint(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (((target.hasItem('matokodium') && target.species.name === 'Matokoda-Ascend') || \r\n\t\t\t\t\t(target.hasItem('piahchium') && target.species.name === 'Piahchi-Ascend') || \r\n\t\t\t\t\t(target.hasItem('zantium') && target.species.name === 'Zantui-Ascend'))\r\n\t\t\t\t\t&& target.volatiles['lzstartersystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['lzstartersystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('lzstartersystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tlzstartersystem: {\r\n\t\tname: \"LZ Starter System\",\r\n\t\tnoCopy: true,\r\n\t},\r\n\t//\r\n\tecosystemtrigger: {\r\n\t\tname: 'Eco System Trigger',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif ((pokemon.hasType('Grass') || pokemon.hasType('Rock')) && pokemon.hasItem('ecosystem') && !pokemon.volatiles['ecosystemeffect']) {\r\n\t\t\t\tpokemon.addVolatile('ecosystemeffect');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tecosystemeffect: {\r\n\t\tname: 'Eco System Effect',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(source) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const pokemon of this.getAllActive()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-activate', source, 'Eco System Effect', '[silent]');\r\n\t\t\t\t}\r\n\t\t\t\tactivated = true;\r\n\t\t\t\tif (!pokemon.volatiles['ecosystem'] && (pokemon.hasType('Grass') || pokemon.hasType('Rock'))) {\r\n\t\t\t\t\tpokemon.addVolatile('ecosystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchIn(pokemon) {\r\n\t\t\tif (!pokemon.volatiles['ecosystem'] && (pokemon.hasType('Grass') || pokemon.hasType('Rock'))) {\r\n\t\t\t\tpokemon.addVolatile('ecosystem');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyDragOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Grass') || target.hasType('Rock')) && target.hasItem('ecosystem') && target.volatiles['ecosystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['ecosystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('ecosystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Grass') || target.hasType('Rock')) && target.hasItem('ecosystem') && target.volatiles['ecosystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['ecosystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('ecosystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Grass') || target.hasType('Rock')) && target.hasItem('ecosystem') && target.volatiles['ecosystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['ecosystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('ecosystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFaint(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Grass') || target.hasType('Rock')) && target.hasItem('ecosystem') && target.volatiles['ecosystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['ecosystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('ecosystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tecosystem: {\r\n\t\tname: 'Eco System',\r\n\t\tnoCopy: true,\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (source && target === source) return;\r\n\t\t\tif (target.volatiles['lzstartersystem']) return;\r\n\t\t\tlet showMsg = false;\r\n\t\t\tlet i: BoostID;\r\n\t\t\tfor (i in boost) {\r\n\t\t\t\tif (boost[i]! < 0) {\r\n\t\t\t\t\tdelete boost[i];\r\n\t\t\t\t\tshowMsg = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (showMsg && !(effect as ActiveMove).secondaries && effect.id !== 'octolock') {\r\n\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"[from] volatile: Eco System\");\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\t//\r\n\tminesystemtrigger: {\r\n\t\tname: 'Mine System Trigger',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif ((pokemon.hasType('Ground') || pokemon.hasType('Dragon')) && pokemon.hasItem('minesystem') && !pokemon.volatiles['minesystemeffect']) {\r\n\t\t\t\tpokemon.addVolatile('minesystemeffect');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tminesystemeffect: {\r\n\t\tname: 'Mine System Effect',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(source) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const pokemon of this.getAllActive()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-activate', source, 'Mine System Effect', '[silent]');\r\n\t\t\t\t}\r\n\t\t\t\tactivated = true;\r\n\t\t\t\tif (!pokemon.volatiles['minesystem'] && (pokemon.hasType('Ground') || pokemon.hasType('Dragon'))) {\r\n\t\t\t\t\tpokemon.addVolatile('minesystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchIn(pokemon) {\r\n\t\t\tif (!pokemon.volatiles['minesystem'] && (pokemon.hasType('Ground') || pokemon.hasType('Dragon'))) {\r\n\t\t\t\tpokemon.addVolatile('minesystem');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyDragOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Ground') || target.hasType('Dragon')) && target.hasItem('minesystem') && target.volatiles['minesystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['minesystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('minesystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Ground') || target.hasType('Dragon')) && target.hasItem('minesystem') && target.volatiles['minesystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['minesystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('minesystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Ground') || target.hasType('Dragon')) && target.hasItem('minesystem') && target.volatiles['minesystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['minesystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('minesystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFaint(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Ground') || target.hasType('Dragon')) && target.hasItem('minesystem') && target.volatiles['minesystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['minesystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('minesystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tminesystem: {\r\n\t\tname: 'Mine System',\r\n\t\tnoCopy: true,\r\n\t\tonSetStatus(status, target, source, effect) {\r\n\t\t\tif (source && target !== source && effect && effect.id !== 'yawn' && !target.volatiles['lzstartersystem']) {\r\n\t\t\t\tthis.debug('interrupting setStatus with Mine System');\r\n\t\t\t\tif (effect.name === 'Synchronize' || (effect.effectType === 'Move' && !effect.secondaries)) {\r\n\t\t\t\t\tconst effectHolder = this.effectState.target;\r\n\t\t\t\t\tthis.add('-block', target, 'volatile: Mine System', '[of] ' + effectHolder);\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryAddVolatile(status, target) {\r\n\t\t\tif (target.hasType('Grass') && status.id === 'yawn' && !target.volatiles['lzstartersystem']) {\r\n\t\t\t\tthis.debug('Mine System blocking yawn');\r\n\t\t\t\tconst effectHolder = this.effectState.target;\r\n\t\t\t\tthis.add('-block', target, 'volatile: Mine System', '[of] ' + effectHolder);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\t//\r\n\thexsystemtrigger: {\r\n\t\tname: 'Hex System Trigger',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif ((pokemon.hasType('Poison') || pokemon.hasType('Fairy')) && pokemon.hasItem('hexsystem') && !pokemon.volatiles['hexsystemeffect']) {\r\n\t\t\t\tpokemon.addVolatile('hexsystemeffect');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\thexsystemeffect: {\r\n\t\tname: 'Hex System Effect',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(source) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const pokemon of this.getAllActive()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-activate', source, 'Hex System Effect', '[silent]');\r\n\t\t\t\t}\r\n\t\t\t\tactivated = true;\r\n\t\t\t\tif (!pokemon.volatiles['hexsystem'] && (pokemon.hasType('Poison') || pokemon.hasType('Fairy'))) {\r\n\t\t\t\t\tpokemon.addVolatile('hexsystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchIn(pokemon) {\r\n\t\t\tif (!pokemon.volatiles['hexsystem'] && (pokemon.hasType('Poison') || pokemon.hasType('Fairy'))) {\r\n\t\t\t\tpokemon.addVolatile('hexsystem');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyDragOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Poison') || target.hasType('Fairy')) && target.hasItem('hexsystem') && target.volatiles['hexsystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['hexsystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('hexsystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Poison') || target.hasType('Fairy')) && target.hasItem('hexsystem') && target.volatiles['hexsystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['hexsystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('hexsystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Poison') || target.hasType('Fairy')) && target.hasItem('hexsystem') && target.volatiles['hexsystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['hexsystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('hexsystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFaint(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Poison') || target.hasType('Fairy')) && target.hasItem('hexsystem') && target.volatiles['hexsystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['hexsystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('hexsystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\thexsystem: {\r\n\t\tname: 'Hex System',\r\n\t\tnoCopy: true,\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\t//\tif (this.checkMoveMakesContact(move, source, target)) {\r\n\t\t\tif (!target.volatiles['lzstartersystem']) {\r\n\t\t\t\tsource.addVolatile('torment', this.effectState.target);\r\n\t\t\t//\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\t//\r\n\tcloudsystemtrigger: {\r\n\t\tname: 'Cloud System Trigger',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif ((pokemon.hasType('Flying') || pokemon.hasType('Steel')) && pokemon.hasItem('cloudsystem') && !pokemon.volatiles['cloudsystemeffect']) {\r\n\t\t\t\tpokemon.addVolatile('cloudsystemeffect');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tcloudsystemeffect: {\r\n\t\tname: 'Cloud System Effect',\r\n\t\tnoCopy: true,\r\n\t\tonUpdate(source) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const pokemon of this.getAllActive()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-activate', source, 'Cloud System Effect', '[silent]');\r\n\t\t\t\t}\r\n\t\t\t\tactivated = true;\r\n\t\t\t\tif (!pokemon.volatiles['cloudsystem'] && (pokemon.hasType('Flying') || pokemon.hasType('Steel'))) {\r\n\t\t\t\t\tpokemon.addVolatile('cloudsystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchIn(pokemon) {\r\n\t\t\tif (!pokemon.volatiles['cloudsystem'] && (pokemon.hasType('Flying') || pokemon.hasType('Steel'))) {\r\n\t\t\t\tpokemon.addVolatile('cloudsystem');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyDragOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Flying') || target.hasType('Steel')) && target.hasItem('cloudsystem') && target.volatiles['cloudsystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['cloudsystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('cloudsystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Flying') || target.hasType('Steel')) && target.hasItem('cloudsystem') && target.volatiles['cloudsystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['cloudsystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('cloudsystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchOut(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Flying') || target.hasType('Steel')) && target.hasItem('cloudsystem') && target.volatiles['cloudsystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['cloudsystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('cloudsystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFaint(pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif ((target.hasType('Flying') || target.hasType('Steel')) && target.hasItem('cloudsystem') && target.volatiles['cloudsystemeffect']) return;\r\n\t\t\t}\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\r\n\t\t\t\tif (target.volatiles['cloudsystem']) {\r\n\t\t\t\t\ttarget.removeVolatile('cloudsystem');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tcloudsystem: {\r\n\t\tname: 'Cloud System',\r\n\t\tnoCopy: true,\r\n\t\tonBasePowerPriority: 23,\r\n\t\tonBasePower(basePower, attacker, defender, move) {\r\n\t\t\tif ((move.recoil || move.hasCrashDamage) && !attacker.volatiles['lzstartersystem']) {\r\n\t\t\t\tthis.debug('Cloud System boost');\r\n\t\t\t\treturn this.chainModify([4915, 4096]);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\t// Check if the damage is indirect\r\n\t\t\tif (effect.effectType !== 'Move' && !target.volatiles['lzstartersystem']) {\r\n\t\t\t\tthis.debug('Cloud System - reducing indirect damage by 50%');\r\n\t\t\t\treturn this.chainModify(0.5); // Reduce indirect damage by 50%\r\n\t\t\t}\r\n\t\t\treturn damage; // Return original damage for direct damage\r\n\t\t},\r\n\t},\r\n\t// end\r\n\r\n\t// start: Aegislash-Light and Grinsegrin are the only Pkm who could get this volatile if hit by Soak\r\n\tsoaktypedenial: {\r\n\t\tname: 'Soak Type Denial',\r\n\t\tonPrepareHit(pokemon) {\r\n\t\t\t// Aegislash-Light is just soaked and will turn into mono Water\r\n\t\t\tif (pokemon.types.join() !== 'Water' && !pokemon.volatiles['typetracker']) {\r\n\t\t\t\tpokemon.setType('Water');\r\n\t\t\t\tthis.add('-start', pokemon, 'typechange', pokemon.types.join('/'), '[from] Soak Type Denial');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUpdate(pokemon) {\r\n\t\t\t// Aegislash-Light is just soaked and will turn into mono Water\r\n\t\t\tif (pokemon.types.join() !== 'Water' && !pokemon.volatiles['typetracker']) {\r\n\t\t\t\tpokemon.setType('Water');\r\n\t\t\t\tthis.add('-start', pokemon, 'typechange', pokemon.types.join('/'), '[from] Soak Type Denial');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\r\n\t// start: Wind Blessing from Eye of the Sun move\r\n\twindblessing: {\r\n\t\tname: 'Wind Blessing',\r\n\t\tnoCopy: true,\r\n\t\tduration: 5,\r\n\t\tonSideStart(side, source) {\r\n\t\t\tthis.add('-sidestart', side, 'Wind Blessing');\r\n\t\t},\r\n\t\tonSourceModifyDamage(damage, source, target, move) {\r\n\t\t\tif (target.getMoveHitData(move).typeMod > 0) {\r\n\t\t\t\tthis.debug('Wind Blessing neutralize');\r\n\t\t\t\treturn this.chainModify(0.75);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSideResidualOrder: 26,\r\n\t\tonSideResidualSubOrder: 6,\r\n\t\tonSideEnd(side) {\r\n\t\t\tthis.add('-sideend', side, 'Wind Blessing');\r\n\t\t},\r\n\t},\r\n\t// end\r\n\r\n\t// start: Time Crystals from Time Compressor\r\n\ttimecrystals: {\r\n\t\tname: 'Time Crystals',\r\n\t\tnoCopy: true,\r\n\t\tduration: 3,\r\n\t\tonSideStart(side) {\r\n\t\t\tthis.add('-sidestart', side, 'Time Crystals');\r\n\t\t},\r\n\t\tonSideEnd(side) {\r\n\t\t\tthis.add('-message', 'The time crystals unleashed a great amount of energy and...');\r\n\t\t\tthis.add('-fieldstart', 'move: Trick Room');\r\n\t\t\tthis.add('-sideend', side, 'Time Crystals');\r\n\t\t},\r\n\t},\r\n\t// end\r\n\r\n\t// start: Divination Trigger from the moveDivination\r\n\tdivination: {\r\n\t\tname: 'Divination',\r\n\t\tnoCopy: true,\r\n\t\tduration: 3,\r\n\t\tonSideStart(side) {\r\n\t\t\tthis.add('-message', 'The user follows the move patterns.');\r\n\t\t//\tthis.add('-sidestart', side, 'Divination', '[silent]');\r\n\t\t},\r\n\t\tonSideEnd(side) {\r\n\t\t\tthis.add('-message', 'The user foresaw the future and...');\r\n\t\t\tside.addSideCondition('augury');\r\n\t\t\tthis.add('-sideend', side, 'Divination', '[silent]');\r\n\t\t},\r\n\t},\r\n\t// end\r\n\r\n\tfungus: {\r\n\t\tname: 'Fungus',\r\n\t\tnoCopy: true,\r\n\t\tonAfterEachBoost(boost, target, source, effect) {\r\n\t\t\tif (effect?.id === 'fungus') return;\r\n\t\t\tconst partner = target.side.active.find(pokemon => pokemon && pokemon !== target && !pokemon.fainted);\r\n\t\t\tif (!partner || !partner.volatiles['fungus']) return;\r\n\t\r\n\t\t\tconst fungusBoost: SparseBoostsTable = {};\r\n\t\t\tlet activated = false;\r\n\t\r\n\t\t\t// Check for decreases in stats with safe access\r\n\t\t\tif (boost.atk !== undefined && boost.atk < 0) {\r\n\t\t\t\tfungusBoost.spa = -boost.atk; // If user lowers Atk, raise ally's SpA\r\n\t\t\t\tactivated = true;\r\n\t\t\t}\r\n\t\t\tif (boost.spa !== undefined && boost.spa < 0) {\r\n\t\t\t\tfungusBoost.atk = -boost.spa; // If user lowers SpA, raise ally's Atk\r\n\t\t\t\tactivated = true;\r\n\t\t\t}\r\n\t\t\tif (boost.def !== undefined && boost.def < 0) {\r\n\t\t\t\tfungusBoost.spd = -boost.def; // If user lowers Def, raise ally's SpD\r\n\t\t\t\tactivated = true;\r\n\t\t\t}\r\n\t\t\tif (boost.spd !== undefined && boost.spd < 0) {\r\n\t\t\t\tfungusBoost.def = -boost.spd; // If user lowers SpD, raise ally's Def\r\n\t\t\t\tactivated = true;\r\n\t\t\t}\r\n\t\r\n\t\t\tif (activated) {\r\n\t\t\t\tthis.add('-activate', target, 'Fungus');\r\n\t\t\t\tthis.boost(fungusBoost, partner, target, null, true);\r\n\t\t\t}\r\n\t\t},\t\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\tduststorm: {\r\n\t\tname: 'Dust Storm',\r\n\t\tnoCopy: true,\r\n\t\tduration: 4,\r\n\t\tonSideStart(side, source) {\r\n\t\t\tthis.add('-sidestart', side, 'Dust Storm');\r\n\t\t\tthis.add('-message', 'A dust storm has kicked up! It will last for 4 turns!');\r\n\t\t},\r\n\t\tonSideResidualOrder: 26,\r\n    \tonSideResidualSubOrder: 6,\r\n    \tonSideResidual(side) {\r\n        \tfor (const pokemon of side.active) {\r\n            //\tif (pokemon && pokemon.hp > 0) {\r\n                \t// Apply damage equal to 1/8 of base max HP\r\n                this.damage(pokemon.baseMaxhp / 8, pokemon);\r\n\t\t\t\tthis.add('-message', `${pokemon.name} is buffeted by the dust!`);\r\n            //\t}\r\n        \t}\r\n    \t},\r\n\t\tonSideEnd(side) {\r\n\t\t\tthis.add('-sideend', side, 'Dust Storm');\r\n\t\t},\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\tfimbulvetr: {\r\n\t\tname: 'Fimbulvetr',\r\n\t\tnoCopy: true,\r\n\t\tduration: 5,\r\n\t\tdurationCallback(source, effect) {\r\n\t\t\tif (source?.hasItem('icyrock')) {\r\n\t\t\t\treturn 8;\r\n\t\t\t}\r\n\t\t\treturn 5;\r\n\t\t},\r\n\t\tonSideStart(side) {\r\n\t\t\tthis.add('-sidestart', side, 'Fimbulvetr');\r\n\t\t//\tthis.add('-message', `The Fimbulvetr has taken hold on the opponent's side!`);\r\n\t\t},\r\n\t\tonSideEnd(side) {\r\n\t\t//\tthis.add('-message', `The Fimbulvetr has faded from the opponent's side.`);\r\n\t\t\tthis.add('-sideend', side, 'Fimbulvetr');\r\n\t\t},\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\tgoodwillextension: {\r\n\t\tname: 'Goodwill Extension',\r\n\t\tnoCopy: true,\r\n\t\tonChangeBoost(boost, target, source, effect) {\r\n\t\t\t// Check if target is defined\r\n\t\t\tif (!target) {\r\n\t\t//\t\tconsole.error('Target is undefined');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tconsole.log(`Goodwill Extension triggered for ${target.name}`);\r\n\t\t\t\r\n\t\t\t// Check if target has a side and active allies\r\n\t\t\tif (!target.side || !Array.isArray(target.side.active)) {\r\n\t\t//\t\tconsole.error('Target side or active allies are not defined');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\r\n\t\t\t// Find all allies with the Goodwill ability\r\n\t\t\tconst goodwillAllies = target.side.active.filter(ally => \r\n\t\t\t\tally && ally !== target && ally.hasAbility('goodwill')\r\n\t\t\t);\r\n\t\t\r\n\t\t\tif (goodwillAllies.length === 0) {\r\n\t\t//\t\tconsole.log('No Goodwill allies found');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\r\n\t\t//\tconsole.log(`Goodwill allies found: ${goodwillAllies.map(a => a.name).join(', ')}`);\r\n\t\t\r\n\t\t\tconst stats: (keyof BoostsTable)[] = ['atk', 'def', 'spa', 'spd', 'spe', 'accuracy', 'evasion'];\r\n\t\t\r\n\t\t\tfor (const stat of stats) {\r\n\t\t\t\tif (boost[stat] !== undefined && boost[stat] < 0) {\r\n\t\t\t//\t\tconsole.log(`Checking stat: ${stat}, boost: ${boost[stat]}`);    \r\n\t\t\t\t\t// Check if any ally's stat is negative\r\n\t\t\t\t\tconst protectingAlly = goodwillAllies.find(ally => \r\n\t\t\t\t\t\tally.boosts[stat] < 0 // Ensure ally has boosts property\r\n\t\t\t\t\t);\r\n\t\t\r\n\t\t\t\t\tif (protectingAlly) {\r\n\t\t\t\t\t\tboost[stat] = 0; // Prevent stat drop\r\n\t\t\t\t\t\tthis.add('-fail', target, 'unboost', stat, '[from] ally\\'s ability: Goodwill');\r\n\t\t\t\t//\t\tconsole.log(`Prevented stat drop for ${stat} by ${protectingAlly.name}`);\r\n\t\t\t\t//\t} else {\r\n\t\t\t\t//\t\tconsole.log(`Stat ${stat} not protected by any Goodwill ally`);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t//\tconsole.log('Final boost after Goodwill Extension:', boost);\r\n\t\t}\r\n\t},\r\n\t// end\r\n\r\n\t// start\r\n\tpsychout: {\r\n\t\tname: 'Psych Out',\r\n\t\tnoCopy: true,\r\n\t\tonStart(pokemon) {\r\n\t\t\t// Initialize the flag when the volatile is first activated\r\n\t\t\tthis.effectState.hasTriggered = false;\r\n\t\t},\r\n\t\tonDamage(damage, target, source, move) {\r\n\t\t\t// Check if the volatile has already triggered\r\n\t\t\tif (this.effectState.hasTriggered) return damage;\r\n\t\r\n\t\t\t// Check if damage would knock out the target\r\n\t\t\tif (damage >= target.hp) {\r\n\t\t\t\t// Check for an ally with Psych Out ability\r\n\t\t\t\tconst hasPsychOutAlly = target.side.active.some(ally => \r\n\t\t\t\t\tally !== target && !ally.fainted && ally.hasAbility('psychout')\r\n\t\t\t\t);\r\n\t\r\n\t\t\t\t// Only set HP to 1 if there is an ally with Psych Out\r\n\t\t\t\tif (hasPsychOutAlly) {\r\n\t\t\t\t\tthis.effectState.hasTriggered = true; // Mark as triggered\r\n\t\r\n\t\t\t\t\t// Add psychoutnotifier volatile to the target\r\n\t\t\t\t\ttarget.addVolatile('psychoutnotifier');\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn target.hp - 1; // Return new HP\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\treturn damage; // Return the original damage if conditions aren't met\r\n\t\t},\r\n\t},\r\n\r\n\tpsychoutnotifier: {\r\n\t\tname: \"Psych Out Notifier\",\r\n\t\tnoCopy: true,\r\n\t},\r\n\t// end\r\n\r\n\t// Lost Zone: Caretaker needs two conditions so they are implemented here\r\n\t// Arbarnacle\r\n\tcaretaking: {\r\n\t\tname: \"Caretaking\",\r\n\t\tnoCopy: true,\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.boost({atk: 1, spa: 1, spe: 1, def: 1, spd: 1}, pokemon);\r\n\t\t\tif (!pokemon.volatiles['ingrain']) {\r\n\t\t\t\tpokemon.addVolatile('ingrain');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonDragOutPriority: 2,\r\n\t\tonDragOut() {\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\t// Prevents Shed Shell allowing a swap\r\n\t\tonTrapPokemonPriority: -11,\r\n\t\tonTrapPokemon(pokemon) {\r\n\t\t\tpokemon.trapped = true;\r\n\t\t},\r\n\t},\r\n\t// Swanneil\r\n\tcaretaken: {\r\n\t\tname: \"Caretaken\",\r\n\t    noCopy: true,\r\n\t\t// This is a new addition since it seems like both Swanneil and Arbarnacle are very mediocre together\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.boost({atk: 1, spa: 1, spe: 1, def: 1, spd: 1}, pokemon);\r\n\t\t\tif (!pokemon.volatiles['ingrain']) {\r\n\t\t\t\tpokemon.addVolatile('ingrain');\r\n\t\t\t}\r\n\t\t},\r\n\t\t// end\r\n    \tonDragOutPriority: 2,\r\n    \tonDragOut() {\r\n        \treturn false;\r\n    \t},\r\n    \tonTrapPokemonPriority: -11,\r\n    \tonTrapPokemon(pokemon) {\r\n        \tpokemon.trapped = true;\r\n    \t},\r\n    \tonInvulnerabilityPriority: 2,\r\n    \tonInvulnerability(target, source, move) {\r\n        \tconst arbarnacle = target.side.active.find(mon => mon && mon.baseSpecies.baseSpecies === 'Arbarnacle');\r\n        \treturn !arbarnacle || arbarnacle.fainted;\r\n    \t},\r\n    \tonBeforeTurn(pokemon) {\r\n        \tconst arbarnacle = pokemon.side.active.find(mon => mon && mon.baseSpecies.baseSpecies === 'Arbarnacle');\r\n        \tif (!arbarnacle || arbarnacle.fainted) {\r\n           \t\tpokemon.removeVolatile('caretaken');\r\n        \t} else {\r\n            \tthis.queue.cancelAction(pokemon);\r\n        \t}\r\n    \t},\r\n\t},\r\n\t// end\r\n\r\n\t// Commander needs two conditions so they are implemented here\r\n\t// Dondozo\r\n\tcommanded: {\r\n\t\tname: \"Commanded\",\r\n\t\tnoCopy: true,\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.boost({atk: 2, spa: 2, spe: 2, def: 2, spd: 2}, pokemon);\r\n\t\t},\r\n\t\tonDragOutPriority: 2,\r\n\t\tonDragOut() {\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\t// Prevents Shed Shell allowing a swap\r\n\t\tonTrapPokemonPriority: -11,\r\n\t\tonTrapPokemon(pokemon) {\r\n\t\t\tpokemon.trapped = true;\r\n\t\t},\r\n\t},\r\n\t// Tatsugiri\r\n\tcommanding: {\r\n\t\tname: \"Commanding\",\r\n\t\tnoCopy: true,\r\n\t\tonDragOutPriority: 2,\r\n\t\tonDragOut() {\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\t// Prevents Shed Shell allowing a swap\r\n\t\tonTrapPokemonPriority: -11,\r\n\t\tonTrapPokemon(pokemon) {\r\n\t\t\tpokemon.trapped = true;\r\n\t\t},\r\n\t\t// Override No Guard\r\n\t\tonInvulnerabilityPriority: 2,\r\n\t\tonInvulnerability(target, source, move) {\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonBeforeTurn(pokemon) {\r\n\t\t\tthis.queue.cancelAction(pokemon);\r\n\t\t},\r\n\t},\r\n\r\n\tskyriderally: {\r\n\t\tname: \"Sky Rider Ally\",\r\n\t\tnoCopy: true,\r\n\t\tonStart(pokemon) {\r\n\t\t\tif (!pokemon.types.includes('Steel')) {\r\n\t\t\t\tpokemon.types = [...pokemon.types, 'Steel']; // Spread operator to create a new array\r\n\t\t\t\tthis.add('-message', `${pokemon.name} received armor from Escavalier! ${pokemon.name} let out a cry.`);\r\n\t\t\t\t// here, I would have added a sound for the battle cry. Perhaps, one day, I'll know how to add it\r\n\t\t\t\t// this.add('-cries', pokemon, 'Eternatus');\r\n\t\t\t\tthis.add('-anim', pokemon, 'Roar');\r\n\t\t\t\tthis.add('-message', `The battle intensifies as ${pokemon.name} gains extra reinforcement!`);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\tif (pokemon.types.includes('Steel')) {\r\n\t\t\tpokemon.types = pokemon.types.filter(type => type !== 'Steel'); // Remove Steel type\r\n\t\t\tthis.add('-message', `${pokemon.name}'s armor was taken down. ${pokemon.name} is upset, feeling the loss of its protection!`);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\r\n\tskyriding: {\r\n\t\tname: \"Sky Riding\",\r\n\t\tnoCopy: true,\r\n\t\tonPrepareHit(pokemon, target, move) {\r\n\t\t\tconst escavalier = pokemon.side.active.find(ally => ally.species.name === 'Escavalier' && (ally.hasAbility('skyrider')));\r\n   \t\t\tif (!escavalier) return; // Ensure Escavalier is present\r\n\r\n\t\t\t// Check if the move is not a status move\r\n\t\t\tif (move.category !== 'Status') {\r\n\t\t\t\t// Loop through the action queue\r\n\t\t\t\tfor (const action of this.queue.list as MoveAction[]) {\r\n\t\t\t\t\t// Check if the action is valid\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t!action.move || !action.pokemon?.isActive ||\r\n\t\t\t\t\t\taction.pokemon.fainted || action.maxMove || action.zmove\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tcontinue; // Skip invalid actions\r\n\t\t\t\t\t}\r\n\t\t\r\n\t\t\t\t\t// Check if the action belongs specifically to the ally; indirectly, that's Escavalier\r\n\t\t\t\t\tif (action.pokemon.isAlly(pokemon)) {\r\n\t\t\t\t\t\tthis.queue.prioritizeAction(action, move); // Prioritize the action\r\n\t\t\t\t\t\tthis.add('-waiting', pokemon, action.pokemon); // Notify that Escavalier is waiting\r\n\t\t\t\t\t\tbreak; // Exit the loop but not the function, meaning user's move should be able to do damage now\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\t\r\n\t},\r\n\r\n\theadstart: {\r\n\t\tname: \"Head Start\",\r\n\t\tnoCopy: true,\r\n\t\tonPrepareHit(pokemon, target, move) {\r\n\t\t\tconst ratrival = pokemon.side.active.find(ally => (ally.species.name === 'Ratrival' || ally.species.name === 'Ratrival0') && (ally.hasAbility('teamup')));\r\n   \t\t\tif (!ratrival) return; // Ensure Ratrival or Ratrival0 is present\r\n\r\n\t\t\t// Check if the move is not a status move\r\n\t\t\tif (move.category !== 'Status') {\r\n\t\t\t\t// Loop through the action queue\r\n\t\t\t\tfor (const action of this.queue.list as MoveAction[]) {\r\n\t\t\t\t\t// Check if the action is valid\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t!action.move || !action.pokemon?.isActive ||\r\n\t\t\t\t\t\taction.pokemon.fainted || action.maxMove || action.zmove\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tcontinue; // Skip invalid actions\r\n\t\t\t\t\t}\r\n\t\t\r\n\t\t\t\t\t// Check if the action belongs specifically to the ally; indirectly, that's Ratrival or Ratrival0\r\n\t\t\t\t\tif (action.pokemon.isAlly(pokemon)) {\r\n\t\t\t\t\t\tthis.queue.prioritizeAction(action, move); // Prioritize the action\r\n\t\t\t\t\t\tthis.add('-waiting', pokemon, action.pokemon); // Notify that Ratrival or Ratrival0 is waiting\r\n\t\t\t\t\t\tbreak; // Exit the loop but not the function, meaning user's move should be able to do damage now\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\t\r\n\t},\r\n\r\n\t// Arceus and Silvally's actual typing is implemented here.\r\n\t// Their true typing for all their formes is Normal, and it's only\r\n\t// Multitype and RKS System, respectively, that changes their type,\r\n\t// but their formes are specified to be their corresponding type\r\n\t// in the Pokedex, so that needs to be overridden.\r\n\t// This is mainly relevant for Hackmons Cup and Balanced Hackmons.\r\n\tarceus: {\r\n\t\tname: 'Arceus',\r\n\t\tonTypePriority: 1,\r\n\t\tonType(types, pokemon) {\r\n\t\t\tif (pokemon.transformed || pokemon.ability !== 'multitype' && this.gen >= 8) return types;\r\n\t\t\tlet type: string | undefined = 'Normal';\r\n\t\t\tif (pokemon.ability === 'multitype') {\r\n\t\t\t\ttype = pokemon.getItem().onPlate;\r\n\t\t\t\tif (!type) {\r\n\t\t\t\t\ttype = 'Normal';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn [type];\r\n\t\t},\r\n\t},\r\n\tsilvally: {\r\n\t\tname: 'Silvally',\r\n\t\tonTypePriority: 1,\r\n\t\tonType(types, pokemon) {\r\n\t\t\tif (pokemon.transformed || pokemon.ability !== 'rkssystem' && this.gen >= 8) return types;\r\n\t\t\tlet type: string | undefined = 'Normal';\r\n\t\t\tif (pokemon.ability === 'rkssystem') {\r\n\t\t\t\ttype = pokemon.getItem().onMemory;\r\n\t\t\t\tif (!type) {\r\n\t\t\t\t\ttype = 'Normal';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn [type];\r\n\t\t},\r\n\t},\r\n\trolloutstorage: {\r\n\t\tname: 'rolloutstorage',\r\n\t\tduration: 2,\r\n\t\tonBasePower(relayVar, source, target, move) {\r\n\t\t\tlet bp = Math.max(1, move.basePower);\r\n\t\t\tbp *= Math.pow(2, source.volatiles['rolloutstorage'].contactHitCount);\r\n\t\t\tif (source.volatiles['defensecurl']) {\r\n\t\t\t\tbp *= 2;\r\n\t\t\t}\r\n\t\t\tsource.removeVolatile('rolloutstorage');\r\n\t\t\treturn bp;\r\n\t\t},\r\n\t},\r\n\tendlessdream: { \r\n\t\tname: \"Endless Dream\",\r\n\t\teffectType: 'PseudoWeather',\r\n\t\tduration: 0,\r\n\t\tonFieldStart(field, source, effect) {\r\n\t\t\tthis.add('-pseudoweather', 'EndlessDream', '[of] ' + source);\r\n\t\t},\r\n\t\tonSetStatus(status, target, source, effect) {\r\n\t\t\tif (target.hasAbility('vitalspirit') || target.hasAbility('insomnia')) return;\r\n\t\t\tif ((effect as Move)?.status || effect?.id === 'yawn') {\r\n\t\t\t\tthis.add('-fail', target, '[from] Endless Dream');\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonResidualOrder: 23,\r\n\t\tonEnd() {\r\n\t\t\tthis.add('-fieldend', 'none');\r\n\t\t},\r\n\t},\r\n};\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,MAAM,aAA2C;AAAA,EACvD,KAAK;AAAA,IACJ,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,QAAQ,QAAQ,QAAQ,cAAc;AACrC,UAAI,gBAAgB,aAAa,OAAO,YAAY;AACnD,aAAK,IAAI,WAAW,QAAQ,OAAO,wBAAwB;AAAA,MAC5D,WAAW,gBAAgB,aAAa,eAAe,WAAW;AACjE,aAAK,IAAI,WAAW,QAAQ,OAAO,qBAAqB,aAAa,MAAM,UAAU,MAAM;AAAA,MAC5F,OAAO;AACN,aAAK,IAAI,WAAW,QAAQ,KAAK;AAAA,MAClC;AAAA,IACD;AAAA;AAAA,IAEA,iBAAiB;AAAA,IACjB,WAAW,SAAS;AACnB,WAAK,OAAO,QAAQ,YAAY,EAAE;AAAA,IACnC;AAAA,EACD;AAAA,EACA,KAAK;AAAA,IACJ,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,QAAQ,QAAQ,QAAQ,cAAc;AACrC,UAAI,gBAAgB,aAAa,eAAe,WAAW;AAC1D,aAAK,IAAI,WAAW,QAAQ,OAAO,qBAAqB,aAAa,MAAM,UAAU,MAAM;AAAA,MAC5F,OAAO;AACN,aAAK,IAAI,WAAW,QAAQ,KAAK;AAAA,MAClC;AAAA,IACD;AAAA,IACA,YAAY,KAAK,SAAS;AAEzB,YAAM,KAAK,YAAY,GAAG;AAC1B,UAAI,CAAC,QAAQ,WAAW,WAAW,GAAG;AACrC,cAAM,KAAK,MAAM,MAAM,KAAK,GAAG;AAAA,MAChC;AACA,aAAO;AAAA,IACR;AAAA,IACA,sBAAsB;AAAA,IACtB,aAAa,SAAS;AACrB,UAAI,KAAK,aAAa,GAAG,CAAC,KAAK,CAAE,QAAQ,WAAW,WAAW,GAAI;AAClE,aAAK,IAAI,QAAQ,SAAS,KAAK;AAC/B,eAAO;AAAA,MACR;AAAA,IACD;AAAA,EACD;AAAA,EACA,KAAK;AAAA,IACJ,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,QAAQ,QAAQ,QAAQ,cAAc;AACrC,UAAI,gBAAgB,aAAa,eAAe,WAAW;AAC1D,aAAK,IAAI,WAAW,QAAQ,OAAO,qBAAqB,aAAa,MAAM,UAAU,MAAM;AAAA,MAC5F,WAAW,gBAAgB,aAAa,eAAe,QAAQ;AAC9D,aAAK,IAAI,WAAW,QAAQ,OAAO,kBAAkB,aAAa,IAAI;AAAA,MACvE,OAAO;AACN,aAAK,IAAI,WAAW,QAAQ,KAAK;AAAA,MAClC;AAEA,WAAK,YAAY,YAAY,KAAK,OAAO,GAAG,CAAC;AAC7C,WAAK,YAAY,OAAO,KAAK,YAAY;AAEzC,UAAI,OAAO,eAAe,WAAW,GAAG;AACvC,aAAK,IAAI,QAAQ,QAAQ,aAAa,UAAU;AAAA,MACjD;AAAA,IACD;AAAA,IACA,sBAAsB;AAAA,IACtB,aAAa,SAAS,QAAQ,MAAM;AACnC,UAAI,QAAQ,WAAW,WAAW,GAAG;AACpC,gBAAQ,YAAY;AAAA,MACrB;AACA,cAAQ,YAAY;AACpB,UAAI,QAAQ,YAAY,QAAQ,GAAG;AAClC,gBAAQ,WAAW;AACnB;AAAA,MACD;AACA,WAAK,IAAI,QAAQ,SAAS,KAAK;AAC/B,UAAI,KAAK,aAAa;AACrB;AAAA,MACD;AACA,aAAO;AAAA,IACR;AAAA,EACD;AAAA,EACA,KAAK;AAAA,IACJ,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,QAAQ,QAAQ,QAAQ,cAAc;AACrC,UAAI,gBAAgB,aAAa,eAAe,WAAW;AAC1D,aAAK,IAAI,WAAW,QAAQ,OAAO,qBAAqB,aAAa,MAAM,UAAU,MAAM;AAAA,MAC5F,OAAO;AACN,aAAK,IAAI,WAAW,QAAQ,KAAK;AAAA,MAClC;AACA,UAAI,OAAO,QAAQ,SAAS,iBAAiB,OAAO,YAAY,gBAAgB,WAAW;AAC1F,eAAO,YAAY,WAAW,KAAK,QAAQ,IAAI;AAAA,MAChD;AAAA,IACD;AAAA,IACA,sBAAsB;AAAA,IACtB,aAAa,SAAS,QAAQ,MAAM;AACnC,UAAI,KAAK,MAAM,SAAS;AAAG;AAC3B,UAAI,KAAK,aAAa,GAAG,CAAC,GAAG;AAC5B,gBAAQ,WAAW;AACnB;AAAA,MACD;AACA,WAAK,IAAI,QAAQ,SAAS,KAAK;AAC/B,aAAO;AAAA,IACR;AAAA,IACA,aAAa,MAAM,SAAS;AAC3B,UAAI,KAAK,MAAM,SAAS,GAAG;AAC1B,aAAK,IAAI,eAAe,SAAS,OAAO,kBAAkB,IAAI;AAC9D,gBAAQ,YAAY;AAAA,MACrB;AAAA,IACD;AAAA,IACA,qBAAqB,QAAQ,QAAQ,MAAM;AAC1C,UAAI,KAAK,aAAa;AACrB,eAAO,WAAW;AAAA,MACnB;AAAA,IACD;AAAA,IACA,cAAc,QAAQ,QAAQ,QAAQ,MAAM;AAC3C,UAAI,KAAK,SAAS,UAAU,KAAK,aAAa,UAAU;AACvD,eAAO,WAAW;AAAA,MACnB;AAAA,IACD;AAAA,EACD;AAAA,EACA,KAAK;AAAA,IACJ,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,QAAQ,QAAQ,QAAQ,cAAc;AACrC,UAAI,gBAAgB,aAAa,eAAe,WAAW;AAC1D,aAAK,IAAI,WAAW,QAAQ,OAAO,qBAAqB,aAAa,MAAM,UAAU,MAAM;AAAA,MAC5F,OAAO;AACN,aAAK,IAAI,WAAW,QAAQ,KAAK;AAAA,MAClC;AAAA,IACD;AAAA,IACA,iBAAiB;AAAA,IACjB,WAAW,SAAS;AACnB,UAAI,QAAQ,UAAU,iBAAiB,GAAG;AACzC,aAAK,OAAO,QAAQ,YAAY,EAAE;AAAA,MACnC,OAAO;AACN,aAAK,OAAO,QAAQ,YAAY,CAAC;AAAA,MAClC;AAAA,IACD;AAAA,EACD;AAAA,EACA,KAAK;AAAA,IACJ,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,QAAQ,QAAQ,QAAQ,cAAc;AACrC,WAAK,YAAY,QAAQ;AACzB,UAAI,gBAAgB,aAAa,OAAO,YAAY;AACnD,aAAK,IAAI,WAAW,QAAQ,OAAO,wBAAwB;AAAA,MAC5D,WAAW,gBAAgB,aAAa,eAAe,WAAW;AACjE,aAAK,IAAI,WAAW,QAAQ,OAAO,qBAAqB,aAAa,MAAM,UAAU,MAAM;AAAA,MAC5F,OAAO;AACN,aAAK,IAAI,WAAW,QAAQ,KAAK;AAAA,MAClC;AAAA,IACD;AAAA,IACA,aAAa;AACZ,WAAK,YAAY,QAAQ;AAAA,IAC1B;AAAA,IACA,iBAAiB;AAAA,IACjB,WAAW,SAAS;AACnB,UAAI,KAAK,YAAY,QAAQ,IAAI;AAChC,aAAK,YAAY;AAAA,MAClB;AACA,WAAK,OAAO,KAAK,cAAc,QAAQ,YAAY,IAAI,CAAC,IAAI,KAAK,YAAY,KAAK;AAAA,IACnF;AAAA,EACD;AAAA,EACA,WAAW;AAAA,IACV,MAAM;AAAA;AAAA,IAEN,QAAQ,QAAQ,QAAQ,cAAc;AACrC,UAAI,cAAc,OAAO,cAAc;AACtC,aAAK,IAAI,UAAU,QAAQ,aAAa,WAAW;AAAA,MACpD,WAAW,cAAc,eAAe,WAAW;AAClD,aAAK,IAAI,UAAU,QAAQ,aAAa,qBAAqB,aAAa,MAAM,UAAU,MAAM;AAAA,MACjG,OAAO;AACN,aAAK,IAAI,UAAU,QAAQ,WAAW;AAAA,MACvC;AACA,YAAM,MAAM,cAAc,OAAO,YAAY,IAAI;AACjD,WAAK,YAAY,OAAO,KAAK,OAAO,KAAK,CAAC;AAAA,IAC3C;AAAA,IACA,MAAM,QAAQ;AACb,WAAK,IAAI,QAAQ,QAAQ,WAAW;AAAA,IACrC;AAAA,IACA,sBAAsB;AAAA,IACtB,aAAa,SAAS;AACrB,cAAQ,UAAU,WAAW,EAAE;AAC/B,UAAI,CAAC,QAAQ,UAAU,WAAW,EAAE,MAAM;AACzC,gBAAQ,eAAe,WAAW;AAClC;AAAA,MACD;AACA,WAAK,IAAI,aAAa,SAAS,WAAW;AAC1C,UAAI,CAAC,KAAK,aAAa,IAAI,GAAG,GAAG;AAChC;AAAA,MACD;AACA,WAAK,eAAe;AACpB,YAAM,SAAS,KAAK,QAAQ,mBAAmB,SAAS,EAAE;AAC1D,UAAI,OAAO,WAAW;AAAU,cAAM,IAAI,MAAM,4BAA4B;AAC5E,YAAM,aAAa,EAAC,IAAI,KAAK,KAAK,UAAU,GAAG,YAAY,QAAQ,MAAM,MAAK;AAC9E,WAAK,OAAO,QAAQ,SAAS,SAAS,UAAwB;AAC9D,aAAO;AAAA,IACR;AAAA,EACD;AAAA,EACA,QAAQ;AAAA,IACP,MAAM;AAAA,IACN,UAAU;AAAA,IACV,sBAAsB;AAAA,IACtB,aAAa,SAAS;AACrB,WAAK,IAAI,QAAQ,SAAS,QAAQ;AAClC,WAAK,SAAS,UAAU,OAAO;AAC/B,aAAO;AAAA,IACR;AAAA,EACD;AAAA,EACA,SAAS;AAAA,IACR,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,cAAc,SAAS;AACtB,cAAQ,QAAQ;AAAA,IACjB;AAAA,IACA,QAAQ,QAAQ;AACf,WAAK,IAAI,aAAa,QAAQ,SAAS;AAAA,IACxC;AAAA,EACD;AAAA,EACA,SAAS;AAAA,IACR,MAAM;AAAA,IACN,QAAQ;AAAA,EACT;AAAA,EACA,kBAAkB;AAAA,IACjB,MAAM;AAAA,IACN,UAAU;AAAA,IACV,iBAAiB,QAAQ,QAAQ;AAChC,UAAI,QAAQ,QAAQ,UAAU;AAAG,eAAO;AACxC,aAAO,KAAK,OAAO,GAAG,CAAC;AAAA,IACxB;AAAA,IACA,QAAQ,SAAS,QAAQ;AACxB,WAAK,IAAI,aAAa,SAAS,WAAW,KAAK,YAAY,cAAc,UAAU,MAAM;AACzF,WAAK,YAAY,eAAe,OAAO,QAAQ,aAAa,IAAI,IAAI;AAAA,IACrE;AAAA,IACA,iBAAiB;AAAA,IACjB,WAAW,SAAS;AACnB,YAAM,SAAS,KAAK,YAAY;AAEhC,YAAM,aAAa,CAAC,kBAAkB,eAAe,EAAE,SAAS,KAAK,YAAY,aAAa,EAAE;AAChG,UAAI,WAAW,CAAC,OAAO,YAAY,OAAO,MAAM,KAAK,CAAC,OAAO,gBAAgB,CAAC,YAAY;AACzF,eAAO,QAAQ,UAAU,kBAAkB;AAC3C,aAAK,IAAI,QAAQ,SAAS,KAAK,YAAY,cAAc,sBAAsB,UAAU;AACzF;AAAA,MACD;AACA,WAAK,OAAO,QAAQ,YAAY,KAAK,YAAY,YAAY;AAAA,IAC9D;AAAA,IACA,MAAM,SAAS;AACd,WAAK,IAAI,QAAQ,SAAS,KAAK,YAAY,cAAc,oBAAoB;AAAA,IAC9E;AAAA,IACA,cAAc,SAAS;AACtB,YAAM,aAAa,CAAC,kBAAkB,eAAe,EAAE,SAAS,KAAK,YAAY,aAAa,EAAE;AAChG,UAAI,KAAK,YAAY,QAAQ,YAAY;AAAY,gBAAQ,QAAQ;AAAA,IACtE;AAAA,EACD;AAAA,EACA,YAAY;AAAA;AAAA,IAEX,MAAM;AAAA,IACN,UAAU;AAAA,IACV,WAAW,QAAQ;AAClB,UAAI,OAAO,WAAW,OAAO;AAE5B,eAAO,OAAO,UAAU,YAAY;AAAA,MACrC;AACA,WAAK,YAAY;AAAA,IAClB;AAAA,IACA,QAAQ,QAAQ,QAAQ,QAAQ;AAC/B,WAAK,YAAY,eAAe,KAAK,OAAO,GAAG,CAAC;AAChD,WAAK,YAAY,OAAO,OAAO;AAAA,IAChC;AAAA,IACA,YAAY;AACX,UAAI,KAAK,YAAY,gBAAgB,GAAG;AACvC,aAAK,YAAY,WAAW;AAAA,MAC7B;AAAA,IACD;AAAA,IACA,MAAM,QAAQ;AACb,UAAI,KAAK,YAAY,eAAe;AAAG;AACvC,aAAO,YAAY,WAAW;AAAA,IAC/B;AAAA,IACA,WAAW,SAAS;AACnB,UAAI,QAAQ,UAAU,SAAS;AAAG;AAClC,aAAO,KAAK,YAAY;AAAA,IACzB;AAAA,EACD;AAAA,EACA,aAAa;AAAA;AAAA,IAEZ,MAAM;AAAA,IACN,UAAU;AAAA,IACV,QAAQ,UAAU,UAAU,QAAQ;AAEnC,WAAK,YAAY,OAAO,OAAO;AAC/B,eAAS,YAAY,OAAO,EAAE;AAI9B,UAAI,gBAAwB,SAAS;AACrC,UAAI,OAAO,gBAAgB,KAAK,IAAI,MAAM,IAAI,OAAO,EAAE,EAAE,WAAW,QAAQ;AAK3E,YAAI,SAAS,SAAS;AACrB,qBAAW,KAAK,OAAO,SAAS,KAAK,IAAI,CAAC;AAAA,QAC3C;AACA,wBAAgB,SAAS,SAAS,QAAQ;AAAA,MAC3C;AACA,eAAS,UAAU,OAAO,EAAE,EAAE,YAAY;AAC1C,WAAK,aAAa,SAAS;AAE3B,WAAK,SAAS,cAAc,UAAU,UAAU,MAAM;AAAA,IACvD;AAAA,IACA,MAAM,QAAQ;AACb,aAAO,eAAe,KAAK,YAAY,IAAI;AAAA,IAC5C;AAAA,IACA,aAAa;AACZ,aAAO,KAAK,YAAY;AAAA,IACzB;AAAA,IACA,cAAc,SAAS;AACtB,cAAQ,eAAe,aAAa;AAAA,IACrC;AAAA,EACD;AAAA,EACA,YAAY;AAAA,IACX,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,QAAQ,SAAS;AAChB,UAAI,CAAC,KAAK;AAAY,cAAM,IAAI,MAAM,2BAA2B;AACjE,UAAI,CAAC,KAAK,WAAW,MAAM,KAAK,WAAW,cAAc,KAAK,WAAW,iBAAiB;AAAU,eAAO;AAC3G,WAAK,YAAY,OAAO,KAAK,WAAW;AAAA,IACzC;AAAA,IACA,aAAa,SAAS,QAAQ,MAAM;AACnC,UAAI,CAAC,QAAQ,QAAQ,EAAE,UAAU;AAChC,gBAAQ,eAAe,YAAY;AACnC;AAAA,MACD;AACA,UACC,CAAC,QAAQ,aAAa,KAAK,CAAC,QAAQ,UAAU,SAAS,KACvD,KAAK,OAAO,KAAK,YAAY,QAAQ,KAAK,OAAO,YAChD;AAED,aAAK,QAAQ,QAAQ,SAAS,KAAK,IAAI;AACvC,aAAK,aAAa,SAAS;AAC3B,aAAK,MAAM,8BAA8B;AACzC,aAAK,IAAI,SAAS,OAAO;AACzB,eAAO;AAAA,MACR;AAAA,IACD;AAAA,IACA,cAAc,SAAS;AACtB,UAAI,CAAC,QAAQ,QAAQ,EAAE,YAAY,CAAC,QAAQ,QAAQ,KAAK,YAAY,IAAI,GAAG;AAC3E,gBAAQ,eAAe,YAAY;AACnC;AAAA,MACD;AACA,UAAI,QAAQ,aAAa,KAAK,QAAQ,UAAU,SAAS,GAAG;AAC3D;AAAA,MACD;AACA,iBAAW,YAAY,QAAQ,WAAW;AACzC,YAAI,SAAS,OAAO,KAAK,YAAY,MAAM;AAC1C,kBAAQ,YAAY,SAAS,IAAI,OAAO,KAAK,YAAY,YAAY;AAAA,QACtE;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EACA,cAAc;AAAA,IACb,MAAM;AAAA,IACN,UAAU;AAAA,IACV,sBAAsB;AAAA,IACtB,aAAa,SAAS;AACrB,WAAK,IAAI,QAAQ,SAAS,UAAU;AACpC,cAAQ,eAAe,cAAc;AACrC,cAAQ,eAAe,QAAQ;AAC/B,aAAO;AAAA,IACR;AAAA,IACA,QAAQ,SAAS;AAChB,WAAK,IAAI,iBAAiB,OAAO;AAAA,IAClC;AAAA,IACA,YAAY;AAAA,EACb;AAAA,EACA,YAAY;AAAA;AAAA,IAEX,MAAM;AAAA,IACN,UAAU;AAAA,IACV,iBAAiB;AAAA,IACjB,MAAM,QAAQ;AACb,YAAM,OAAO,KAAK;AAElB,YAAM,OAAO,KAAK,IAAI,MAAM,IAAI,KAAK,IAAI;AACzC,UAAI,OAAO,WAAW,WAAW,KAAK,QAAQ;AAC7C,aAAK,KAAK,GAAG,KAAK,0CAA2C,OAAO,UAAU,YAAY,aAAc;AACxG;AAAA,MACD;AAEA,WAAK,IAAI,QAAQ,QAAQ,WAAW,KAAK,IAAI;AAC7C,aAAO,eAAe,SAAS;AAC/B,aAAO,eAAe,QAAQ;AAE9B,UAAI,KAAK,OAAO,WAAW,aAAa,KAAK,KAAK,OAAO,GAAG;AAC3D,aAAK,SAAS,cAAc;AAAA,MAC7B;AACA,UAAI,KAAK,OAAO,WAAW,WAAW,KAAK,KAAK,OAAO,GAAG;AACzD,aAAK,SAAS,OAAO;AAAA,MACtB;AACA,YAAM,UAAU,IAAI,KAAK,IAAI,KAAK,KAAK,QAAQ;AAE/C,WAAK,QAAQ,iBAAiB,CAAC,MAAM,GAAG,KAAK,QAAQ,SAAS,IAAI;AAClE,UAAI,KAAK,OAAO,YAAY,KAAK,OAAO,QAAQ,SAAS,KAAK,KAAK,OAAO,GAAG;AAC5E,aAAK,YAAY,0BAA0B,KAAK,OAAO,QAAQ,GAAG,KAAK,OAAO,WAAW,KAAK,QAAQ,QAAQ,KAAK,OAAO,QAAQ,CAAC;AAAA,MACpI;AACA,WAAK,aAAa;AAElB,WAAK,SAAS;AAAA,IACf;AAAA,EACD;AAAA,EACA,iBAAiB;AAAA;AAAA,IAEhB,MAAM;AAAA,IACN,QAAQ,QAAQ,QAAQ,cAAc;AACrC,WAAK,YAAY,eAAe;AAChC,WAAK,IAAI,aAAa,QAAQ,iBAAiB;AAAA,IAChD;AAAA,IACA,oBAAoB;AAAA,IACpB,WAAW,QAAQ;AAClB,UAAI,CAAC,OAAO,SAAS;AACpB,eAAO,KAAK,OAAO,KAAK;AACxB,aAAK,IAAI,SAAS,QAAQ,OAAO,WAAW,kBAAkB,KAAK,YAAY,cAAc,WAAW;AACxG,eAAO,KAAK,oBAAoB,QAAQ,iBAAiB;AAAA,MAC1D;AAAA,IACD;AAAA,EACD;AAAA,EACA,OAAO;AAAA;AAAA,IAEN,MAAM;AAAA,IACN,UAAU;AAAA,IACV,YAAY;AAAA,IACZ,UAAU;AACT,WAAK,YAAY,UAAU;AAAA,IAC5B;AAAA,IACA,YAAY,SAAS;AAGpB,YAAM,UAAU,KAAK,YAAY,WAAW;AAC5C,WAAK,MAAM,qBAAqB,KAAK,MAAM,MAAM,OAAO,IAAI,GAAG;AAC/D,YAAM,UAAU,KAAK,aAAa,GAAG,OAAO;AAC5C,UAAI,CAAC;AAAS,eAAO,QAAQ,UAAU,OAAO;AAC9C,aAAO;AAAA,IACR;AAAA,IACA,YAAY;AACX,UAAI,KAAK,YAAY,UAAW,KAAK,OAAqB,YAAa;AACtE,aAAK,YAAY,WAAW;AAAA,MAC7B;AACA,WAAK,YAAY,WAAW;AAAA,IAC7B;AAAA,EACD;AAAA,EAEA,KAAK;AAAA,IACJ,MAAM;AAAA,IACN,UAAU;AAAA,IACV,gBAAgB;AAAA,IAChB,qBAAqB;AAAA,IACrB,YAAY,WAAW,MAAM,QAAQ,MAAM;AAC1C,WAAK,MAAM,WAAW;AACtB,aAAO,KAAK,YAAY,CAAC,MAAM,IAAI,CAAC;AAAA,IACrC;AAAA,EACD;AAAA;AAAA,EAIA,WAAW;AAAA,IACV,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,UAAU;AAAA,IACV,iBAAiB,QAAQ,QAAQ;AAChC,UAAI,QAAQ,QAAQ,UAAU,GAAG;AAChC,eAAO;AAAA,MACR;AACA,aAAO;AAAA,IACR;AAAA,IACA,sBAAsB,QAAQ,UAAU,UAAU,MAAM;AACvD,UAAI,KAAK,OAAO,uBAAuB,CAAC,SAAS,QAAQ,iBAAiB,GAAG;AAC5E,aAAK,MAAM,+BAA+B;AAC1C,eAAO,KAAK,YAAY,CAAC;AAAA,MAC1B;AACA,UAAI,SAAS,QAAQ,iBAAiB;AAAG;AACzC,UAAI,KAAK,SAAS,SAAS;AAC1B,aAAK,MAAM,kBAAkB;AAC7B,eAAO,KAAK,YAAY,GAAG;AAAA,MAC5B;AACA,UAAI,KAAK,SAAS,QAAQ;AACzB,aAAK,MAAM,oBAAoB;AAC/B,eAAO,KAAK,YAAY,GAAG;AAAA,MAC5B;AAAA,IACD;AAAA,IACA,aAAa,OAAO,QAAQ,QAAQ;AACnC,UAAI,QAAQ,eAAe,WAAW;AACrC,YAAI,KAAK,OAAO;AAAG,eAAK,YAAY,WAAW;AAC/C,aAAK,IAAI,YAAY,aAAa,qBAAqB,OAAO,MAAM,UAAU,MAAM;AAAA,MACrF,OAAO;AACN,aAAK,IAAI,YAAY,WAAW;AAAA,MACjC;AAAA,IACD;AAAA,IACA,sBAAsB;AAAA,IACtB,kBAAkB;AACjB,WAAK,IAAI,YAAY,aAAa,UAAU;AAC5C,WAAK,UAAU,SAAS;AAAA,IACzB;AAAA,IACA,aAAa;AACZ,WAAK,IAAI,YAAY,MAAM;AAAA,IAC5B;AAAA,EACD;AAAA,EACA,eAAe;AAAA,IACd,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,UAAU;AAAA,IACV,mBAAmB;AAAA,IACnB,UAAU,UAAU,UAAU,MAAM;AACnC,UAAI,KAAK,SAAS,UAAU,KAAK,OAAO,uBAAuB,KAAK,aAAa,UAAU;AAC1F,aAAK,MAAM,8BAA8B;AACzC,aAAK,IAAI,SAAS,UAAU,MAAM,uBAAuB;AACzD,aAAK,aAAa,SAAS;AAC3B,eAAO;AAAA,MACR;AAAA,IACD;AAAA,IACA,sBAAsB,QAAQ,UAAU,UAAU,MAAM;AACvD,UAAI,SAAS,QAAQ,iBAAiB;AAAG;AACzC,UAAI,KAAK,SAAS,SAAS;AAC1B,aAAK,MAAM,kBAAkB;AAC7B,eAAO,KAAK,YAAY,GAAG;AAAA,MAC5B;AAAA,IACD;AAAA,IACA,aAAa,OAAO,QAAQ,QAAQ;AACnC,WAAK,IAAI,YAAY,iBAAiB,qBAAqB,OAAO,MAAM,UAAU,MAAM;AAAA,IACzF;AAAA,IACA,sBAAsB;AAAA,IACtB,kBAAkB;AACjB,WAAK,IAAI,YAAY,iBAAiB,UAAU;AAChD,WAAK,UAAU,SAAS;AAAA,IACzB;AAAA,IACA,aAAa;AACZ,WAAK,IAAI,YAAY,MAAM;AAAA,IAC5B;AAAA,EACD;AAAA,EACA,UAAU;AAAA,IACT,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,UAAU;AAAA,IACV,iBAAiB,QAAQ,QAAQ;AAChC,UAAI,QAAQ,QAAQ,UAAU,GAAG;AAChC,eAAO;AAAA,MACR;AACA,aAAO;AAAA,IACR;AAAA,IACA,sBAAsB,QAAQ,UAAU,UAAU,MAAM;AACvD,UAAI,KAAK,OAAO,gBAAgB,CAAC,SAAS,QAAQ,iBAAiB,GAAG;AACrE,aAAK,MAAM,6BAA6B;AACxC,eAAO,KAAK,YAAY,GAAG;AAAA,MAC5B;AACA,UAAI,SAAS,QAAQ,iBAAiB;AAAG;AACzC,UAAI,KAAK,SAAS,QAAQ;AACzB,aAAK,MAAM,sBAAsB;AACjC,eAAO,KAAK,YAAY,GAAG;AAAA,MAC5B;AACA,UAAI,KAAK,SAAS,SAAS;AAC1B,aAAK,MAAM,0BAA0B;AACrC,eAAO,KAAK,YAAY,GAAG;AAAA,MAC5B;AAAA,IACD;AAAA,IACA,aAAa,QAAQ,QAAQ,QAAQ;AACpC,UAAI,QAAQ,eAAe,WAAW;AACrC,YAAI,KAAK,OAAO;AAAG,eAAK,YAAY,WAAW;AAC/C,aAAK,IAAI,YAAY,YAAY,qBAAqB,OAAO,MAAM,UAAU,MAAM;AAAA,MACpF,OAAO;AACN,aAAK,IAAI,YAAY,UAAU;AAAA,MAChC;AAAA,IACD;AAAA,IACA,WAAW,MAAM,SAAS;AACzB,UAAI,QAAQ,QAAQ,iBAAiB;AAAG;AACxC,UAAI,SAAS;AAAO,eAAO;AAAA,IAC5B;AAAA,IACA,sBAAsB;AAAA,IACtB,kBAAkB;AACjB,WAAK,IAAI,YAAY,YAAY,UAAU;AAC3C,WAAK,UAAU,SAAS;AAAA,IACzB;AAAA,IACA,aAAa;AACZ,WAAK,IAAI,YAAY,MAAM;AAAA,IAC5B;AAAA,EACD;AAAA,EACA,cAAc;AAAA,IACb,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,UAAU;AAAA,IACV,mBAAmB;AAAA,IACnB,UAAU,UAAU,UAAU,MAAM;AACnC,UAAI,KAAK,SAAS,WAAW,KAAK,aAAa,UAAU;AACxD,aAAK,MAAM,8BAA8B;AACzC,aAAK,IAAI,SAAS,UAAU,MAAM,sBAAsB;AACxD,aAAK,aAAa,SAAS;AAC3B,eAAO;AAAA,MACR;AAAA,IACD;AAAA,IACA,sBAAsB,QAAQ,UAAU,UAAU,MAAM;AACvD,UAAI,SAAS,QAAQ,iBAAiB;AAAG;AACzC,UAAI,KAAK,SAAS,QAAQ;AACzB,aAAK,MAAM,sBAAsB;AACjC,eAAO,KAAK,YAAY,GAAG;AAAA,MAC5B;AAAA,IACD;AAAA,IACA,aAAa,OAAO,QAAQ,QAAQ;AACnC,WAAK,IAAI,YAAY,gBAAgB,qBAAqB,OAAO,MAAM,UAAU,MAAM;AAAA,IACxF;AAAA,IACA,WAAW,MAAM,SAAS;AACzB,UAAI,QAAQ,QAAQ,iBAAiB;AAAG;AACxC,UAAI,SAAS;AAAO,eAAO;AAAA,IAC5B;AAAA,IACA,sBAAsB;AAAA,IACtB,kBAAkB;AACjB,WAAK,IAAI,YAAY,gBAAgB,UAAU;AAC/C,WAAK,UAAU,SAAS;AAAA,IACzB;AAAA,IACA,aAAa;AACZ,WAAK,IAAI,YAAY,MAAM;AAAA,IAC5B;AAAA,EACD;AAAA,EACA,WAAW;AAAA,IACV,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,UAAU;AAAA,IACV,iBAAiB,QAAQ,QAAQ;AAChC,UAAI,QAAQ,QAAQ,YAAY,GAAG;AAClC,eAAO;AAAA,MACR;AACA,aAAO;AAAA,IACR;AAAA;AAAA;AAAA,IAGA,qBAAqB;AAAA,IACrB,YAAY,KAAK,SAAS;AACzB,UAAI,QAAQ,QAAQ,MAAM,KAAK,KAAK,MAAM,UAAU,WAAW,GAAG;AACjE,eAAO,KAAK,OAAO,KAAK,GAAG;AAAA,MAC5B;AAAA,IACD;AAAA,IACA,aAAa,OAAO,QAAQ,QAAQ;AACnC,UAAI,QAAQ,eAAe,WAAW;AACrC,YAAI,KAAK,OAAO;AAAG,eAAK,YAAY,WAAW;AAC/C,aAAK,IAAI,YAAY,aAAa,qBAAqB,OAAO,MAAM,UAAU,MAAM;AAAA,MACrF,OAAO;AACN,aAAK,IAAI,YAAY,WAAW;AAAA,MACjC;AAAA,IACD;AAAA,IACA,sBAAsB;AAAA,IACtB,kBAAkB;AACjB,WAAK,IAAI,YAAY,aAAa,UAAU;AAC5C,UAAI,KAAK,MAAM,UAAU,WAAW;AAAG,aAAK,UAAU,SAAS;AAAA,IAChE;AAAA,IACA,UAAU,QAAQ;AACjB,WAAK,OAAO,OAAO,YAAY,EAAE;AAAA,IAClC;AAAA,IACA,aAAa;AACZ,WAAK,IAAI,YAAY,MAAM;AAAA,IAC5B;AAAA,EACD;AAAA;AAAA,EAEA,aAAa;AAAA,IACZ,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,UAAU;AAAA,IACV,iBAAiB,QAAQ,QAAQ;AAChC,UAAI,QAAQ,QAAQ,YAAY,GAAG;AAClC,eAAO;AAAA,MACR;AACA,aAAO;AAAA,IACR;AAAA,IACA,aAAa,OAAO,QAAQ,QAAQ;AACnC,UAAI,QAAQ,eAAe,WAAW;AACrC,YAAI,KAAK,OAAO;AAAG,eAAK,YAAY,WAAW;AAC/C,aAAK,IAAI,YAAY,QAAQ,cAAc;AAC3C,aAAK,IAAI,YAAY,gBAAgB,UAAU;AAC/C,aAAK,IAAI,YAAY,yBAAyB;AAC9C,aAAK,IAAI,YAAY,4CAA4C;AACjE,aAAK,IAAI,YAAY,2EAA2E;AAChG,aAAK,IAAI,YAAY,gFAAgF;AAAA,MACtG,OAAO;AACN,aAAK,IAAI,YAAY,gBAAgB,UAAU;AAAA,MAChD;AAAA,IACD;AAAA,IACA,sBAAsB;AAAA,IACtB,aAAa,MAAM,SAAS;AAC3B,YAAM,eAAe;AAAA,QACpB;AAAA,QAAgB;AAAA,QAAY;AAAA,QAAe;AAAA,QAAe;AAAA,QAAgB;AAAA,QAAmB;AAAA,QAAiB;AAAA,QAAmB;AAAA,QAAe;AAAA,QAAgB;AAAA,MACjK;AACA,UAAI,KAAK,SAAS,YAAY,CAAC,aAAa,SAAS,KAAK,EAAE,KAAK,CAAC,KAAK,OAAO,KAAK,aAAa,UAAU;AACzG,aAAK,OAAO;AACZ,aAAK,IAAI,YAAY,GAAG,KAAK,eAAe,KAAK,gCAAgC;AAAA,MAClF;AAAA,IACD;AAAA,IACA,sBAAsB,QAAQ,UAAU,UAAU,MAAM;AACvD,UAAI,KAAK,SAAS,UAAU,KAAK,SAAS,YAAY,KAAK,SAAS,SAAS;AAC5E,aAAK,MAAM,oBAAoB;AAC/B,aAAK,IAAI,YAAY,GAAG,KAAK,0CAA0C;AACvE,eAAO,KAAK,YAAY,CAAC,MAAQ,IAAM,CAAC;AAAA,MACzC;AAAA,IACD;AAAA,IACA,aAAa;AACZ,WAAK,IAAI,YAAY,gBAAgB,UAAU;AAC/C,WAAK,IAAI,YAAY,8BAA8B;AACnD,WAAK,UAAU,SAAS;AAAA,IACzB;AAAA,IACA,aAAa;AACZ,WAAK,IAAI,YAAY,QAAQ,UAAU;AACvC,WAAK,IAAI,YAAY,4BAA4B;AAAA,IAClD;AAAA,EACD;AAAA;AAAA,EAGA,MAAM;AAAA,IACL,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,UAAU;AAAA,IACV,iBAAiB,QAAQ,QAAQ;AAChC,UAAI,QAAQ,QAAQ,SAAS,GAAG;AAC/B,eAAO;AAAA,MACR;AACA,aAAO;AAAA,IACR;AAAA,IACA,aAAa,OAAO,QAAQ,QAAQ;AACnC,UAAI,QAAQ,eAAe,WAAW;AACrC,YAAI,KAAK,OAAO;AAAG,eAAK,YAAY,WAAW;AAC/C,aAAK,IAAI,YAAY,QAAQ,qBAAqB,OAAO,MAAM,UAAU,MAAM;AAAA,MAChF,OAAO;AACN,aAAK,IAAI,YAAY,MAAM;AAAA,MAC5B;AAAA,IACD;AAAA,IACA,sBAAsB;AAAA,IACtB,kBAAkB;AACjB,WAAK,IAAI,YAAY,QAAQ,UAAU;AACvC,UAAI,KAAK,MAAM,UAAU,MAAM;AAAG,aAAK,UAAU,SAAS;AAAA,IAC3D;AAAA,IACA,UAAU,QAAQ;AAEjB,UAAI,OAAO,KAAK,iBAAiB,YAAY,GAAG;AAE/C,aAAK,OAAO,OAAO,YAAY,CAAC;AAAA,MACjC,OAAO;AAEN,aAAK,OAAO,OAAO,YAAY,EAAE;AAAA,MAClC;AAAA,IACD;AAAA,IACA,aAAa;AACZ,WAAK,IAAI,YAAY,MAAM;AAAA,IAC5B;AAAA;AAAA,IAEA,eAAe,QAAQ,SAAS,QAAQ,MAAM;AAE7C,UAAI,KAAK,MAAM,UAAU,MAAM,KAAK,QAAQ,QAAQ,KAAK,KAAK,QAAQ,eAAe,IAAI,EAAE,UAAU,GAAG;AACvG,aAAK,MAAM,2DAA2D;AACtE,eAAO,KAAK,YAAY,IAAI;AAAA,MAC7B;AAAA,IACD;AAAA;AAAA,EAED;AAAA,EACA,MAAM;AAAA,IACL,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,UAAU;AAAA,IACV,iBAAiB,QAAQ,QAAQ;AAChC,UAAI,QAAQ,QAAQ,SAAS,GAAG;AAC/B,eAAO;AAAA,MACR;AACA,aAAO;AAAA,IACR;AAAA,IACA,qBAAqB;AAAA,IACrB,YAAY,KAAK,SAAS;AACzB,UAAI,QAAQ,QAAQ,KAAK,KAAK,KAAK,MAAM,UAAU,MAAM,GAAG;AAC3D,eAAO,KAAK,OAAO,KAAK,GAAG;AAAA,MAC5B;AAAA,IACD;AAAA,IACA,aAAa,OAAO,QAAQ,QAAQ;AACnC,UAAI,QAAQ,eAAe,WAAW;AACrC,YAAI,KAAK,OAAO;AAAG,eAAK,YAAY,WAAW;AAC/C,aAAK,IAAI,YAAY,QAAQ,qBAAqB,OAAO,MAAM,UAAU,MAAM;AAAA,MAChF,OAAO;AACN,aAAK,IAAI,YAAY,MAAM;AAAA,MAC5B;AAAA,IACD;AAAA,IACA,sBAAsB;AAAA,IACtB,kBAAkB;AACjB,WAAK,IAAI,YAAY,QAAQ,UAAU;AACvC,UAAI,KAAK,MAAM,UAAU,MAAM;AAAG,aAAK,UAAU,SAAS;AAAA,IAC3D;AAAA,IACA,UAAU,QAAQ;AAEjB,UAAI,OAAO,KAAK,iBAAiB,YAAY,GAAG;AAE/C,aAAK,OAAO,OAAO,YAAY,CAAC;AAAA,MACjC;AAAA,IACD;AAAA,IACA,aAAa;AACZ,WAAK,IAAI,YAAY,MAAM;AAAA,IAC5B;AAAA,EACD;AAAA,EACA,aAAa;AAAA,IACZ,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,UAAU;AAAA,IACV,yBAAyB;AAAA,IACzB,gBAAgB,SAAS,QAAQ,MAAM,MAAM;AAC5C,UAAI,QAAQ,KAAK,eAAe,UAAU,KAAK,aAAa,YAAY,SAAS,YAAY,UAAU,GAAG;AACzG,aAAK,IAAI,kBAAkB,cAAc;AACzC,eAAO;AAAA,MACR;AAAA,IACD;AAAA,IACA,aAAa,OAAO,QAAQ,QAAQ;AACnC,WAAK,IAAI,YAAY,eAAe,qBAAqB,OAAO,MAAM,UAAU,MAAM;AAAA,IACvF;AAAA,IACA,sBAAsB;AAAA,IACtB,kBAAkB;AACjB,WAAK,IAAI,YAAY,eAAe,UAAU;AAC9C,WAAK,UAAU,SAAS;AAAA,IACzB;AAAA,IACA,aAAa;AACZ,WAAK,IAAI,YAAY,MAAM;AAAA,IAC5B;AAAA,EACD;AAAA,EAEA,SAAS;AAAA,IACR,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,QAAQ,SAAS;AAChB,WAAK,YAAY,QAAQ;AACzB,cAAQ,eAAe,UAAU;AACjC,cAAQ,eAAe,YAAY;AACnC,UAAI,QAAQ,UAAU,SAAS,GAAG;AACjC,eAAO,QAAQ,UAAU,SAAS;AAClC,aAAK,IAAI,QAAQ,SAAS,WAAW,UAAU;AAAA,MAChD;AACA,UAAI,CAAC,oBAAoB,kBAAkB,EAAE,SAAS,QAAQ,QAAQ,EAAE,KAAK,CAAC,QAAQ,aAAa;AAClG,gBAAQ,YAAY,WAAW;AAAA,MAChC;AACA,WAAK,IAAI,UAAU,SAAS,WAAW,QAAQ,aAAa,SAAS,EAAE;AACvE,UAAI,QAAQ,YAAY,SAAS;AAAY;AAG7C,YAAM,QAAQ,MAAO,QAAQ,eAAe;AAE5C,cAAQ,QAAQ,KAAK,MAAM,QAAQ,QAAQ,KAAK;AAChD,cAAQ,KAAK,KAAK,MAAM,QAAQ,KAAK,KAAK;AAC1C,WAAK,IAAI,SAAS,SAAS,QAAQ,WAAW,UAAU;AAAA,IACzD;AAAA,IACA,iBAAiB,QAAQ,SAAS;AACjC,UAAI,OAAO,OAAO;AAAU,eAAO;AAAA,IACpC;AAAA,IACA,2BAA2B;AAAA,IAC3B,kBAAkB,SAAS;AAC1B,cAAQ,eAAe,SAAS;AAAA,IACjC;AAAA,IACA,qBAAqB,QAAQ,QAAQ,QAAQ,MAAM;AAClD,UAAI,KAAK,OAAO,kBAAkB,KAAK,OAAO,mBAAmB,KAAK,OAAO,iBAAiB;AAC7F,eAAO,KAAK,YAAY,CAAC;AAAA,MAC1B;AAAA,IACD;AAAA,IACA,mBAAmB;AAAA,IACnB,UAAU,SAAS;AAClB,WAAK,IAAI,UAAU,SAAS,SAAS;AACrC,aAAO;AAAA,IACR;AAAA,IACA,oBAAoB;AAAA,IACpB,aAAa;AACZ,WAAK,YAAY;AAAA,IAClB;AAAA,IACA,MAAM,SAAS;AACd,WAAK,IAAI,QAAQ,SAAS,SAAS;AACnC,UAAI,QAAQ,YAAY,SAAS;AAAY;AAC7C,cAAQ,KAAK,QAAQ,iBAAiB;AACtC,cAAQ,QAAQ,QAAQ;AACxB,WAAK,IAAI,SAAS,SAAS,QAAQ,WAAW,UAAU;AAAA,IACzD;AAAA,EACD;AAAA;AAAA,EAIA,mBAAmB;AAAA,IAClB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,SAAS;AACjB,UAAI,QAAQ,YAAY,gBAAgB,aAAa,QAAQ,QAAQ,YAAY,KAAK,CAAC,QAAQ,UAAU,kBAAkB,GAAG;AAC7H,gBAAQ,YAAY,kBAAkB;AAAA,MACvC;AAAA,IACD;AAAA,EACD;AAAA,EACA,kBAAkB;AAAA,IACjB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,QAAQ;AAChB,UAAI,YAAY;AAChB,iBAAW,WAAW,KAAK,aAAa,GAAG;AAC1C,YAAI,CAAC,WAAW;AACf,eAAK,IAAI,aAAa,QAAQ,qBAAqB,UAAU;AAAA,QAC9D;AACA,oBAAY;AACZ,YAAI,CAAC,QAAQ,UAAU,SAAS,GAAG;AAClC,kBAAQ,YAAY,SAAS;AAAA,QAC9B;AAAA,MACD;AAAA,IACD;AAAA,IACA,cAAc,SAAS;AACtB,UAAI,CAAC,QAAQ,UAAU,SAAS,GAAG;AAClC,gBAAQ,YAAY,SAAS;AAAA,MAC9B;AAAA,IACD;AAAA,IACA,aAAa,SAAS;AACrB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,YAAY,gBAAgB,aAAa,OAAO,QAAQ,YAAY,KAAK,OAAO,UAAU,kBAAkB;AAAG;AAAA,MAC3H;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,SAAS,GAAG;AAChC,iBAAO,eAAe,SAAS;AAAA,QAChC;AAAA,MACD;AAAA,IACD;AAAA,IACA,YAAY,SAAS;AACpB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,YAAY,gBAAgB,aAAa,OAAO,QAAQ,YAAY,KAAK,OAAO,UAAU,kBAAkB;AAAG;AAAA,MAC3H;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,SAAS,GAAG;AAChC,iBAAO,eAAe,SAAS;AAAA,QAChC;AAAA,MACD;AAAA,IACD;AAAA,IACA,eAAe,SAAS;AACvB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,YAAY,gBAAgB,aAAa,OAAO,QAAQ,YAAY,KAAK,OAAO,UAAU,kBAAkB;AAAG;AAAA,MAC3H;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,SAAS,GAAG;AAChC,iBAAO,eAAe,SAAS;AAAA,QAChC;AAAA,MACD;AAAA,IACD;AAAA,IACA,QAAQ,SAAS;AAChB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,YAAY,gBAAgB,aAAa,OAAO,QAAQ,YAAY,KAAK,OAAO,UAAU,kBAAkB;AAAG;AAAA,MAC3H;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,SAAS,GAAG;AAChC,iBAAO,eAAe,SAAS;AAAA,QAChC;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EACA,SAAS;AAAA,IACR,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,kBAAkB,WAAW,QAAQ;AACpC,UAAI,OAAO,UAAU,iBAAiB,GAAG;AACxC,eAAO,YAAY;AAAA,MACpB;AAAA,IAED;AAAA,EACD;AAAA;AAAA,EAEA,mBAAmB;AAAA,IAClB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,SAAS;AACjB,UAAI,QAAQ,QAAQ,SAAS,oBAAoB,QAAQ,QAAQ,YAAY,KAAK,CAAC,QAAQ,UAAU,kBAAkB,GAAG;AACzH,gBAAQ,YAAY,kBAAkB;AAAA,MACvC;AAAA,IACD;AAAA,EACD;AAAA,EACA,kBAAkB;AAAA,IACjB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,QAAQ;AAChB,UAAI,YAAY;AAChB,iBAAW,WAAW,KAAK,aAAa,GAAG;AAC1C,YAAI,CAAC,WAAW;AACf,eAAK,IAAI,aAAa,QAAQ,qBAAqB,UAAU;AAAA,QAC9D;AACA,oBAAY;AACZ,YAAI,CAAC,QAAQ,UAAU,SAAS,GAAG;AAClC,kBAAQ,YAAY,SAAS;AAAA,QAC9B;AAAA,MACD;AAAA,IACD;AAAA,IACA,cAAc,SAAS;AACtB,UAAI,CAAC,QAAQ,UAAU,SAAS,GAAG;AAClC,gBAAQ,YAAY,SAAS;AAAA,MAC9B;AAAA,IACD;AAAA,IACA,aAAa,SAAS;AACrB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,QAAQ,SAAS,oBAAoB,OAAO,QAAQ,YAAY,KAAK,OAAO,UAAU,kBAAkB;AAAG;AAAA,MACvH;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,eAAO,eAAe,SAAS;AAAA,MAChC;AAAA,IACD;AAAA,IACA,YAAY,SAAS;AACpB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,QAAQ,SAAS,oBAAoB,OAAO,QAAQ,YAAY,KAAK,OAAO,UAAU,kBAAkB;AAAG;AAAA,MACvH;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,eAAO,eAAe,SAAS;AAAA,MAChC;AAAA,IACD;AAAA,IACA,eAAe,SAAS;AACvB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,QAAQ,SAAS,oBAAoB,OAAO,QAAQ,YAAY,KAAK,OAAO,UAAU,kBAAkB;AAAG;AAAA,MACvH;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,eAAO,eAAe,SAAS;AAAA,MAChC;AAAA,IACD;AAAA,IACA,QAAQ,SAAS;AAChB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,QAAQ,SAAS,oBAAoB,OAAO,QAAQ,YAAY,KAAK,OAAO,UAAU,kBAAkB;AAAG;AAAA,MACvH;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,eAAO,eAAe,SAAS;AAAA,MAChC;AAAA,IACD;AAAA,EACD;AAAA,EACA,SAAS;AAAA,IACR,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,qBAAqB,QAAQ,QAAQ,QAAQ,MAAM;AAClD,YAAM,QAA+B,CAAC,OAAO,OAAO,OAAO,OAAO,OAAO,YAAY,SAAS;AACxF,YAAM,sBAAsB,MAAM,KAAK,WAAS,OAAO,OAAO,IAAI,KAAK,KAAK,CAAC;AAE7E,UAAI,uBAAuB,CAAC,OAAO,UAAU,iBAAiB,GAAG;AAC7D,aAAK,MAAM,gBAAgB;AAC3B,eAAO,KAAK,YAAY,IAAI;AAAA,MAChC;AAAA,IACP;AAAA,EACD;AAAA;AAAA,EAEA,qBAAqB;AAAA,IACpB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,SAAS;AACjB,UAAI,QAAQ,QAAQ,SAAS,uBAAuB,QAAQ,QAAQ,cAAc,KAAK,CAAC,QAAQ,UAAU,oBAAoB,GAAG;AAChI,gBAAQ,YAAY,oBAAoB;AAAA,MACzC;AAAA,IACD;AAAA,EACD;AAAA,EACA,oBAAoB;AAAA,IACnB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,QAAQ;AAChB,UAAI,YAAY;AAChB,iBAAW,WAAW,KAAK,aAAa,GAAG;AAC1C,YAAI,CAAC,WAAW;AACf,eAAK,IAAI,aAAa,QAAQ,uBAAuB,UAAU;AAAA,QAChE;AACA,oBAAY;AACZ,YAAI,CAAC,QAAQ,UAAU,YAAY,GAAG;AACrC,kBAAQ,YAAY,YAAY;AAAA,QACjC;AAAA,MACD;AAAA,IACD;AAAA,IACA,cAAc,SAAS;AACtB,UAAI,CAAC,QAAQ,UAAU,YAAY,GAAG;AACrC,gBAAQ,YAAY,YAAY;AAAA,MACjC;AAAA,IACD;AAAA,IACA,aAAa,SAAS;AACrB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,YAAY,gBAAgB,gBAAgB,OAAO,QAAQ,cAAc,KAAK,OAAO,UAAU,oBAAoB;AAAG;AAAA,MAClI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,eAAO,eAAe,YAAY;AAAA,MACnC;AAAA,IACD;AAAA,IACA,YAAY,SAAS;AACpB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,YAAY,gBAAgB,gBAAgB,OAAO,QAAQ,cAAc,KAAK,OAAO,UAAU,oBAAoB;AAAG;AAAA,MAClI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,eAAO,eAAe,YAAY;AAAA,MACnC;AAAA,IACD;AAAA,IACA,eAAe,SAAS;AACvB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,YAAY,gBAAgB,gBAAgB,OAAO,QAAQ,cAAc,KAAK,OAAO,UAAU,oBAAoB;AAAG;AAAA,MAClI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,eAAO,eAAe,YAAY;AAAA,MACnC;AAAA,IACD;AAAA,IACA,QAAQ,SAAS;AAChB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,YAAY,gBAAgB,gBAAgB,OAAO,QAAQ,cAAc,KAAK,OAAO,UAAU,oBAAoB;AAAG;AAAA,MAClI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,eAAO,eAAe,YAAY;AAAA,MACnC;AAAA,IACD;AAAA,EACD;AAAA,EACA,YAAY;AAAA,IACX,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,cAAc,OAA6B,QAAiB,QAAwB,QAAgB;AACnG,UAAI,OAAO,UAAU,iBAAiB,GAAG;AACxC;AAAA,MACD;AACA,UAAI,UAAU;AACd,iBAAW,QAAQ,OAAO;AACzB,YAAI,QAAQ,SAAS,OAAO,MAAM,IAAyB,MAAM,YAAY,MAAM,IAAyB,IAAK,GAAG;AACnH,iBAAO,MAAM,IAAyB;AACtC,oBAAU;AAAA,QACX;AAAA,MACD;AACA,UAAI,SAAS;AACZ,aAAK,IAAI,SAAS,QAAQ,WAAW,sCAAsC;AAAA,MAC5E;AAAA,IACD;AAAA,EACD;AAAA;AAAA,EAEA,mBAAmB;AAAA,IAClB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,SAAS;AACjB,UAAI,QAAQ,YAAY,gBAAgB,eAAe,QAAQ,QAAQ,YAAY,KAAK,CAAC,QAAQ,UAAU,kBAAkB,GAAG;AAC/H,gBAAQ,YAAY,kBAAkB;AAAA,MACvC;AAAA,IACD;AAAA,EACD;AAAA,EACA,kBAAkB;AAAA,IACjB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,QAAQ;AAChB,UAAI,YAAY;AAChB,iBAAW,WAAW,KAAK,aAAa,GAAG;AAC1C,YAAI,CAAC,WAAW;AACf,eAAK,IAAI,aAAa,QAAQ,qBAAqB,UAAU;AAAA,QAC9D;AACA,oBAAY;AACZ,YAAI,CAAC,QAAQ,UAAU,WAAW,GAAG;AACpC,kBAAQ,YAAY,WAAW;AAAA,QAChC;AAAA,MACD;AAAA,IACD;AAAA,IACA,cAAc,SAAS;AACtB,UAAI,CAAC,QAAQ,UAAU,WAAW,GAAG;AACpC,gBAAQ,YAAY,WAAW;AAAA,MAChC;AAAA,IACD;AAAA,IACA,aAAa,SAAS;AACrB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,YAAY,gBAAgB,eAAe,OAAO,QAAQ,YAAY,KAAK,OAAO,UAAU,kBAAkB;AAAG;AAAA,MAC7H;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,eAAO,eAAe,WAAW;AAAA,MAClC;AAAA,IACD;AAAA,IACA,YAAY,SAAS;AACpB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,YAAY,gBAAgB,eAAe,OAAO,QAAQ,YAAY,KAAK,OAAO,UAAU,kBAAkB;AAAG;AAAA,MAC7H;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,eAAO,eAAe,WAAW;AAAA,MAClC;AAAA,IACD;AAAA,IACA,eAAe,SAAS;AACvB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,YAAY,gBAAgB,eAAe,OAAO,QAAQ,YAAY,KAAK,OAAO,UAAU,kBAAkB;AAAG;AAAA,MAC7H;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,eAAO,eAAe,WAAW;AAAA,MAClC;AAAA,IACD;AAAA,IACA,QAAQ,SAAS;AAChB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,YAAY,gBAAgB,eAAe,OAAO,QAAQ,YAAY,KAAK,OAAO,UAAU,kBAAkB;AAAG;AAAA,MAC7H;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,eAAO,eAAe,WAAW;AAAA,MAClC;AAAA,IACD;AAAA,EACD;AAAA,EACA,WAAW;AAAA,IACV,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,eAAe,QAAQ,QAAQ,QAAQ,MAAM;AAC5C,UAAI,QAAQ,OAAO,eAAe,IAAI,EAAE,UAAU,KAAK,CAAC,OAAO,UAAU,iBAAiB,GAAG;AAC5F,eAAO,KAAK,YAAY,CAAC,MAAM,IAAI,CAAC;AAAA,MACrC;AAAA,IACD;AAAA,EACD;AAAA;AAAA,EAEA,mBAAmB;AAAA,IAClB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,SAAS;AACjB,UAAI,QAAQ,YAAY,gBAAgB,eAAe,QAAQ,QAAQ,YAAY,KAAK,CAAC,QAAQ,UAAU,kBAAkB,GAAG;AAC/H,gBAAQ,YAAY,kBAAkB;AAAA,MACvC;AAAA,IACD;AAAA,EACD;AAAA,EACA,kBAAkB;AAAA,IACjB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,QAAQ;AAChB,UAAI,YAAY;AAChB,iBAAW,WAAW,KAAK,aAAa,GAAG;AAC1C,YAAI,CAAC,WAAW;AACf,eAAK,IAAI,aAAa,QAAQ,qBAAqB,UAAU;AAAA,QAC9D;AACA,oBAAY;AACZ,YAAI,CAAC,QAAQ,UAAU,WAAW,GAAG;AACpC,kBAAQ,YAAY,WAAW;AAAA,QAChC;AAAA,MACD;AAAA,IACD;AAAA,IACA,cAAc,SAAS;AACtB,UAAI,CAAC,QAAQ,UAAU,WAAW,GAAG;AACpC,gBAAQ,YAAY,WAAW;AAAA,MAChC;AAAA,IACD;AAAA,IACA,aAAa,SAAS;AACrB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,YAAY,gBAAgB,eAAe,OAAO,QAAQ,YAAY,KAAK,OAAO,UAAU,kBAAkB;AAAG;AAAA,MAC7H;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,eAAO,eAAe,WAAW;AAAA,MAClC;AAAA,IACD;AAAA,IACA,YAAY,SAAS;AACpB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,YAAY,gBAAgB,eAAe,OAAO,QAAQ,YAAY,KAAK,OAAO,UAAU,kBAAkB;AAAG;AAAA,MAC7H;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,eAAO,eAAe,WAAW;AAAA,MAClC;AAAA,IACD;AAAA,IACA,eAAe,SAAS;AACvB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,YAAY,gBAAgB,eAAe,OAAO,QAAQ,YAAY,KAAK,OAAO,UAAU,kBAAkB;AAAG;AAAA,MAC7H;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,eAAO,eAAe,WAAW;AAAA,MAClC;AAAA,IACD;AAAA,IACA,QAAQ,SAAS;AAChB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,YAAY,gBAAgB,eAAe,OAAO,QAAQ,YAAY,KAAK,OAAO,UAAU,kBAAkB;AAAG;AAAA,MAC7H;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,eAAO,eAAe,WAAW;AAAA,MAClC;AAAA,IACD;AAAA,EACD;AAAA,EACA,WAAW;AAAA,IACV,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,qBAAqB,QAAQ,QAAQ,QAAQ,MAAM;AAClD,UAAI,OAAO,eAAe,IAAI,EAAE,UAAU,KAAK,CAAC,OAAO,UAAU,iBAAiB,GAAG;AACpF,aAAK,MAAM,sBAAsB;AACjC,eAAO,KAAK,YAAY,IAAI;AAAA,MAC7B;AAAA,IACD;AAAA,EACD;AAAA;AAAA,EAEA,sBAAsB;AAAA,IACrB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,SAAS;AACjB,UAAI,QAAQ,QAAQ,SAAS,uBAAuB,QAAQ,QAAQ,eAAe,KAAK,CAAC,QAAQ,UAAU,qBAAqB,GAAG;AAClI,gBAAQ,YAAY,qBAAqB;AAAA,MAC1C;AAAA,IACD;AAAA,EACD;AAAA,EACA,qBAAqB;AAAA,IACpB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,QAAQ;AAChB,UAAI,YAAY;AAChB,iBAAW,WAAW,KAAK,aAAa,GAAG;AAC1C,YAAI,CAAC,WAAW;AACf,eAAK,IAAI,aAAa,QAAQ,wBAAwB,UAAU;AAAA,QACjE;AACA,oBAAY;AACZ,YAAI,CAAC,QAAQ,UAAU,YAAY,GAAG;AACrC,kBAAQ,YAAY,YAAY;AAAA,QACjC;AAAA,MACD;AAAA,IACD;AAAA,IACA,cAAc,SAAS;AACtB,UAAI,CAAC,QAAQ,UAAU,YAAY,GAAG;AACrC,gBAAQ,YAAY,YAAY;AAAA,MACjC;AAAA,IACD;AAAA,IACA,aAAa,SAAS;AACrB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,QAAQ,SAAS,uBAAuB,OAAO,QAAQ,eAAe,KAAK,OAAO,UAAU,qBAAqB;AAAG;AAAA,MAChI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,eAAO,eAAe,YAAY;AAAA,MACnC;AAAA,IACD;AAAA,IACA,YAAY,SAAS;AACpB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,QAAQ,SAAS,uBAAuB,OAAO,QAAQ,eAAe,KAAK,OAAO,UAAU,qBAAqB;AAAG;AAAA,MAChI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,eAAO,eAAe,YAAY;AAAA,MACnC;AAAA,IACD;AAAA,IACA,eAAe,SAAS;AACvB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,QAAQ,SAAS,uBAAuB,OAAO,QAAQ,eAAe,KAAK,OAAO,UAAU,qBAAqB;AAAG;AAAA,MAChI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,eAAO,eAAe,YAAY;AAAA,MACnC;AAAA,IACD;AAAA,IACA,QAAQ,SAAS;AAChB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,QAAQ,SAAS,uBAAuB,OAAO,QAAQ,eAAe,KAAK,OAAO,UAAU,qBAAqB;AAAG;AAAA,MAChI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,eAAO,eAAe,YAAY;AAAA,MACnC;AAAA,IACD;AAAA,EACD;AAAA,EACA,YAAY;AAAA,IACX,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,qBAAqB,QAAQ,QAAQ,QAAQ,MAAM;AAClD,YAAM,QAA+B,CAAC,OAAO,OAAO,OAAO,OAAO,OAAO,YAAY,SAAS;AACxF,YAAM,sBAAsB,MAAM,KAAK,WAAS,OAAO,OAAO,IAAI,KAAK,KAAK,CAAC;AAE7E,UAAI,uBAAuB,CAAC,OAAO,UAAU,iBAAiB,GAAG;AAC7D,aAAK,MAAM,mBAAmB;AAC9B,eAAO,KAAK,YAAY,IAAI;AAAA,MAChC;AAAA,IACP;AAAA,EACD;AAAA;AAAA,EAEA,oBAAoB;AAAA,IACnB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,SAAS;AACjB,UAAI,QAAQ,YAAY,gBAAgB,gBAAgB,QAAQ,QAAQ,aAAa,KAAK,CAAC,QAAQ,UAAU,mBAAmB,GAAG;AAClI,gBAAQ,YAAY,mBAAmB;AAAA,MACxC;AAAA,IACD;AAAA,EACD;AAAA,EACA,mBAAmB;AAAA,IAClB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,QAAQ;AAChB,UAAI,YAAY;AAChB,iBAAW,WAAW,KAAK,aAAa,GAAG;AAC1C,YAAI,CAAC,WAAW;AACf,eAAK,IAAI,aAAa,QAAQ,sBAAsB,UAAU;AAAA,QAC/D;AACA,oBAAY;AACZ,YAAI,CAAC,QAAQ,UAAU,YAAY,KAAK,CAAC,QAAQ,QAAQ,MAAM,GAAG;AACjE,kBAAQ,YAAY,YAAY;AAAA,QACjC;AAAA,MACD;AAAA,IACD;AAAA,IACA,cAAc,SAAS;AACtB,UAAI,CAAC,QAAQ,UAAU,YAAY,KAAK,CAAC,QAAQ,QAAQ,MAAM,GAAG;AACjE,gBAAQ,YAAY,YAAY;AAAA,MACjC;AAAA,IACD;AAAA,IACA,aAAa,SAAS;AACrB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,YAAY,gBAAgB,gBAAgB,OAAO,QAAQ,aAAa,KAAK,OAAO,UAAU,mBAAmB;AAAG;AAAA,MAChI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,YAAY,GAAG;AACnC,iBAAO,eAAe,SAAS;AAC/B,iBAAO,eAAe,YAAY;AAAA,QACnC;AAAA,MACD;AAAA,IACD;AAAA,IACA,YAAY,SAAS;AACpB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,YAAY,gBAAgB,gBAAgB,OAAO,QAAQ,aAAa,KAAK,OAAO,UAAU,mBAAmB;AAAG;AAAA,MAChI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,YAAY,GAAG;AACnC,iBAAO,eAAe,SAAS;AAC/B,iBAAO,eAAe,YAAY;AAAA,QACnC;AAAA,MACD;AAAA,IACD;AAAA,IACA,eAAe,SAAS;AACvB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,YAAY,gBAAgB,gBAAgB,OAAO,QAAQ,aAAa,KAAK,OAAO,UAAU,mBAAmB;AAAG;AAAA,MAChI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,YAAY,GAAG;AACnC,iBAAO,eAAe,SAAS;AAC/B,iBAAO,eAAe,YAAY;AAAA,QACnC;AAAA,MACD;AAAA,IACD;AAAA,IACA,QAAQ,SAAS;AAChB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,YAAI,OAAO,YAAY,gBAAgB,gBAAgB,OAAO,QAAQ,aAAa,KAAK,OAAO,UAAU,mBAAmB;AAAG;AAAA,MAChI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,YAAY,GAAG;AACnC,iBAAO,eAAe,SAAS;AAC/B,iBAAO,eAAe,YAAY;AAAA,QACnC;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EACA,YAAY;AAAA,IACX,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,QAAQ,QAAQ;AACf,UAAI,CAAC,OAAO,QAAQ,MAAM,KAAK,CAAC,OAAO,UAAU,SAAS,KAAK,CAAC,OAAO,UAAU,iBAAiB,GAAG;AACpG,eAAO,YAAY,SAAS;AAAA,MAC7B;AACA,UAAI,OAAO,UAAU,iBAAiB,GAAG;AACxC,eAAO,eAAe,SAAS;AAAA,MAChC;AAAA,IACD;AAAA,EACD;AAAA;AAAA,EAEA,iBAAiB;AAAA,IAChB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,SAAS;AACjB,WAAK,QAAQ,QAAQ,KAAK,KAAK,QAAQ,QAAQ,UAAU,MAAM,QAAQ,QAAQ,UAAU,KAAK,CAAC,QAAQ,UAAU,gBAAgB,GAAG;AACnI,gBAAQ,YAAY,gBAAgB;AAAA,MACrC;AAAA,IACD;AAAA,EACD;AAAA,EACA,gBAAgB;AAAA,IACf,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,QAAQ;AAChB,UAAI,YAAY;AAChB,iBAAW,WAAW,KAAK,aAAa,GAAG;AAC1C,YAAI,CAAC,WAAW;AACf,eAAK,IAAI,aAAa,QAAQ,oBAAoB,UAAU;AAAA,QAC7D;AACA,oBAAY;AACZ,YAAI,CAAC,QAAQ,UAAU,UAAU,MAAM,QAAQ,QAAQ,KAAK,KAAK,QAAQ,QAAQ,UAAU,IAAI;AAC9F,kBAAQ,YAAY,UAAU;AAAA,QAC/B;AAAA,MACD;AAAA,IACD;AAAA,IACA,cAAc,SAAS;AACtB,UAAI,CAAC,QAAQ,UAAU,UAAU,MAAM,QAAQ,QAAQ,KAAK,KAAK,QAAQ,QAAQ,UAAU,IAAI;AAC9F,gBAAQ,YAAY,UAAU;AAAA,MAC/B;AAAA,IACD;AAAA,IACA,aAAa,SAAS;AACrB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,KAAK,KAAK,OAAO,QAAQ,UAAU,MAAM,OAAO,QAAQ,UAAU,KAAK,OAAO,UAAU,gBAAgB;AAAG;AAAA,MAChI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,UAAU,GAAG;AACjC,iBAAO,eAAe,UAAU;AAAA,QACjC;AAAA,MACD;AAAA,IACD;AAAA,IACA,YAAY,SAAS;AACpB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,KAAK,KAAK,OAAO,QAAQ,UAAU,MAAM,OAAO,QAAQ,UAAU,KAAK,OAAO,UAAU,gBAAgB;AAAG;AAAA,MAChI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,UAAU,GAAG;AACjC,iBAAO,eAAe,UAAU;AAAA,QACjC;AAAA,MACD;AAAA,IACD;AAAA,IACA,eAAe,SAAS;AACvB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,KAAK,KAAK,OAAO,QAAQ,UAAU,MAAM,OAAO,QAAQ,UAAU,KAAK,OAAO,UAAU,gBAAgB;AAAG;AAAA,MAChI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,UAAU,GAAG;AACjC,iBAAO,eAAe,UAAU;AAAA,QACjC;AAAA,MACD;AAAA,IACD;AAAA,IACA,QAAQ,SAAS;AAChB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,KAAK,KAAK,OAAO,QAAQ,UAAU,MAAM,OAAO,QAAQ,UAAU,KAAK,OAAO,UAAU,gBAAgB;AAAG;AAAA,MAChI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,UAAU,GAAG;AACjC,iBAAO,eAAe,UAAU;AAAA,QACjC;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EACA,UAAU;AAAA,IACT,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,aAAa,QAAQ,QAAQ,MAAM;AAElC,UAAI,QAAQ,KAAK,WAAW,mBAAmB;AAC9C,mBAAW,OAAO,OAAO,KAAK,GAAG;AAChC,cAAI,IAAI,WAAW,MAAM,GAAG;AAC3B,kBAAM,SAAS,EAAE,GAAG,IAAI,OAAO;AAC/B,gBAAI,YAAY,aAAa,MAAM;AACnC,gBAAI,UAAU,WAAW,EAAE,SAAS;AAAA,UACrC;AAAA,QACD;AAAA,MACD,WAAW,QAAQ,KAAK,WAAW,eAAe;AACjD,mBAAW,YAAY,KAAK,aAAa,GAAG;AAC3C,cAAI,aAAa,UAAU,SAAS,WAAW,MAAM,GAAG;AACvD,kBAAM,SAAS,EAAE,GAAG,SAAS,OAAO;AACpC,qBAAS,YAAY,aAAa,MAAM;AACxC,qBAAS,UAAU,WAAW,EAAE,SAAS;AAAA,UAC1C;AAAA,QACD;AAAA,MACD,WAAW,QAAQ,KAAK,WAAW,UAAU;AAC5C,cAAM,SAAS,EAAE,GAAG,OAAO,OAAO;AAClC,eAAO,YAAY,aAAa,MAAM;AACtC,eAAO,UAAU,WAAW,EAAE,SAAS;AAAA,MACxC;AAAA,IACD;AAAA,IACA,YAAY,QAAQ,QAAQ,MAAM;AAEjC,UAAI,OAAO,UAAU,iBAAiB,KAAK,WAAW;AAAQ;AAE9D,YAAM,QAAQ,CAAC,OAAO,OAAO,OAAO,OAAO,OAAO,YAAY,SAAS;AAIvE,iBAAW,gBAAgB,KAAK,aAAa,GAAG;AAC/C,YAAI,CAAC,aAAa,UAAU,WAAW;AAAG;AAE1C,cAAM,eAAe,aAAa,UAAU,WAAW,EAAE;AACzD,cAAM,gBAAgB,aAAa;AACnC,YAAI,cAAc;AAElB,mBAAW,QAAQ,OAAO;AAEzB,cAAI,cAAc,IAAI,IAAI,aAAa,IAAI,GAAG;AAC7C,0BAAc;AACd;AAAA,UACD;AAAA,QACD;AAEA,YAAI,aAAa;AAChB,eAAK,KAAK,OAAO,YAAY,CAAC;AAC9B,gBAAM,OAAO,OAAO,KAAK,OAAO;AAAA,YAAK,CAAAA,UAAQA,SAAQA,UAAS,UAAU,CAACA,MAAK,YACzEA,MAAK,QAAQ,KAAK,KAAKA,MAAK,QAAQ,UAAU,KAAKA,MAAK,UAAU,UAAU;AAAA,UACjF;AACA,cAAI,MAAM;AACT,iBAAK,KAAK,KAAK,YAAY,IAAI,IAAI;AAAA,UACpC;AAAA,QAUD;AAGA,eAAO,aAAa,UAAU,WAAW;AAAA,MAC1C;AAAA,IACD;AAAA,EACD;AAAA;AAAA,EAEA,iBAAiB;AAAA,IAChB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,SAAS;AACjB,WAAK,QAAQ,QAAQ,MAAM,KAAK,QAAQ,QAAQ,OAAO,MAAM,QAAQ,QAAQ,UAAU,KAAK,CAAC,QAAQ,UAAU,gBAAgB,GAAG;AACjI,gBAAQ,YAAY,gBAAgB;AAAA,MACrC;AAAA,IACD;AAAA,EACD;AAAA,EACA,gBAAgB;AAAA,IACf,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,QAAQ;AAChB,UAAI,YAAY;AAChB,iBAAW,WAAW,KAAK,aAAa,GAAG;AAC1C,YAAI,CAAC,WAAW;AACf,eAAK,IAAI,aAAa,QAAQ,oBAAoB,UAAU;AAAA,QAC7D;AACA,oBAAY;AACZ,YAAI,CAAC,QAAQ,UAAU,UAAU,MAAM,QAAQ,QAAQ,MAAM,KAAK,QAAQ,QAAQ,OAAO,IAAI;AAC5F,kBAAQ,YAAY,UAAU;AAAA,QAC/B;AAAA,MACD;AAAA,IACD;AAAA,IACA,cAAc,SAAS;AACtB,UAAI,CAAC,QAAQ,UAAU,UAAU,MAAM,QAAQ,QAAQ,MAAM,KAAK,QAAQ,QAAQ,OAAO,IAAI;AAC5F,gBAAQ,YAAY,UAAU;AAAA,MAC/B;AAAA,IACD;AAAA,IACA,aAAa,SAAS;AACrB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,MAAM,KAAK,OAAO,QAAQ,OAAO,MAAM,OAAO,QAAQ,UAAU,KAAK,OAAO,UAAU,gBAAgB;AAAG;AAAA,MAC9H;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,UAAU,GAAG;AACjC,iBAAO,eAAe,UAAU;AAAA,QACjC;AAAA,MACD;AAAA,IACD;AAAA,IACA,YAAY,SAAS;AACpB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,MAAM,KAAK,OAAO,QAAQ,OAAO,MAAM,OAAO,QAAQ,UAAU,KAAK,OAAO,UAAU,gBAAgB;AAAG;AAAA,MAC9H;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,UAAU,GAAG;AACjC,iBAAO,eAAe,UAAU;AAAA,QACjC;AAAA,MACD;AAAA,IACD;AAAA,IACA,eAAe,SAAS;AACvB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,MAAM,KAAK,OAAO,QAAQ,OAAO,MAAM,OAAO,QAAQ,UAAU,KAAK,OAAO,UAAU,gBAAgB;AAAG;AAAA,MAC9H;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,UAAU,GAAG;AACjC,iBAAO,eAAe,UAAU;AAAA,QACjC;AAAA,MACD;AAAA,IACD;AAAA,IACA,QAAQ,SAAS;AAChB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,MAAM,KAAK,OAAO,QAAQ,OAAO,MAAM,OAAO,QAAQ,UAAU,KAAK,OAAO,UAAU,gBAAgB;AAAG;AAAA,MAC9H;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,UAAU,GAAG;AACjC,iBAAO,eAAe,UAAU;AAAA,QACjC;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EACA,UAAU;AAAA,IACT,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,YAAY,QAAQ,QAAQ,MAAM;AACjC,UAAI,CAAC,QAAQ,CAAC;AAAQ;AACtB,UAAI,WAAW,UAAU,KAAK,aAAa,YAAY,OAAO,eAAe,IAAI,EAAE,UAAU,KAAK,CAAC,OAAO,UAAU,iBAAiB,GAAG;AACvI,eAAO,aAAa,OAAO,MAAM;AAAA,MAClC;AAAA,IACD;AAAA,EACD;AAAA;AAAA,EAEA,uBAAuB;AAAA,IACtB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,SAAS;AACjB,WAAK,QAAQ,QAAQ,SAAS,KAAK,QAAQ,QAAQ,QAAQ,KAAM,QAAQ,YAAY,SAAS,sBAC5F,QAAQ,QAAQ,UAAU,KAAK,QAAQ,QAAQ,UAAU,OAAQ,QAAQ,QAAQ,gBAAgB,KAAK,CAAC,QAAQ,UAAU,sBAAsB,GAAG;AACnJ,gBAAQ,YAAY,sBAAsB;AAAA,MAC3C;AAAA,IACD;AAAA,EACD;AAAA,EACA,sBAAsB;AAAA,IACrB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,QAAQ;AAChB,UAAI,YAAY;AAChB,iBAAW,WAAW,KAAK,aAAa,GAAG;AAC1C,YAAI,CAAC,WAAW;AACf,eAAK,IAAI,aAAa,QAAQ,2BAA2B,UAAU;AAAA,QACpE;AACA,oBAAY;AACZ,YAAI,CAAC,QAAQ,UAAU,gBAAgB,MAAM,QAAQ,QAAQ,SAAS,KAAK,QAAQ,QAAQ,QAAQ,KAAM,QAAQ,YAAY,SAAS,sBACpI,QAAQ,QAAQ,UAAU,KAAK,QAAQ,QAAQ,UAAU,KAAM;AAChE,kBAAQ,YAAY,gBAAgB;AAAA,QACrC;AAAA,MACD;AAAA,IACD;AAAA,IACA,cAAc,SAAS;AACtB,UAAI,CAAC,QAAQ,UAAU,gBAAgB,MAAM,QAAQ,QAAQ,SAAS,KAAK,QAAQ,QAAQ,QAAQ,KAAM,QAAQ,YAAY,SAAS,sBACpI,QAAQ,QAAQ,UAAU,KAAK,QAAQ,QAAQ,UAAU,KAAM;AAChE,gBAAQ,YAAY,gBAAgB;AAAA,MACrC;AAAA,IACD;AAAA,IACA,aAAa,SAAS;AACrB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,SAAS,KAAK,OAAO,QAAQ,QAAQ,KAAM,OAAO,YAAY,SAAS,sBACzF,OAAO,QAAQ,UAAU,KAAK,OAAO,QAAQ,UAAU,OAAQ,OAAO,QAAQ,gBAAgB,KAAK,OAAO,UAAU,sBAAsB;AAAG;AAAA,MAChJ;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,gBAAgB,GAAG;AACvC,iBAAO,eAAe,gBAAgB;AAAA,QACvC;AAAA,MACD;AAAA,IACD;AAAA,IACA,YAAY,SAAS;AACpB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,SAAS,KAAK,OAAO,QAAQ,QAAQ,KAAM,OAAO,YAAY,SAAS,sBACzF,OAAO,QAAQ,UAAU,KAAK,OAAO,QAAQ,UAAU,OAAQ,OAAO,QAAQ,gBAAgB,KAAK,OAAO,UAAU,sBAAsB;AAAG;AAAA,MAChJ;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,gBAAgB,GAAG;AACvC,iBAAO,eAAe,gBAAgB;AAAA,QACvC;AAAA,MACD;AAAA,IACD;AAAA,IACA,eAAe,SAAS;AACvB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,SAAS,KAAK,OAAO,QAAQ,QAAQ,KAAM,OAAO,YAAY,SAAS,sBACzF,OAAO,QAAQ,UAAU,KAAK,OAAO,QAAQ,UAAU,OAAQ,OAAO,QAAQ,gBAAgB,KAAK,OAAO,UAAU,sBAAsB;AAAG;AAAA,MAChJ;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,gBAAgB,GAAG;AACvC,iBAAO,eAAe,gBAAgB;AAAA,QACvC;AAAA,MACD;AAAA,IACD;AAAA,IACA,QAAQ,SAAS;AAChB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,SAAS,KAAK,OAAO,QAAQ,QAAQ,KAAM,OAAO,YAAY,SAAS,sBACzF,OAAO,QAAQ,UAAU,KAAK,OAAO,QAAQ,UAAU,OAAQ,OAAO,QAAQ,gBAAgB,KAAK,OAAO,UAAU,sBAAsB;AAAG;AAAA,MAChJ;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,gBAAgB,GAAG;AACvC,iBAAO,eAAe,gBAAgB;AAAA,QACvC;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EACA,gBAAgB;AAAA,IACf,MAAM;AAAA,IACN,QAAQ;AAAA;AAAA,IAER,aAAa,MAAM,SAAS;AAC3B,UAAI,QAAQ,UAAU,iBAAiB,GAAG;AACzC;AAAA,MACD;AACA,UAAI,CAAC,KAAK;AAAgB,aAAK,iBAAiB,CAAC;AAKjD,UAAI,KAAK,mBAAmB,MAAM;AACjC,YAAI,QAAQ,YAAY,SAAS,qBAChC,QAAQ,QAAQ,UAAU,KAAK,QAAQ,QAAQ,UAAU,GAAG;AAE5D;AAAA,QACD;AACA,aAAK,eAAe,SAAS,IAAI;AACjC,aAAK,eAAe,QAAQ,IAAI;AAAA,MACjC;AACA,WAAK,gBAAgB;AAAA,IACtB;AAAA,EACD;AAAA;AAAA,EAEA,uBAAuB;AAAA,IACtB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,SAAS;AACjB,WAAK,QAAQ,QAAQ,KAAK,KAAK,QAAQ,QAAQ,UAAU,MAAM,QAAQ,QAAQ,gBAAgB,KAAK,CAAC,QAAQ,UAAU,sBAAsB,GAAG;AAC/I,gBAAQ,YAAY,sBAAsB;AAAA,MAC3C;AAAA,IACD;AAAA,EACD;AAAA,EACA,sBAAsB;AAAA,IACrB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,QAAQ;AAChB,UAAI,YAAY;AAChB,iBAAW,WAAW,KAAK,aAAa,GAAG;AAC1C,YAAI,CAAC,WAAW;AACf,eAAK,IAAI,aAAa,QAAQ,0BAA0B,UAAU;AAAA,QACnE;AACA,oBAAY;AACZ,YAAI,CAAC,QAAQ,UAAU,gBAAgB,MAAM,QAAQ,QAAQ,KAAK,KAAK,QAAQ,QAAQ,UAAU,IAAI;AACpG,kBAAQ,YAAY,gBAAgB;AAAA,QACrC;AAAA,MACD;AAAA,IACD;AAAA,IACA,cAAc,SAAS;AACtB,UAAI,CAAC,QAAQ,UAAU,gBAAgB,MAAM,QAAQ,QAAQ,KAAK,KAAK,QAAQ,QAAQ,UAAU,IAAI;AACpG,gBAAQ,YAAY,gBAAgB;AAAA,MACrC;AAAA,IACD;AAAA,IACA,aAAa,SAAS;AACrB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,KAAK,KAAK,OAAO,QAAQ,UAAU,MAAM,OAAO,QAAQ,gBAAgB,KAAK,OAAO,UAAU,sBAAsB;AAAG;AAAA,MAC5I;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,gBAAgB,GAAG;AACvC,iBAAO,eAAe,gBAAgB;AAAA,QACvC;AAAA,MACD;AAAA,IACD;AAAA,IACA,YAAY,SAAS;AACpB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,KAAK,KAAK,OAAO,QAAQ,UAAU,MAAM,OAAO,QAAQ,gBAAgB,KAAK,OAAO,UAAU,sBAAsB;AAAG;AAAA,MAC5I;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,gBAAgB,GAAG;AACvC,iBAAO,eAAe,gBAAgB;AAAA,QACvC;AAAA,MACD;AAAA,IACD;AAAA,IACA,eAAe,SAAS;AACvB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,KAAK,KAAK,OAAO,QAAQ,UAAU,MAAM,OAAO,QAAQ,gBAAgB,KAAK,OAAO,UAAU,sBAAsB;AAAG;AAAA,MAC5I;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,gBAAgB,GAAG;AACvC,iBAAO,eAAe,gBAAgB;AAAA,QACvC;AAAA,MACD;AAAA,IACD;AAAA,IACA,QAAQ,SAAS;AAChB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,KAAK,KAAK,OAAO,QAAQ,UAAU,MAAM,OAAO,QAAQ,gBAAgB,KAAK,OAAO,UAAU,sBAAsB;AAAG;AAAA,MAC5I;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,gBAAgB,GAAG;AACvC,iBAAO,eAAe,gBAAgB;AAAA,QACvC;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EACA,gBAAgB;AAAA,IACf,MAAM;AAAA,IACN,QAAQ;AAAA,IACL,SAAS,QAAQ,QAAQ,QAAQ,QAAQ;AAC3C,UAAI,OAAO,MAAM,OAAO,QAAQ,KAAK,CAAC,OAAO,UAAU,iBAAiB,GAAG;AAC1E,aAAK,MAAM,kCAAkC;AAC7C,eAAO,KAAK,YAAY,GAAG;AAAA,MAC5B;AAAA,IACD;AAAA,EACD;AAAA;AAAA,EAEA,oBAAoB;AAAA,IACnB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,SAAS;AACjB,WAAK,QAAQ,QAAQ,OAAO,KAAK,QAAQ,QAAQ,MAAM,MAAM,QAAQ,QAAQ,aAAa,KAAK,CAAC,QAAQ,UAAU,mBAAmB,GAAG;AACvI,gBAAQ,YAAY,mBAAmB;AAAA,MACxC;AAAA,IACD;AAAA,EACD;AAAA,EACA,mBAAmB;AAAA,IAClB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,QAAQ;AAChB,UAAI,YAAY;AAChB,iBAAW,WAAW,KAAK,aAAa,GAAG;AAC1C,YAAI,CAAC,WAAW;AACf,eAAK,IAAI,aAAa,QAAQ,uBAAuB,UAAU;AAAA,QAChE;AACA,oBAAY;AACZ,YAAI,CAAC,QAAQ,UAAU,aAAa,MAAM,QAAQ,QAAQ,OAAO,KAAK,QAAQ,QAAQ,MAAM,IAAI;AAC/F,kBAAQ,YAAY,aAAa;AAAA,QAClC;AAAA,MACD;AAAA,IACD;AAAA,IACA,cAAc,SAAS;AACtB,UAAI,CAAC,QAAQ,UAAU,aAAa,MAAM,QAAQ,QAAQ,OAAO,KAAK,QAAQ,QAAQ,MAAM,IAAI;AAC/F,gBAAQ,YAAY,aAAa;AAAA,MAClC;AAAA,IACD;AAAA,IACA,aAAa,SAAS;AACrB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,OAAO,KAAK,OAAO,QAAQ,MAAM,MAAM,OAAO,QAAQ,aAAa,KAAK,OAAO,UAAU,mBAAmB;AAAG;AAAA,MACpI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,aAAa,GAAG;AACpC,iBAAO,eAAe,aAAa;AAAA,QACpC;AAAA,MACD;AAAA,IACD;AAAA,IACA,YAAY,SAAS;AACpB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,OAAO,KAAK,OAAO,QAAQ,MAAM,MAAM,OAAO,QAAQ,aAAa,KAAK,OAAO,UAAU,mBAAmB;AAAG;AAAA,MACpI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,aAAa,GAAG;AACpC,iBAAO,eAAe,aAAa;AAAA,QACpC;AAAA,MACD;AAAA,IACD;AAAA,IACA,eAAe,SAAS;AACvB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,OAAO,KAAK,OAAO,QAAQ,MAAM,MAAM,OAAO,QAAQ,aAAa,KAAK,OAAO,UAAU,mBAAmB;AAAG;AAAA,MACpI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,aAAa,GAAG;AACpC,iBAAO,eAAe,aAAa;AAAA,QACpC;AAAA,MACD;AAAA,IACD;AAAA,IACA,QAAQ,SAAS;AAChB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,OAAO,KAAK,OAAO,QAAQ,MAAM,MAAM,OAAO,QAAQ,aAAa,KAAK,OAAO,UAAU,mBAAmB;AAAG;AAAA,MACpI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,aAAa,GAAG;AACpC,iBAAO,eAAe,aAAa;AAAA,QACpC;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EACA,aAAa;AAAA,IACZ,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,oBAAoB,QAAQ,QAAQ,QAAQ,MAAM;AACjD,YAAM,aAAa,KAAK;AACxB,YAAM,kBAAkB,OAAO,WAAW,cAAc;AAExD,UAAI,UAAU,CAAC,OAAO,WAAW,CAAC,OAAO,QAAQ,CAAC,SAAS,MAAM,CAAC,KAAK,KAAK,aAAa,YAAY,CAAC,OAAO,UAAU,iBAAiB,GAAG;AAC1I,YAAI,cAAc;AAElB,cAAM,mBAAmB,MAAM;AAK9B,cAAI,OAAO,MAAM,OAAO,QAAQ,GAAG;AAClC,0BAAc,KAAK,MAAM,OAAO,QAAQ,CAAC;AAAA,UAC1C,OAAO;AACN,0BAAc,KAAK,MAAM,OAAO,QAAQ,EAAE;AAAA,UAC3C;AAGA,cAAI,CAAC,OAAO,SAAS;AACpB,kBAAM,uBAAuB,OAAO;AACpC,iBAAK,OAAO,aAAa,QAAQ,MAAM;AACvC,kBAAM,eAAe,uBAAuB,OAAO;AAEnD,gBAAI,eAAe,GAAG;AACrB,mBAAK,IAAI,YAAY,GAAG,OAAO,kCAAkC;AAGjE,kBAAI,OAAO,KAAK,OAAO,OAAO;AAC7B,sBAAM,aAAa,KAAK,IAAI,cAAc,OAAO,QAAQ,OAAO,EAAE;AAClE,qBAAK,KAAK,YAAY,MAAM;AAAA,cAC7B;AAAA,YACD;AAAA,UACD;AAAA,QACD;AAEA,YAAI,YAAY;AACf,cAAI,KAAK,QAAQ,GAAG;AACnB,6BAAiB;AAAA,UAClB;AAAA,QACD,WAAW,iBAAiB;AAC3B,cAAI,KAAK,QAAQ,GAAG;AACnB,6BAAiB;AAAA,UAClB;AAAA,QACD,OAAO;AACN,2BAAiB;AAAA,QAClB;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA;AAAA,EAEA,wBAAwB;AAAA,IACvB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,SAAS;AACjB,WAAM,QAAQ,QAAQ,YAAY,KAAK,QAAQ,QAAQ,SAAS,qBAC9D,QAAQ,QAAQ,WAAW,KAAK,QAAQ,QAAQ,SAAS,oBACzD,QAAQ,QAAQ,SAAS,KAAK,QAAQ,QAAQ,SAAS,oBACxD,CAAC,QAAQ,UAAU,uBAAuB,GAAG;AAC7C,gBAAQ,YAAY,uBAAuB;AAAA,MAC5C;AAAA,IACD;AAAA,EACD;AAAA,EACA,uBAAuB;AAAA,IACtB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,QAAQ;AAChB,UAAI,YAAY;AAChB,iBAAW,WAAW,KAAK,aAAa,GAAG;AAC1C,YAAI,CAAC,WAAW;AACf,eAAK,IAAI,aAAa,QAAQ,4BAA4B,UAAU;AAAA,QACrE;AACA,oBAAY;AACZ,YAAI,CAAC,QAAQ,UAAU,iBAAiB,GAAG;AAC1C,kBAAQ,YAAY,iBAAiB;AAAA,QACtC;AAAA,MACD;AAAA,IACD;AAAA,IACA,cAAc,SAAS;AACtB,UAAI,CAAC,QAAQ,UAAU,iBAAiB,GAAG;AAC1C,gBAAQ,YAAY,iBAAiB;AAAA,MACtC;AAAA,IACD;AAAA,IACA,aAAa,SAAS;AACrB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAM,OAAO,QAAQ,YAAY,KAAK,OAAO,QAAQ,SAAS,qBAC5D,OAAO,QAAQ,WAAW,KAAK,OAAO,QAAQ,SAAS,oBACvD,OAAO,QAAQ,SAAS,KAAK,OAAO,QAAQ,SAAS,oBACnD,OAAO,UAAU,uBAAuB;AAAG;AAAA,MAChD;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,iBAAiB,GAAG;AACxC,iBAAO,eAAe,iBAAiB;AAAA,QACxC;AAAA,MACD;AAAA,IACD;AAAA,IACA,YAAY,SAAS;AACpB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAM,OAAO,QAAQ,YAAY,KAAK,OAAO,QAAQ,SAAS,qBAC5D,OAAO,QAAQ,WAAW,KAAK,OAAO,QAAQ,SAAS,oBACvD,OAAO,QAAQ,SAAS,KAAK,OAAO,QAAQ,SAAS,oBACnD,OAAO,UAAU,uBAAuB;AAAG;AAAA,MAChD;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,iBAAiB,GAAG;AACxC,iBAAO,eAAe,iBAAiB;AAAA,QACxC;AAAA,MACD;AAAA,IACD;AAAA,IACA,eAAe,SAAS;AACvB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAM,OAAO,QAAQ,YAAY,KAAK,OAAO,QAAQ,SAAS,qBAC5D,OAAO,QAAQ,WAAW,KAAK,OAAO,QAAQ,SAAS,oBACvD,OAAO,QAAQ,SAAS,KAAK,OAAO,QAAQ,SAAS,oBACnD,OAAO,UAAU,uBAAuB;AAAG;AAAA,MAChD;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,iBAAiB,GAAG;AACxC,iBAAO,eAAe,iBAAiB;AAAA,QACxC;AAAA,MACD;AAAA,IACD;AAAA,IACA,QAAQ,SAAS;AAChB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAM,OAAO,QAAQ,YAAY,KAAK,OAAO,QAAQ,SAAS,qBAC5D,OAAO,QAAQ,WAAW,KAAK,OAAO,QAAQ,SAAS,oBACvD,OAAO,QAAQ,SAAS,KAAK,OAAO,QAAQ,SAAS,oBACnD,OAAO,UAAU,uBAAuB;AAAG;AAAA,MAChD;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,iBAAiB,GAAG;AACxC,iBAAO,eAAe,iBAAiB;AAAA,QACxC;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EACA,iBAAiB;AAAA,IAChB,MAAM;AAAA,IACN,QAAQ;AAAA,EACT;AAAA;AAAA,EAEA,kBAAkB;AAAA,IACjB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,SAAS;AACjB,WAAK,QAAQ,QAAQ,OAAO,KAAK,QAAQ,QAAQ,MAAM,MAAM,QAAQ,QAAQ,WAAW,KAAK,CAAC,QAAQ,UAAU,iBAAiB,GAAG;AACnI,gBAAQ,YAAY,iBAAiB;AAAA,MACtC;AAAA,IACD;AAAA,EACD;AAAA,EACA,iBAAiB;AAAA,IAChB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,QAAQ;AAChB,UAAI,YAAY;AAChB,iBAAW,WAAW,KAAK,aAAa,GAAG;AAC1C,YAAI,CAAC,WAAW;AACf,eAAK,IAAI,aAAa,QAAQ,qBAAqB,UAAU;AAAA,QAC9D;AACA,oBAAY;AACZ,YAAI,CAAC,QAAQ,UAAU,WAAW,MAAM,QAAQ,QAAQ,OAAO,KAAK,QAAQ,QAAQ,MAAM,IAAI;AAC7F,kBAAQ,YAAY,WAAW;AAAA,QAChC;AAAA,MACD;AAAA,IACD;AAAA,IACA,cAAc,SAAS;AACtB,UAAI,CAAC,QAAQ,UAAU,WAAW,MAAM,QAAQ,QAAQ,OAAO,KAAK,QAAQ,QAAQ,MAAM,IAAI;AAC7F,gBAAQ,YAAY,WAAW;AAAA,MAChC;AAAA,IACD;AAAA,IACA,aAAa,SAAS;AACrB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,OAAO,KAAK,OAAO,QAAQ,MAAM,MAAM,OAAO,QAAQ,WAAW,KAAK,OAAO,UAAU,iBAAiB;AAAG;AAAA,MAChI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,WAAW,GAAG;AAClC,iBAAO,eAAe,WAAW;AAAA,QAClC;AAAA,MACD;AAAA,IACD;AAAA,IACA,YAAY,SAAS;AACpB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,OAAO,KAAK,OAAO,QAAQ,MAAM,MAAM,OAAO,QAAQ,WAAW,KAAK,OAAO,UAAU,iBAAiB;AAAG;AAAA,MAChI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,WAAW,GAAG;AAClC,iBAAO,eAAe,WAAW;AAAA,QAClC;AAAA,MACD;AAAA,IACD;AAAA,IACA,eAAe,SAAS;AACvB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,OAAO,KAAK,OAAO,QAAQ,MAAM,MAAM,OAAO,QAAQ,WAAW,KAAK,OAAO,UAAU,iBAAiB;AAAG;AAAA,MAChI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,WAAW,GAAG;AAClC,iBAAO,eAAe,WAAW;AAAA,QAClC;AAAA,MACD;AAAA,IACD;AAAA,IACA,QAAQ,SAAS;AAChB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,OAAO,KAAK,OAAO,QAAQ,MAAM,MAAM,OAAO,QAAQ,WAAW,KAAK,OAAO,UAAU,iBAAiB;AAAG;AAAA,MAChI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,WAAW,GAAG;AAClC,iBAAO,eAAe,WAAW;AAAA,QAClC;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EACA,WAAW;AAAA,IACV,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,WAAW,OAAO,QAAQ,QAAQ,QAAQ;AACzC,UAAI,UAAU,WAAW;AAAQ;AACjC,UAAI,OAAO,UAAU,iBAAiB;AAAG;AACzC,UAAI,UAAU;AACd,UAAI;AACJ,WAAK,KAAK,OAAO;AAChB,YAAI,MAAM,CAAC,IAAK,GAAG;AAClB,iBAAO,MAAM,CAAC;AACd,oBAAU;AAAA,QACX;AAAA,MACD;AACA,UAAI,WAAW,CAAE,OAAsB,eAAe,OAAO,OAAO,YAAY;AAC/E,aAAK,IAAI,SAAS,QAAQ,WAAW,6BAA6B;AAAA,MACnE;AAAA,IACD;AAAA,EACD;AAAA;AAAA,EAEA,mBAAmB;AAAA,IAClB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,SAAS;AACjB,WAAK,QAAQ,QAAQ,QAAQ,KAAK,QAAQ,QAAQ,QAAQ,MAAM,QAAQ,QAAQ,YAAY,KAAK,CAAC,QAAQ,UAAU,kBAAkB,GAAG;AACxI,gBAAQ,YAAY,kBAAkB;AAAA,MACvC;AAAA,IACD;AAAA,EACD;AAAA,EACA,kBAAkB;AAAA,IACjB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,QAAQ;AAChB,UAAI,YAAY;AAChB,iBAAW,WAAW,KAAK,aAAa,GAAG;AAC1C,YAAI,CAAC,WAAW;AACf,eAAK,IAAI,aAAa,QAAQ,sBAAsB,UAAU;AAAA,QAC/D;AACA,oBAAY;AACZ,YAAI,CAAC,QAAQ,UAAU,YAAY,MAAM,QAAQ,QAAQ,QAAQ,KAAK,QAAQ,QAAQ,QAAQ,IAAI;AACjG,kBAAQ,YAAY,YAAY;AAAA,QACjC;AAAA,MACD;AAAA,IACD;AAAA,IACA,cAAc,SAAS;AACtB,UAAI,CAAC,QAAQ,UAAU,YAAY,MAAM,QAAQ,QAAQ,QAAQ,KAAK,QAAQ,QAAQ,QAAQ,IAAI;AACjG,gBAAQ,YAAY,YAAY;AAAA,MACjC;AAAA,IACD;AAAA,IACA,aAAa,SAAS;AACrB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,QAAQ,KAAK,OAAO,QAAQ,QAAQ,MAAM,OAAO,QAAQ,YAAY,KAAK,OAAO,UAAU,kBAAkB;AAAG;AAAA,MACrI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,YAAY,GAAG;AACnC,iBAAO,eAAe,YAAY;AAAA,QACnC;AAAA,MACD;AAAA,IACD;AAAA,IACA,YAAY,SAAS;AACpB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,QAAQ,KAAK,OAAO,QAAQ,QAAQ,MAAM,OAAO,QAAQ,YAAY,KAAK,OAAO,UAAU,kBAAkB;AAAG;AAAA,MACrI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,YAAY,GAAG;AACnC,iBAAO,eAAe,YAAY;AAAA,QACnC;AAAA,MACD;AAAA,IACD;AAAA,IACA,eAAe,SAAS;AACvB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,QAAQ,KAAK,OAAO,QAAQ,QAAQ,MAAM,OAAO,QAAQ,YAAY,KAAK,OAAO,UAAU,kBAAkB;AAAG;AAAA,MACrI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,YAAY,GAAG;AACnC,iBAAO,eAAe,YAAY;AAAA,QACnC;AAAA,MACD;AAAA,IACD;AAAA,IACA,QAAQ,SAAS;AAChB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,QAAQ,KAAK,OAAO,QAAQ,QAAQ,MAAM,OAAO,QAAQ,YAAY,KAAK,OAAO,UAAU,kBAAkB;AAAG;AAAA,MACrI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,YAAY,GAAG;AACnC,iBAAO,eAAe,YAAY;AAAA,QACnC;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EACA,YAAY;AAAA,IACX,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,YAAY,QAAQ,QAAQ,QAAQ,QAAQ;AAC3C,UAAI,UAAU,WAAW,UAAU,UAAU,OAAO,OAAO,UAAU,CAAC,OAAO,UAAU,iBAAiB,GAAG;AAC1G,aAAK,MAAM,yCAAyC;AACpD,YAAI,OAAO,SAAS,iBAAkB,OAAO,eAAe,UAAU,CAAC,OAAO,aAAc;AAC3F,gBAAM,eAAe,KAAK,YAAY;AACtC,eAAK,IAAI,UAAU,QAAQ,yBAAyB,UAAU,YAAY;AAAA,QAC3E;AACA,eAAO;AAAA,MACR;AAAA,IACD;AAAA,IACA,iBAAiB,QAAQ,QAAQ;AAChC,UAAI,OAAO,QAAQ,OAAO,KAAK,OAAO,OAAO,UAAU,CAAC,OAAO,UAAU,iBAAiB,GAAG;AAC5F,aAAK,MAAM,2BAA2B;AACtC,cAAM,eAAe,KAAK,YAAY;AACtC,aAAK,IAAI,UAAU,QAAQ,yBAAyB,UAAU,YAAY;AAC1E,eAAO;AAAA,MACR;AAAA,IACD;AAAA,EACD;AAAA;AAAA,EAEA,kBAAkB;AAAA,IACjB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,SAAS;AACjB,WAAK,QAAQ,QAAQ,QAAQ,KAAK,QAAQ,QAAQ,OAAO,MAAM,QAAQ,QAAQ,WAAW,KAAK,CAAC,QAAQ,UAAU,iBAAiB,GAAG;AACrI,gBAAQ,YAAY,iBAAiB;AAAA,MACtC;AAAA,IACD;AAAA,EACD;AAAA,EACA,iBAAiB;AAAA,IAChB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,QAAQ;AAChB,UAAI,YAAY;AAChB,iBAAW,WAAW,KAAK,aAAa,GAAG;AAC1C,YAAI,CAAC,WAAW;AACf,eAAK,IAAI,aAAa,QAAQ,qBAAqB,UAAU;AAAA,QAC9D;AACA,oBAAY;AACZ,YAAI,CAAC,QAAQ,UAAU,WAAW,MAAM,QAAQ,QAAQ,QAAQ,KAAK,QAAQ,QAAQ,OAAO,IAAI;AAC/F,kBAAQ,YAAY,WAAW;AAAA,QAChC;AAAA,MACD;AAAA,IACD;AAAA,IACA,cAAc,SAAS;AACtB,UAAI,CAAC,QAAQ,UAAU,WAAW,MAAM,QAAQ,QAAQ,QAAQ,KAAK,QAAQ,QAAQ,OAAO,IAAI;AAC/F,gBAAQ,YAAY,WAAW;AAAA,MAChC;AAAA,IACD;AAAA,IACA,aAAa,SAAS;AACrB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,QAAQ,KAAK,OAAO,QAAQ,OAAO,MAAM,OAAO,QAAQ,WAAW,KAAK,OAAO,UAAU,iBAAiB;AAAG;AAAA,MAClI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,WAAW,GAAG;AAClC,iBAAO,eAAe,WAAW;AAAA,QAClC;AAAA,MACD;AAAA,IACD;AAAA,IACA,YAAY,SAAS;AACpB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,QAAQ,KAAK,OAAO,QAAQ,OAAO,MAAM,OAAO,QAAQ,WAAW,KAAK,OAAO,UAAU,iBAAiB;AAAG;AAAA,MAClI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,WAAW,GAAG;AAClC,iBAAO,eAAe,WAAW;AAAA,QAClC;AAAA,MACD;AAAA,IACD;AAAA,IACA,eAAe,SAAS;AACvB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,QAAQ,KAAK,OAAO,QAAQ,OAAO,MAAM,OAAO,QAAQ,WAAW,KAAK,OAAO,UAAU,iBAAiB;AAAG;AAAA,MAClI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,WAAW,GAAG;AAClC,iBAAO,eAAe,WAAW;AAAA,QAClC;AAAA,MACD;AAAA,IACD;AAAA,IACA,QAAQ,SAAS;AAChB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,QAAQ,KAAK,OAAO,QAAQ,OAAO,MAAM,OAAO,QAAQ,WAAW,KAAK,OAAO,UAAU,iBAAiB;AAAG;AAAA,MAClI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,WAAW,GAAG;AAClC,iBAAO,eAAe,WAAW;AAAA,QAClC;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EACA,WAAW;AAAA,IACV,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,cAAc,QAAQ,QAAQ,QAAQ,MAAM;AAE3C,UAAI,CAAC,OAAO,UAAU,iBAAiB,GAAG;AACzC,eAAO,YAAY,WAAW,KAAK,YAAY,MAAM;AAAA,MAEtD;AAAA,IACD;AAAA,EACD;AAAA;AAAA,EAEA,oBAAoB;AAAA,IACnB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,SAAS;AACjB,WAAK,QAAQ,QAAQ,QAAQ,KAAK,QAAQ,QAAQ,OAAO,MAAM,QAAQ,QAAQ,aAAa,KAAK,CAAC,QAAQ,UAAU,mBAAmB,GAAG;AACzI,gBAAQ,YAAY,mBAAmB;AAAA,MACxC;AAAA,IACD;AAAA,EACD;AAAA,EACA,mBAAmB;AAAA,IAClB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS,QAAQ;AAChB,UAAI,YAAY;AAChB,iBAAW,WAAW,KAAK,aAAa,GAAG;AAC1C,YAAI,CAAC,WAAW;AACf,eAAK,IAAI,aAAa,QAAQ,uBAAuB,UAAU;AAAA,QAChE;AACA,oBAAY;AACZ,YAAI,CAAC,QAAQ,UAAU,aAAa,MAAM,QAAQ,QAAQ,QAAQ,KAAK,QAAQ,QAAQ,OAAO,IAAI;AACjG,kBAAQ,YAAY,aAAa;AAAA,QAClC;AAAA,MACD;AAAA,IACD;AAAA,IACA,cAAc,SAAS;AACtB,UAAI,CAAC,QAAQ,UAAU,aAAa,MAAM,QAAQ,QAAQ,QAAQ,KAAK,QAAQ,QAAQ,OAAO,IAAI;AACjG,gBAAQ,YAAY,aAAa;AAAA,MAClC;AAAA,IACD;AAAA,IACA,aAAa,SAAS;AACrB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,QAAQ,KAAK,OAAO,QAAQ,OAAO,MAAM,OAAO,QAAQ,aAAa,KAAK,OAAO,UAAU,mBAAmB;AAAG;AAAA,MACtI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,aAAa,GAAG;AACpC,iBAAO,eAAe,aAAa;AAAA,QACpC;AAAA,MACD;AAAA,IACD;AAAA,IACA,YAAY,SAAS;AACpB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,QAAQ,KAAK,OAAO,QAAQ,OAAO,MAAM,OAAO,QAAQ,aAAa,KAAK,OAAO,UAAU,mBAAmB;AAAG;AAAA,MACtI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,aAAa,GAAG;AACpC,iBAAO,eAAe,aAAa;AAAA,QACpC;AAAA,MACD;AAAA,IACD;AAAA,IACA,eAAe,SAAS;AACvB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,QAAQ,KAAK,OAAO,QAAQ,OAAO,MAAM,OAAO,QAAQ,aAAa,KAAK,OAAO,UAAU,mBAAmB;AAAG;AAAA,MACtI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,aAAa,GAAG;AACpC,iBAAO,eAAe,aAAa;AAAA,QACpC;AAAA,MACD;AAAA,IACD;AAAA,IACA,QAAQ,SAAS;AAChB,iBAAW,UAAU,KAAK,aAAa,GAAG;AACzC,YAAI,WAAW;AAAS;AACxB,aAAK,OAAO,QAAQ,QAAQ,KAAK,OAAO,QAAQ,OAAO,MAAM,OAAO,QAAQ,aAAa,KAAK,OAAO,UAAU,mBAAmB;AAAG;AAAA,MACtI;AACA,iBAAW,UAAU,KAAK,aAAa,GAAG;AAEzC,YAAI,OAAO,UAAU,aAAa,GAAG;AACpC,iBAAO,eAAe,aAAa;AAAA,QACpC;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EACA,aAAa;AAAA,IACZ,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,qBAAqB;AAAA,IACrB,YAAY,WAAW,UAAU,UAAU,MAAM;AAChD,WAAK,KAAK,UAAU,KAAK,mBAAmB,CAAC,SAAS,UAAU,iBAAiB,GAAG;AACnF,aAAK,MAAM,oBAAoB;AAC/B,eAAO,KAAK,YAAY,CAAC,MAAM,IAAI,CAAC;AAAA,MACrC;AAAA,IACD;AAAA,IACA,SAAS,QAAQ,QAAQ,QAAQ,QAAQ;AAExC,UAAI,OAAO,eAAe,UAAU,CAAC,OAAO,UAAU,iBAAiB,GAAG;AACzE,aAAK,MAAM,gDAAgD;AAC3D,eAAO,KAAK,YAAY,GAAG;AAAA,MAC5B;AACA,aAAO;AAAA,IACR;AAAA,EACD;AAAA;AAAA;AAAA,EAIA,gBAAgB;AAAA,IACf,MAAM;AAAA,IACN,aAAa,SAAS;AAErB,UAAI,QAAQ,MAAM,KAAK,MAAM,WAAW,CAAC,QAAQ,UAAU,aAAa,GAAG;AAC1E,gBAAQ,QAAQ,OAAO;AACvB,aAAK,IAAI,UAAU,SAAS,cAAc,QAAQ,MAAM,KAAK,GAAG,GAAG,yBAAyB;AAAA,MAC7F;AAAA,IACD;AAAA,IACA,SAAS,SAAS;AAEjB,UAAI,QAAQ,MAAM,KAAK,MAAM,WAAW,CAAC,QAAQ,UAAU,aAAa,GAAG;AAC1E,gBAAQ,QAAQ,OAAO;AACvB,aAAK,IAAI,UAAU,SAAS,cAAc,QAAQ,MAAM,KAAK,GAAG,GAAG,yBAAyB;AAAA,MAC7F;AAAA,IACD;AAAA,EACD;AAAA;AAAA,EAGA,cAAc;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,UAAU;AAAA,IACV,YAAY,MAAM,QAAQ;AACzB,WAAK,IAAI,cAAc,MAAM,eAAe;AAAA,IAC7C;AAAA,IACA,qBAAqB,QAAQ,QAAQ,QAAQ,MAAM;AAClD,UAAI,OAAO,eAAe,IAAI,EAAE,UAAU,GAAG;AAC5C,aAAK,MAAM,0BAA0B;AACrC,eAAO,KAAK,YAAY,IAAI;AAAA,MAC7B;AAAA,IACD;AAAA,IACA,qBAAqB;AAAA,IACrB,wBAAwB;AAAA,IACxB,UAAU,MAAM;AACf,WAAK,IAAI,YAAY,MAAM,eAAe;AAAA,IAC3C;AAAA,EACD;AAAA;AAAA;AAAA,EAIA,cAAc;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,UAAU;AAAA,IACV,YAAY,MAAM;AACjB,WAAK,IAAI,cAAc,MAAM,eAAe;AAAA,IAC7C;AAAA,IACA,UAAU,MAAM;AACf,WAAK,IAAI,YAAY,6DAA6D;AAClF,WAAK,IAAI,eAAe,kBAAkB;AAC1C,WAAK,IAAI,YAAY,MAAM,eAAe;AAAA,IAC3C;AAAA,EACD;AAAA;AAAA;AAAA,EAIA,YAAY;AAAA,IACX,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,UAAU;AAAA,IACV,YAAY,MAAM;AACjB,WAAK,IAAI,YAAY,qCAAqC;AAAA,IAE3D;AAAA,IACA,UAAU,MAAM;AACf,WAAK,IAAI,YAAY,oCAAoC;AACzD,WAAK,iBAAiB,QAAQ;AAC9B,WAAK,IAAI,YAAY,MAAM,cAAc,UAAU;AAAA,IACpD;AAAA,EACD;AAAA;AAAA,EAGA,QAAQ;AAAA,IACP,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,iBAAiB,OAAO,QAAQ,QAAQ,QAAQ;AAC/C,UAAI,QAAQ,OAAO;AAAU;AAC7B,YAAM,UAAU,OAAO,KAAK,OAAO,KAAK,aAAW,WAAW,YAAY,UAAU,CAAC,QAAQ,OAAO;AACpG,UAAI,CAAC,WAAW,CAAC,QAAQ,UAAU,QAAQ;AAAG;AAE9C,YAAM,cAAiC,CAAC;AACxC,UAAI,YAAY;AAGhB,UAAI,MAAM,QAAQ,UAAa,MAAM,MAAM,GAAG;AAC7C,oBAAY,MAAM,CAAC,MAAM;AACzB,oBAAY;AAAA,MACb;AACA,UAAI,MAAM,QAAQ,UAAa,MAAM,MAAM,GAAG;AAC7C,oBAAY,MAAM,CAAC,MAAM;AACzB,oBAAY;AAAA,MACb;AACA,UAAI,MAAM,QAAQ,UAAa,MAAM,MAAM,GAAG;AAC7C,oBAAY,MAAM,CAAC,MAAM;AACzB,oBAAY;AAAA,MACb;AACA,UAAI,MAAM,QAAQ,UAAa,MAAM,MAAM,GAAG;AAC7C,oBAAY,MAAM,CAAC,MAAM;AACzB,oBAAY;AAAA,MACb;AAEA,UAAI,WAAW;AACd,aAAK,IAAI,aAAa,QAAQ,QAAQ;AACtC,aAAK,MAAM,aAAa,SAAS,QAAQ,MAAM,IAAI;AAAA,MACpD;AAAA,IACD;AAAA,EACD;AAAA;AAAA;AAAA,EAIA,WAAW;AAAA,IACV,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,UAAU;AAAA,IACV,YAAY,MAAM,QAAQ;AACzB,WAAK,IAAI,cAAc,MAAM,YAAY;AACzC,WAAK,IAAI,YAAY,uDAAuD;AAAA,IAC7E;AAAA,IACA,qBAAqB;AAAA,IAClB,wBAAwB;AAAA,IACxB,eAAe,MAAM;AACjB,iBAAW,WAAW,KAAK,QAAQ;AAG5B,aAAK,OAAO,QAAQ,YAAY,GAAG,OAAO;AACtD,aAAK,IAAI,YAAY,GAAG,QAAQ,+BAA+B;AAAA,MAE1D;AAAA,IACJ;AAAA,IACH,UAAU,MAAM;AACf,WAAK,IAAI,YAAY,MAAM,YAAY;AAAA,IACxC;AAAA,EACD;AAAA;AAAA;AAAA,EAIA,YAAY;AAAA,IACX,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,UAAU;AAAA,IACV,iBAAiB,QAAQ,QAAQ;AAChC,UAAI,QAAQ,QAAQ,SAAS,GAAG;AAC/B,eAAO;AAAA,MACR;AACA,aAAO;AAAA,IACR;AAAA,IACA,YAAY,MAAM;AACjB,WAAK,IAAI,cAAc,MAAM,YAAY;AAAA,IAE1C;AAAA,IACA,UAAU,MAAM;AAEf,WAAK,IAAI,YAAY,MAAM,YAAY;AAAA,IACxC;AAAA,EACD;AAAA;AAAA;AAAA,EAIA,mBAAmB;AAAA,IAClB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,cAAc,OAAO,QAAQ,QAAQ,QAAQ;AAE5C,UAAI,CAAC,QAAQ;AAEZ;AAAA,MACD;AAEA,cAAQ,IAAI,oCAAoC,OAAO,MAAM;AAG7D,UAAI,CAAC,OAAO,QAAQ,CAAC,MAAM,QAAQ,OAAO,KAAK,MAAM,GAAG;AAEvD;AAAA,MACD;AAGA,YAAM,iBAAiB,OAAO,KAAK,OAAO;AAAA,QAAO,UAChD,QAAQ,SAAS,UAAU,KAAK,WAAW,UAAU;AAAA,MACtD;AAEA,UAAI,eAAe,WAAW,GAAG;AAEhC;AAAA,MACD;AAIA,YAAM,QAA+B,CAAC,OAAO,OAAO,OAAO,OAAO,OAAO,YAAY,SAAS;AAE9F,iBAAW,QAAQ,OAAO;AACzB,YAAI,MAAM,IAAI,MAAM,UAAa,MAAM,IAAI,IAAI,GAAG;AAGjD,gBAAM,iBAAiB,eAAe;AAAA,YAAK,UAC1C,KAAK,OAAO,IAAI,IAAI;AAAA;AAAA,UACrB;AAEA,cAAI,gBAAgB;AACnB,kBAAM,IAAI,IAAI;AACd,iBAAK,IAAI,SAAS,QAAQ,WAAW,MAAM,iCAAkC;AAAA,UAI9E;AAAA,QACD;AAAA,MACD;AAAA,IAGD;AAAA,EACD;AAAA;AAAA;AAAA,EAIA,UAAU;AAAA,IACT,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,QAAQ,SAAS;AAEhB,WAAK,YAAY,eAAe;AAAA,IACjC;AAAA,IACA,SAAS,QAAQ,QAAQ,QAAQ,MAAM;AAEtC,UAAI,KAAK,YAAY;AAAc,eAAO;AAG1C,UAAI,UAAU,OAAO,IAAI;AAExB,cAAM,kBAAkB,OAAO,KAAK,OAAO;AAAA,UAAK,UAC/C,SAAS,UAAU,CAAC,KAAK,WAAW,KAAK,WAAW,UAAU;AAAA,QAC/D;AAGA,YAAI,iBAAiB;AACpB,eAAK,YAAY,eAAe;AAGhC,iBAAO,YAAY,kBAAkB;AAErC,iBAAO,OAAO,KAAK;AAAA,QACpB;AAAA,MACD;AAEA,aAAO;AAAA,IACR;AAAA,EACD;AAAA,EAEA,kBAAkB;AAAA,IACjB,MAAM;AAAA,IACN,QAAQ;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKA,YAAY;AAAA,IACX,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,QAAQ,SAAS;AAChB,WAAK,MAAM,EAAC,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,EAAC,GAAG,OAAO;AAC5D,UAAI,CAAC,QAAQ,UAAU,SAAS,GAAG;AAClC,gBAAQ,YAAY,SAAS;AAAA,MAC9B;AAAA,IACD;AAAA,IACA,mBAAmB;AAAA,IACnB,YAAY;AACX,aAAO;AAAA,IACR;AAAA;AAAA,IAEA,uBAAuB;AAAA,IACvB,cAAc,SAAS;AACtB,cAAQ,UAAU;AAAA,IACnB;AAAA,EACD;AAAA;AAAA,EAEA,WAAW;AAAA,IACV,MAAM;AAAA,IACH,QAAQ;AAAA;AAAA,IAEX,QAAQ,SAAS;AAChB,WAAK,MAAM,EAAC,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,EAAC,GAAG,OAAO;AAC5D,UAAI,CAAC,QAAQ,UAAU,SAAS,GAAG;AAClC,gBAAQ,YAAY,SAAS;AAAA,MAC9B;AAAA,IACD;AAAA;AAAA,IAEG,mBAAmB;AAAA,IACnB,YAAY;AACR,aAAO;AAAA,IACX;AAAA,IACA,uBAAuB;AAAA,IACvB,cAAc,SAAS;AACnB,cAAQ,UAAU;AAAA,IACtB;AAAA,IACA,2BAA2B;AAAA,IAC3B,kBAAkB,QAAQ,QAAQ,MAAM;AACpC,YAAM,aAAa,OAAO,KAAK,OAAO,KAAK,SAAO,OAAO,IAAI,YAAY,gBAAgB,YAAY;AACrG,aAAO,CAAC,cAAc,WAAW;AAAA,IACrC;AAAA,IACA,aAAa,SAAS;AAClB,YAAM,aAAa,QAAQ,KAAK,OAAO,KAAK,SAAO,OAAO,IAAI,YAAY,gBAAgB,YAAY;AACtG,UAAI,CAAC,cAAc,WAAW,SAAS;AACnC,gBAAQ,eAAe,WAAW;AAAA,MACtC,OAAO;AACH,aAAK,MAAM,aAAa,OAAO;AAAA,MACnC;AAAA,IACJ;AAAA,EACJ;AAAA;AAAA;AAAA;AAAA,EAKA,WAAW;AAAA,IACV,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,QAAQ,SAAS;AAChB,WAAK,MAAM,EAAC,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,EAAC,GAAG,OAAO;AAAA,IAC7D;AAAA,IACA,mBAAmB;AAAA,IACnB,YAAY;AACX,aAAO;AAAA,IACR;AAAA;AAAA,IAEA,uBAAuB;AAAA,IACvB,cAAc,SAAS;AACtB,cAAQ,UAAU;AAAA,IACnB;AAAA,EACD;AAAA;AAAA,EAEA,YAAY;AAAA,IACX,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,mBAAmB;AAAA,IACnB,YAAY;AACX,aAAO;AAAA,IACR;AAAA;AAAA,IAEA,uBAAuB;AAAA,IACvB,cAAc,SAAS;AACtB,cAAQ,UAAU;AAAA,IACnB;AAAA;AAAA,IAEA,2BAA2B;AAAA,IAC3B,kBAAkB,QAAQ,QAAQ,MAAM;AACvC,aAAO;AAAA,IACR;AAAA,IACA,aAAa,SAAS;AACrB,WAAK,MAAM,aAAa,OAAO;AAAA,IAChC;AAAA,EACD;AAAA,EAEA,cAAc;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,QAAQ,SAAS;AAChB,UAAI,CAAC,QAAQ,MAAM,SAAS,OAAO,GAAG;AACrC,gBAAQ,QAAQ,CAAC,GAAG,QAAQ,OAAO,OAAO;AAC1C,aAAK,IAAI,YAAY,GAAG,QAAQ,wCAAwC,QAAQ,qBAAqB;AAGrG,aAAK,IAAI,SAAS,SAAS,MAAM;AACjC,aAAK,IAAI,YAAY,6BAA6B,QAAQ,iCAAiC;AAAA,MAC5F;AAAA,IACD;AAAA,IACA,MAAM,SAAS;AACf,UAAI,QAAQ,MAAM,SAAS,OAAO,GAAG;AACpC,gBAAQ,QAAQ,QAAQ,MAAM,OAAO,UAAQ,SAAS,OAAO;AAC7D,aAAK,IAAI,YAAY,GAAG,QAAQ,gCAAgC,QAAQ,oDAAoD;AAAA,MAC5H;AAAA,IACD;AAAA,EACD;AAAA,EAEA,WAAW;AAAA,IACV,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,aAAa,SAAS,QAAQ,MAAM;AACnC,YAAM,aAAa,QAAQ,KAAK,OAAO,KAAK,UAAQ,KAAK,QAAQ,SAAS,gBAAiB,KAAK,WAAW,UAAU,CAAE;AACpH,UAAI,CAAC;AAAY;AAGpB,UAAI,KAAK,aAAa,UAAU;AAE/B,mBAAW,UAAU,KAAK,MAAM,MAAsB;AAErD,cACC,CAAC,OAAO,QAAQ,CAAC,OAAO,SAAS,YACjC,OAAO,QAAQ,WAAW,OAAO,WAAW,OAAO,OAClD;AACD;AAAA,UACD;AAGA,cAAI,OAAO,QAAQ,OAAO,OAAO,GAAG;AACnC,iBAAK,MAAM,iBAAiB,QAAQ,IAAI;AACxC,iBAAK,IAAI,YAAY,SAAS,OAAO,OAAO;AAC5C;AAAA,UACD;AAAA,QACD;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EAEA,WAAW;AAAA,IACV,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,aAAa,SAAS,QAAQ,MAAM;AACnC,YAAM,WAAW,QAAQ,KAAK,OAAO,KAAK,WAAS,KAAK,QAAQ,SAAS,cAAc,KAAK,QAAQ,SAAS,gBAAiB,KAAK,WAAW,QAAQ,CAAE;AACrJ,UAAI,CAAC;AAAU;AAGlB,UAAI,KAAK,aAAa,UAAU;AAE/B,mBAAW,UAAU,KAAK,MAAM,MAAsB;AAErD,cACC,CAAC,OAAO,QAAQ,CAAC,OAAO,SAAS,YACjC,OAAO,QAAQ,WAAW,OAAO,WAAW,OAAO,OAClD;AACD;AAAA,UACD;AAGA,cAAI,OAAO,QAAQ,OAAO,OAAO,GAAG;AACnC,iBAAK,MAAM,iBAAiB,QAAQ,IAAI;AACxC,iBAAK,IAAI,YAAY,SAAS,OAAO,OAAO;AAC5C;AAAA,UACD;AAAA,QACD;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,QAAQ;AAAA,IACP,MAAM;AAAA,IACN,gBAAgB;AAAA,IAChB,OAAO,OAAO,SAAS;AACtB,UAAI,QAAQ,eAAe,QAAQ,YAAY,eAAe,KAAK,OAAO;AAAG,eAAO;AACpF,UAAI,OAA2B;AAC/B,UAAI,QAAQ,YAAY,aAAa;AACpC,eAAO,QAAQ,QAAQ,EAAE;AACzB,YAAI,CAAC,MAAM;AACV,iBAAO;AAAA,QACR;AAAA,MACD;AACA,aAAO,CAAC,IAAI;AAAA,IACb;AAAA,EACD;AAAA,EACA,UAAU;AAAA,IACT,MAAM;AAAA,IACN,gBAAgB;AAAA,IAChB,OAAO,OAAO,SAAS;AACtB,UAAI,QAAQ,eAAe,QAAQ,YAAY,eAAe,KAAK,OAAO;AAAG,eAAO;AACpF,UAAI,OAA2B;AAC/B,UAAI,QAAQ,YAAY,aAAa;AACpC,eAAO,QAAQ,QAAQ,EAAE;AACzB,YAAI,CAAC,MAAM;AACV,iBAAO;AAAA,QACR;AAAA,MACD;AACA,aAAO,CAAC,IAAI;AAAA,IACb;AAAA,EACD;AAAA,EACA,gBAAgB;AAAA,IACf,MAAM;AAAA,IACN,UAAU;AAAA,IACV,YAAY,UAAU,QAAQ,QAAQ,MAAM;AAC3C,UAAI,KAAK,KAAK,IAAI,GAAG,KAAK,SAAS;AACnC,YAAM,KAAK,IAAI,GAAG,OAAO,UAAU,gBAAgB,EAAE,eAAe;AACpE,UAAI,OAAO,UAAU,aAAa,GAAG;AACpC,cAAM;AAAA,MACP;AACA,aAAO,eAAe,gBAAgB;AACtC,aAAO;AAAA,IACR;AAAA,EACD;AAAA,EACA,cAAc;AAAA,IACb,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,UAAU;AAAA,IACV,aAAa,OAAO,QAAQ,QAAQ;AACnC,WAAK,IAAI,kBAAkB,gBAAgB,UAAU,MAAM;AAAA,IAC5D;AAAA,IACA,YAAY,QAAQ,QAAQ,QAAQ,QAAQ;AAC3C,UAAI,OAAO,WAAW,aAAa,KAAK,OAAO,WAAW,UAAU;AAAG;AACvE,UAAK,QAAiB,UAAU,QAAQ,OAAO,QAAQ;AACtD,aAAK,IAAI,SAAS,QAAQ,sBAAsB;AAAA,MACjD;AACA,aAAO;AAAA,IACR;AAAA,IACA,iBAAiB;AAAA,IACjB,QAAQ;AACP,WAAK,IAAI,aAAa,MAAM;AAAA,IAC7B;AAAA,EACD;AACD;",
  "names": ["ally"]
}
