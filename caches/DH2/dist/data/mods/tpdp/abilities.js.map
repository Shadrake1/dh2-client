{
  "version": 3,
  "sources": ["../../../../data/mods/tpdp/abilities.ts"],
  "sourcesContent": ["export const Abilities: {[k: string]: ModdedAbilityData} = {\r\n\tabsorbent: {\r\n\t\tname: \"Absorbent\",\r\n\t\tshortDesc: \"When hit by a Light-type skill, damage is nullified and SpAtk is raised.\",\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Lights') {\r\n\t\t\t\tif(!this.boost({spa: 1})) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Absorbent');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tactive: {\r\n\t\tname: \"Active\",\r\n\t\tshortDesc: \"Immune to Stop status.\",\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.status['stp']) {\r\n\t\t\t\tpokemon.cureStatus('stp');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSetStatus(status, target, source, effect) {\r\n\t\t\tif (status.id !== 'stp') return;\r\n\t\t\tif ((effect as Move)?.status) {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Active');\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t},\r\n\tadversewind: {\r\n\t\tname: \"Adverse Wind\",\r\n\t\tshortDesc: \"Only Wind-type opponents can flee.\",\r\n\t\tonFoeTrapPokemon(pokemon) {\r\n\t\t\tif (pokemon.hasAbility(\"aircushion\")) return;\r\n\t\t\tif (!pokemon.isAdjacent(this.effectState.target)) return;\r\n\t\t\tif (!pokemon.hasType(\"Wind\")) {\r\n\t\t\t\tpokemon.tryTrap(true);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFoeMaybeTrapPokemon(pokemon, source) {\r\n\t\t\tif (!source) source = this.effectState.target;\r\n\t\t\tif (pokemon.hasAbility(\"aircushion\")) return;\r\n\t\t\tif (!source || !pokemon.isAdjacent(source)) return;\r\n\t\t\tif (!pokemon.hasType(\"Wind\")) {\r\n\t\t\t\tpokemon.maybeTrapped = true;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\taffinitytwist: {\r\n\t\tname: \"Affinity Twist\",\r\n\t\tshortDesc: \"Both parties super effective and resisted elements are reversed.\",\r\n\t\tonStart(target) {\r\n\t\t\tthis.add('-ability', target, 'Affinity Twist');\r\n\t\t},\r\n\t\tonEffectiveness(typeMod) {\r\n\t\t\treturn typeMod * -1;\r\n\t\t},\r\n\t\tonFoeEffectiveness(typeMod) {\r\n\t\t\treturn typeMod * -1;\r\n\t\t},\r\n\t},\r\n\taftermove: {\r\n\t\tname: \"After Move\",\r\n\t\tshortDesc: \"Attack power is boosted by 30% if the user's Speed is lower than the target's.\",\r\n\t\tonBasePower(basePower, pokemon, target) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (pokemon.getStat('spe') > target.getStat('spe')){\r\n\t\t\t\t\tthis.debug('After Move boost');\r\n\t\t\t\t\treturn this.chainModify(1.3);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\taggressive: {\r\n\t\tname: \"Aggressive\",\r\n\t\tshortDesc: \"Adjusts offensive stats based on the foe's defensive stats.\",\r\n\t\tonStart(pokemon) {\r\n\t\t\tlet totaldef = 0;\r\n\t\t\tlet totalspd = 0;\r\n\t\t\tfor (const target of pokemon.foes()) {\r\n\t\t\t\ttotaldef += target.getStat('def', false, true);\r\n\t\t\t\ttotalspd += target.getStat('spd', false, true);\r\n\t\t\t}\r\n\t\t\tif (totaldef && totaldef >= totalspd) {\r\n\t\t\t\tthis.boost({spa: 1});\r\n\t\t\t} else if (totalspd) {\r\n\t\t\t\tthis.boost({atk: 1});\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\taircushion: {\r\n\t\tname: \"Air Cushion\",\r\n\t\tshortDesc: \"When hit by an Earth-type skill, damage is nullified. Ignores Adverse Wind ability. Ignores mine/poison trap.\",\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (effect && (effect.id === \"mine\" || effect.id === \"poison\")) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Earths') {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Air Cushion');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tantibody: {\r\n\t\tname: \"Antibody\",\r\n\t\tshortDesc: \"Immune to Poison and Heavy Poison statuses.\",\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.status['psn'] || pokemon.status['tox']) {\r\n\t\t\t\tpokemon.cureStatus(['psn', 'tox']);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSetStatus(status, target, source, effect) {\r\n\t\t\tif (status.id !== 'psn' && status.id !== 'tox') return;\r\n\t\t\tif ((effect as Move)?.status) {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Antibody');\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t},\r\n\tappeasedspirit: {\r\n\t\tname: \"Appeased Spirit\",\r\n\t\tshortDesc: \"When hit by a Nether-type skill, HP is restored.\",\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Nether') {\r\n\t\t\t\tif (!this.heal(target.baseMaxhp / 4)) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Appeased Spirit');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tarmorpurge: {\r\n\t\tname: \"Armor Purge\",\r\n\t\tshortDesc: \"When hit by a FoAtk, FoDef decreases and Speed increases.\",\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (move.category === \"Physical\")\r\n\t\t\t\tthis.boost({def: -1, atk: 1, spe: 1});\r\n\t\t},\r\n\t},\r\n\tascertainment: {\r\n\t\tname: \"Ascertainment\",\r\n\t\tshortDesc: \"Opponent's Ability does not boost their attacks.\",\r\n\t},\r\n\tassault: {\r\n\t\tname: \"Assault\",\r\n\t\tshortDesc: \"Attacks have a 10% chance of causing flinching.\",\r\n\t\tonModifyMovePriority: -1,\r\n\t\tonModifyMove(move) {\r\n\t\t\tif (move.category !== \"Status\") {\r\n\t\t\t\tif (!move.secondaries) move.secondaries = [];\r\n\t\t\t\tfor (const secondary of move.secondaries) {\r\n\t\t\t\t\tif (secondary.volatileStatus === 'flinch') return;\r\n\t\t\t\t}\r\n\t\t\t\tmove.secondaries.push({\r\n\t\t\t\t\tchance: 10,\r\n\t\t\t\t\tvolatileStatus: 'flinch',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tastronomy: { \r\n\t\tname: \"Astronomy\",\r\n\t\tshortDesc: \"BU skills have 1.2x power.\",\r\n\t\tonBasePower(relayVar, source, target, move) {\r\n\t\t\tif (move.flags.contact)\r\n\t\t\t\tthis.chainModify(1.2);\r\n\t\t},\r\n\t},\r\n\tauroragrace: {\r\n\t\tname: \"Aurora Grace\",\r\n\t\tshortDesc: \"During aurora, Sp.Def is increased by 50% and some HP is restored at the end of every turn.\",\r\n\t\tonModifySpD(relayVar, target, source, move) {\r\n\t\t\tif (this.field.isWeather(\"aurora\"))\r\n\t\t\t\tthis.chainModify(1.5);\r\n\t\t},\r\n\t\tonResidualOrder: 5,\r\n\t\tonResidualSubOrder: 4,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif (this.field.isWeather(\"aurora\"))\r\n\t\t\t\tthis.heal(pokemon.baseMaxhp / 16);\r\n\t\t},\r\n\t},\r\n\tautoheal: {\r\n\t\tname: \"Auto Heal\",\r\n\t\tshortDesc: \"HP recovers every turn while not inflicted with a status ailment.\",\r\n\t\tonResidualOrder: 5,\r\n\t\tonResidualSubOrder: 4,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif (!pokemon.status)\r\n\t\t\t\tthis.heal(pokemon.baseMaxhp / 16);\r\n\t\t},\r\n\t},\r\n\tavarice: {\r\n\t\tname: \"Avarice\",\r\n\t\tshortDesc: \"Afer KOing a Puppet: becomes Extra Yuuma-Avarice.\",\r\n\t\tonFoeFaint(target, source, effect) {\r\n\t\t\tif (source.species.forme !== 'Avarice' && effect.effectType === \"Move\" && target !== source) {\r\n\t\t\t\tthis.add('-activate', source, 'ability: Avarice');\r\n\t\t\t\tsource.formeChange(\"Extra Yuuma-Avarice\", this.effect, true);\r\n\t\t\t\tsource.heal(source.baseMaxhp / 8);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tbadmedicine: {\r\n\t\tname: \"Bad Medicine\",\r\n\t\tshortDesc: \"Enemies will be hurt when they try to use HP leaching skills on you. Ignores Poison Labyrinth ability.\",\r\n\t\tonSourceTryHeal(damage, target, source, effect) {\r\n\t\t\tthis.debug(\"Heal is occurring: \" + target + \" <- \" + source + \" :: \" + effect.id);\r\n\t\t\tconst canOoze = ['drain', 'leechseed', 'strengthsap'];\r\n\t\t\tif (canOoze.includes(effect.id)) {\r\n\t\t\t\tthis.damage(damage);\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tbattlemania: {\r\n\t\tname: \"Battle Mania\",\r\n\t\tshortDesc: \"Opponents that are Fighting-type cannot flee or swap out.\",\r\n\t\tonFoeTrapPokemon(pokemon) {\r\n\t\t\tif (pokemon.hasType('Fightings'))\r\n\t\t\t\tpokemon.tryTrap(true);\r\n\t\t},\r\n\t\tonFoeMaybeTrapPokemon(pokemon, source?) {\r\n\t\t\tif (pokemon.hasType('Fightings'))\r\n\t\t\t\tpokemon.maybeTrapped = true;\r\n\t\t},\r\n\t},\r\n\tbenefitoffire: {\r\n\t\tname: \"Benefit of Fire\",\r\n\t\tshortDesc: \"When hit by a Fire-type skill, HP is restored.\",\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Fires') {\r\n\t\t\t\tif (!this.heal(target.baseMaxhp / 4)) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Benefit of Fire');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tbibliophilia: {\r\n\t\tname: \"Bibliophilia\",\r\n\t\tshortDesc: \"When Extra Kosuzu is holding a youma scroll, a certain stat is doubled, and typing and ability is changed.\",\r\n\t\tonStart(pokemon) {\r\n\t\t\tconst youmascrolls = [\"youmascrollred\",\"youmascrollblue\",\"youmascrollblack\",\"youmascrollwhite\"];\r\n\t\t\tif (!youmascrolls.includes(pokemon.item) || pokemon.species.id !== \"extrakosuzu\") return;\r\n\r\n\t\t\tthis.add('-activate', pokemon, 'ability: Bibliophilia');\r\n\t\t\tswitch (pokemon.item) {\r\n\t\t\t\tcase \"youmascrollred\":\r\n\t\t\t\t\tpokemon.formeChange('Extra Kosuzu-Red', this.effect, true);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"youmascrollblue\":\r\n\t\t\t\t\tpokemon.formeChange('Extra Kosuzu-Blue', this.effect, true);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"youmascrollblack\":\r\n\t\t\t\t\tpokemon.formeChange('Extra Kosuzu-Black', this.effect, true);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"youmascrollwhite\":\r\n\t\t\t\t\tpokemon.formeChange('Extra Kosuzu-White', this.effect, true);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tboundaryblurrer: {\r\n\t\tname: \"Boundary Blurrer\",\r\n\t\tshortDesc: \"During weather effects, FoAtk, FoDef, SpAtk, and SpDef are doubled.\",\r\n\t\tonModifyAtk(relayVar, source, target, move) {\r\n\t\t\tif (this.field.weather)\r\n\t\t\t\tthis.chainModify(2);\r\n\t\t},\r\n\t\tonModifyDef(relayVar, source, target, move) {\r\n\t\t\tif (this.field.weather)\r\n\t\t\t\tthis.chainModify(2);\r\n\t\t},\r\n\t\tonModifySpA(relayVar, source, target, move) {\r\n\t\t\tif (this.field.weather)\r\n\t\t\t\tthis.chainModify(2);\r\n\t\t},\r\n\t\tonModifySpD(relayVar, source, target, move) {\r\n\t\t\tif (this.field.weather)\r\n\t\t\t\tthis.chainModify(2);\r\n\t\t},\r\n\t},\r\n\tboundarysavior: {\r\n\t\tname: \"Boundary Savior\",\r\n\t\tshortDesc: \"During terrain effects, FoDef and SpDef are doubled. Will also recover from ailments at the end of each turn.\",\r\n\t\tonModifyDef(relayVar, source, target, move) {\r\n\t\t\tif (this.field.terrain)\r\n\t\t\t\tthis.chainModify(2);\r\n\t\t},\r\n\t\tonModifySpD(relayVar, source, target, move) {\r\n\t\t\tif (this.field.terrain)\r\n\t\t\t\tthis.chainModify(2);\r\n\t\t},\r\n\t\tonResidual(target, source, effect) {\r\n\t\t\tif (this.field.terrain) {\r\n\t\t\t\tfor (const foe of target.foes()) {\r\n\t\t\t\t\tfoe.damage(foe.baseMaxhp / 8, target, this.effect);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tbreather: {\r\n\t\tname: \"Breather\",\r\n\t\tshortDesc: \"During calm, Fo.Def is increased by 50% and some HP is restored at the end of every turn.\",\r\n\t\tonModifyDef(relayVar, source, target, move) {\r\n\t\t\tif (this.field.isWeather('calm'))\r\n\t\t\t\tthis.chainModify(1.5);\r\n\t\t},\r\n\t},\r\n\tbrightform: {\r\n\t\tname: \"Bright Form\",\r\n\t\tshortDesc: \"Void-type skills are treated as Light-type skills.\",\r\n\t\tonModifyTypePriority: -1,\r\n\t\tonModifyType(move, pokemon) {\r\n\t\t\tif (move.type === 'Void')  {\r\n\t\t\t\tmove.type = 'Lights';\r\n\t\t\t\tmove.typeChangerBoosted = this.effect;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBasePowerPriority: 23,\r\n\t\tonBasePower(basePower, pokemon, target, move) {\r\n\t\t\tif (move.typeChangerBoosted === this.effect) return this.chainModify(1.3);\r\n\t\t},\r\n\t},\r\n\tbrutality: {\r\n\t\tname: \"Brutality\",\r\n\t\tshortDesc: \"SpAtk is boosted by 50% but accuracy is cut by 20%.\",\r\n\t\tonModifySpAPriority: 5,\r\n\t\tonModifySpA(spa) {\r\n\t\t\treturn this.modify(spa, 1.5);\r\n\t\t},\r\n\t\tonSourceModifyAccuracyPriority: 7,\r\n\t\tonSourceModifyAccuracy(accuracy, target, source, move) {\r\n\t\t\tif (move.category === 'Special' && typeof accuracy === 'number') {\r\n\t\t\t\treturn accuracy * 0.8;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tbruteforce: {\r\n\t\tname: \"Brute Force\",\r\n\t\tshortDesc: \"User is able to ignore the foe's ability, but unable to use items.\",\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.add('-ability', pokemon, 'Brute Force');\r\n\t\t},\r\n\t\tonModifyMove(move) {\r\n\t\t\tmove.ignoreAbility = true;\r\n\t\t},\r\n\t},\r\n\tbyakuteismetal: {\r\n\t\tname: \"Byakutei's Metal\",\r\n\t\tshortDesc: \"Steel skills are 50% more powerful during Byakko. Fire-skill damage is halved.\",\r\n\t\tonBasePower(relayVar, source, target, move) {\r\n\t\t\tif (target.hasAbility('ascertainment') || this.field.isTerrain('kohryu'))\r\n\t\t\t\treturn;\r\n\t\t\t\r\n\t\t\tif (move.type === 'Steels' && this.field.isTerrain('byakko'))\r\n\t\t\t\tthis.chainModify(1.5);\r\n\t\t},\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (this.field.isTerrain('byakko') && effect.effectType === \"Move\" && effect.type === \"Fire\")\r\n\t\t\t\tthis.chainModify(0.5);\r\n\t\t},\r\n\t},\r\n\tcentralexpanse: {\r\n\t\tname: \"Central Expanse\",\r\n\t\tshortDesc: \"During Kohryu, your skills ignore the foe's ability. The user may also use held items and Quick Eye.\",\r\n\t\tonModifyMove(move) {\r\n\t\t\tif (this.field.isTerrain(\"kohryu\"))\r\n\t\t\t\tmove.ignoreAbility = true;\r\n\t\t},\r\n\t\tonFoeModifyBoost(boosts, pokemon) {\r\n\t\t\tif (!this.field.isTerrain(\"kohryu\"))\r\n\t\t\t\treturn;\r\n\r\n\t\t\tconst unawareUser = this.effectState.target;\r\n\t\t\tif (unawareUser === pokemon) return;\r\n\t\t\tif (unawareUser === this.activePokemon && pokemon === this.activeTarget) {\r\n\t\t\t\tboosts['def'] = 0;\r\n\t\t\t\tboosts['spd'] = 0;\r\n\t\t\t\tboosts['evasion'] = 0;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tchaosinduction: {\r\n\t\tname: \"Chaos Induction\",\r\n\t\tshortDesc: \"Opponent has a 30% chance to become confused from any attack.\",\r\n\t\tonModifyMovePriority: -1,\r\n\t\tonModifyMove(move) {\r\n\t\t\tif (move.category !== \"Status\") {\r\n\t\t\t\tif (!move.secondaries) move.secondaries = [];\r\n\t\t\t\tfor (const secondary of move.secondaries) {\r\n\t\t\t\t\tif (secondary.volatileStatus === 'confusion') return;\r\n\t\t\t\t}\r\n\t\t\t\tmove.secondaries.push({\r\n\t\t\t\t\tchance: 30,\r\n\t\t\t\t\tvolatileStatus: 'confusion',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tcharge: {\r\n\t\tname: \"Charge!\",\r\n\t\tshortDesc: \"Attack damage is boosted by 30%, but their secondary effects never occur.\",\r\n\t\tonModifyMove(move, pokemon) {\r\n\t\t\tif (move.secondaries) {\r\n\t\t\t\tdelete move.secondaries;\r\n\t\t\t\t// Actual negation of `AfterMoveSecondary` effects implemented in scripts.js\r\n\t\t\t\tmove.hasSheerForce = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBasePowerPriority: 21,\r\n\t\tonBasePower(basePower, pokemon, target, move) {\r\n\t\t\tif (target.hasAbility('ascertainment') || this.field.isTerrain('kohryu'))\r\n\t\t\t\treturn;\r\n\t\t\tif (move.hasSheerForce)\r\n\t\t\t\tthis.chainModify(1.3);\r\n\t\t},\r\n\t},\r\n\tcholeric: {\r\n\t\tname: \"Choleric\",\r\n\t\tshortDesc: \"The weather becomes Dust Storm.\",\r\n\t\tonStart(source) {\r\n\t\t\tthis.field.setWeather('duststorm');\r\n\t\t},\r\n\t},\r\n\tclearedmind: {\r\n\t\tname: \"Cleared Mind\",\r\n\t\tshortDesc: \"Immune to Burn and Heavy Burn statuses.\",\r\n\t\tonSetStatus(status, target, source, effect) {\r\n\t\t\tif (status.id === \"brn\" || status.id === \"brnheavy\")\r\n\t\t\t\ttarget.clearStatus();\r\n\t\t},\r\n\t},\r\n\tcloakofdarkness: {\r\n\t\tname: \"Cloak of Darkness\",\r\n\t\tshortDesc: \"Restores HP when hit by a Dark-type skill and takes Damage against Light-type skills.\",\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Darks' && !this.field.isTerrain('kohryu')) {\r\n\t\t\t\tif (!this.heal(target.baseMaxhp / 4)) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Cloak of Darkness');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFoeBasePower(basePower, attacker, defender, move) {\r\n\t\t\tif (this.effectState.target !== defender) return;\r\n\t\t\tif (move.type === \"Light\")\r\n\t\t\t\tthis.chainModify(1.25);\r\n\t\t},\r\n\t\tonWeather(target, source, effect) {\r\n\t\t\tif (effect.id === 'heavyfog') {\r\n\t\t\t\ttarget.heal(target.baseMaxhp / 8);\r\n\t\t\t} else if (effect.id === 'aurora') {\r\n\t\t\t\ttarget.damage(target.baseMaxhp / 8, target, target);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tcollectomaniac: {\r\n\t\tname: \"Collectomaniac\",\r\n\t\tshortDesc: \"If no item is held and you receive damage, you may take the foe's held item. Held items cannot be stolen.\",\r\n\t\tonAfterMoveSecondary(target, source, move) {\r\n\t\t\tif (!source.item) {\r\n\t\t\t\tsource.takeItem(target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTakeItem(item, pokemon, source, move?) {\r\n\t\t\treturn false;\r\n\t\t},\r\n\t},\r\n\tcommonsenseless: {\r\n\t\tname: \"Common Senseless\",\r\n\t\tshortDesc: \"Ignores type immunities when attacking.\",\r\n\t\tonModifyMove(move) {\r\n\t\t\tmove.ignoreImmunity = true;\r\n\t\t},\r\n\t},\r\n\tcomposed: {\r\n\t\tname: \"Composed\",\r\n\t\tshortDesc: \"Immune to Upbeat.\",\r\n\t\trating: 2,\r\n\t\tonTryAddVolatile(status, target, source, effect) {\r\n\t\t\tif (['taunt'].includes(status.id)) {\r\n\t\t\t\tif (effect.effectType === 'Move') {\r\n\t\t\t\t\tconst effectHolder = this.effectState.target;\r\n\t\t\t\t\tthis.add('-block', target, 'ability: Composed', '[of] ' + effectHolder);\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tcounterstance: {\r\n\t\tname: \"Counter Stance\",\r\n\t\tshortDesc: \"Damages the attacker when hit with a BU skill.\",\r\n\t\tonDamagingHitOrder: 2,\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (move.flags.contact) {\r\n\t\t\t\tthis.damage(source.baseMaxhp / 8, source, target);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tcuriosity: {\r\n\t\tname: \"Curiosity\",\r\n\t\tshortDesc: \"Support skills receive +1 to their priority.\",\r\n\t\tonModifyPriority(relayVar, source, target, move) {\r\n\t\t\tif (move.category === \"Status\")\r\n\t\t\t\treturn relayVar + 1;\r\n\t\t},\r\n\t},\r\n\tcursereturn: {\r\n\t\tname: \"Curse Return\",\r\n\t\tshortDesc: \"Reflects the effects of status skills back on the attacker.\",\r\n\t\tonTryHitPriority: 1,\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target === source || move.hasBounced || move?.category !== 'Status') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst newMove = this.dex.getActiveMove(move.id);\r\n\t\t\tnewMove.hasBounced = true;\r\n\t\t\tnewMove.pranksterBoosted = false;\r\n\t\t\tthis.actions.useMove(newMove, target, source);\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\tonAllyTryHitSide(target, source, move) {\r\n\t\t\tif (target === source || move.hasBounced || move?.category !== 'Status') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst newMove = this.dex.getActiveMove(move.id);\r\n\t\t\tnewMove.hasBounced = true;\r\n\t\t\tnewMove.pranksterBoosted = false;\r\n\t\t\tthis.actions.useMove(newMove, this.effectState.target, source);\r\n\t\t\treturn null;\r\n\t\t},\r\n\t},\r\n\tdaredevil: {\r\n\t\tname: \"Daredevil\",\r\n\t\tshortDesc: \"FoAtk is boosted by 50% but accuracy is cut by 20%.\",\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk) {\r\n\t\t\treturn this.modify(atk, 1.5);\r\n\t\t},\r\n\t\tonSourceModifyAccuracyPriority: 7,\r\n\t\tonSourceModifyAccuracy(accuracy, target, source, move) {\r\n\t\t\tif (move.category === 'Physical' && typeof accuracy === 'number') {\r\n\t\t\t\treturn accuracy * 0.8;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tdarkforce: {\r\n\t\tname: \"Dark Force\",\r\n\t\tshortDesc: \"Opponent has 30% chance to become blinded from their focus attacks.\",\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (move.category === \"Physical\") {\r\n\t\t\t\tif (this.randomChance(3, 10)) {\r\n\t\t\t\t\tsource.trySetStatus('dark', target);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tdeflective: {\r\n\t\tname: \"Deflective\",\r\n\t\tshortDesc: \"Skills you're immune to will increase your Fo.Def and Sp.Def by one stage.\",\r\n\t\tonImmunity(type, pokemon) {\r\n\t\t\tif (this.dex.types.isName(type)) {\r\n\t\t\t\tthis.boost({def: 1, spd: 1});\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tdeploysmoke: {\r\n\t\tname: \"Deploy Smoke\",\r\n\t\tshortDesc: \"Lowers the opponent's FoAtk upon switch in.\",\r\n\t\tonStart(pokemon) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const target of pokemon.side.foe.active) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-ability', pokemon, 'Deploy Smoke', 'boost');\r\n\t\t\t\t\tactivated = true;\r\n\t\t\t\t}\r\n\t\t\t\tif (target.volatiles['substitute']) {\r\n\t\t\t\t\tthis.add('-immune', target);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.boost({atk: -1}, target, pokemon, null, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tdesolateform: {\r\n\t\tname: \"Desolate Form\",\r\n\t\tshortDesc: \"Void-type skills are treated as Earth-type skills.\",\r\n\t\tonModifyTypePriority: -1,\r\n\t\tonModifyType(move, pokemon) {\r\n\t\t\tif (move.type === 'Void')  {\r\n\t\t\t\tmove.type = 'Earths';\r\n\t\t\t\tmove.typeChangerBoosted = this.effect;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBasePowerPriority: 23,\r\n\t\tonBasePower(basePower, pokemon, target, move) {\r\n\t\t\tif (move.typeChangerBoosted === this.effect) return this.chainModify(1.3);\r\n\t\t},\r\n\t},\r\n\tdesperation: {\r\n\t\tname: \"Desperation\",\r\n\t\tshortDesc: \"When poisoned, FoAtk is boosted by 50%.\",\r\n\t\tonModifyAtk(relayVar, source, target, move) {\r\n\t\t\tif (source.status[\"psn\"]) {\r\n\t\t\t\tthis.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tdiscourager: {\r\n\t\tname: \"Discourager\",\r\n\t\tshortDesc: \"Reduces the opponent's FoAtk when hit by a skill that your barrier resists.\",\r\n\t\tonEffectiveness(typeMod, target, type, move) {\r\n\t\t\tif (move && move.category !== \"Status\" && typeMod < 0)\r\n\t\t\t\ttarget?.boostBy({atk: -1});\r\n\t\t},\r\n\t},\r\n\tdisjointedblow: {\r\n\t\tname: \"Disjointed Blow\",\r\n\t\tshortDesc: \"The power of super effective attacks is increased by 40%.\",\r\n\t\tonModifyDamage(damage, source, target, move) {\r\n\t\t\tif (target.hasAbility('ascertainment') || this.field.isTerrain('kohryu'))\r\n\t\t\t\treturn;\r\n\t\t\t\r\n\t\t\tif (move && target.getMoveHitData(move).typeMod > 0) {\r\n\t\t\t\treturn this.chainModify(1.4);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tdisturber: {\r\n\t\tname: \"Disturber\",\r\n\t\tshortDesc: \"Reduces the foe's FoAtk or SpAtk when hit by a skill that your barrier resists.\",\r\n\t\tonEffectiveness(typeMod, target, type, move) {\r\n\t\t\tif (move && typeMod < 0) {\r\n\t\t\t\tif (move.category === \"Physical\")\r\n\t\t\t\t\ttarget?.boostBy({atk: -1});\r\n\t\t\t\telse if (move.category === \"Special\")\r\n\t\t\t\t\ttarget?.boostBy({spa: -1});\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tdivinefestival: {\r\n\t\tname: \"Divine Festival\",\r\n\t\tshortDesc: \"Status ailments are cured at the end of every turn during Sunshower.\",\r\n\t\tonResidual(target, source, effect) {\r\n\t\t\tif (this.field.isWeather('sunshower')) {\r\n\t\t\t\ttarget.clearStatus();\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tdivineprotection: {\r\n\t\tname: \"Divine Protection\",\r\n\t\tshortDesc: \"Stats cannot be lowered by the enemy.\",\r\n\t\tonBoost(boost, target, source, effect) {\r\n\t\t\tif (source && target === source) return;\r\n\t\t\tlet showMsg = false;\r\n\t\t\tlet i: BoostID;\r\n\t\t\tfor (i in boost) {\r\n\t\t\t\tif (boost[i]! < 0) {\r\n\t\t\t\t\tdelete boost[i];\r\n\t\t\t\t\tshowMsg = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (showMsg && !(effect as ActiveMove).secondaries && effect.id !== 'octolock') {\r\n\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"[from] ability: Divine Protection\", \"[of] \" + target);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tdreamworld: {\r\n\t\tname: \"Dream World\",\r\n\t\tshortDesc: \"Stopped opponents take damage every turn.\",\r\n\t\tonResidualOrder: 28,\r\n\t\tonResidualSubOrder: 2,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif (!pokemon.hp) return;\r\n\t\t\tfor (const target of pokemon.foes()) {\r\n\t\t\t\tif (target.status['stp']) {\r\n\t\t\t\t\tthis.damage(target.baseMaxhp / 8, target, pokemon);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tdrunkard: {\r\n\t\tname: \"Drunkard\",\r\n\t\tshortDesc: \"Cannot attack consecutively, however it ignores the foe's ability.\",\r\n\t\tonStart(pokemon) {\r\n\t\t\tpokemon.removeVolatile('drunkard');\r\n\t\t\tif (pokemon.activeTurns && (pokemon.moveThisTurnResult !== undefined || !this.queue.willMove(pokemon))) {\r\n\t\t\t\tpokemon.addVolatile('drunkard');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBeforeMovePriority: 9,\r\n\t\tonBeforeMove(pokemon) {\r\n\t\t\tif (pokemon.removeVolatile('drunkard')) {\r\n\t\t\t\tthis.add('cant', pokemon, 'ability: Drunkard');\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tpokemon.addVolatile('drunkard');\r\n\t\t},\r\n\t\tonModifyMove(move, pokemon, target) {\r\n\t\t\tmove.ignoreAbility = true;\r\n\t\t},\r\n\t\tcondition: {},\r\n\t},\r\n\tduel: {\r\n\t\tname: \"Duel\",\r\n\t\tshortDesc: \"Neither you nor your opponent will be able to miss.\",\r\n\t\tonModifyMove(move, pokemon, target) {\r\n\t\t\tmove.accuracy = true;\r\n\t\t},\r\n\t\tonFoeModifyMove(move, pokemon, target) {\r\n\t\t\tmove.accuracy = true;\r\n\t\t},\r\n\t},\r\n\teasternexpanse: {\r\n\t\tname: \"Eastern Expanse\",\r\n\t\tshortDesc: \"During Seiryu, same-type skills are 33% stronger.\",\r\n\t\tonBasePower(relayVar, source, target, move) {\r\n\t\t\tif (target.hasAbility('ascertainment') || this.field.isTerrain('kohryu'))\r\n\t\t\t\treturn;\r\n\r\n\t\t\tif (this.field.isTerrain('seiryu') && source.hasType(move.type)) {\r\n\t\t\t\tthis.chainModify([4,3]);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyMove(move) {\r\n\t\t\tif (this.field.isTerrain('seiryu')) move.ignoreImmunity = true;\r\n\t\t},\r\n\t},\r\n\teconomist: {\r\n\t\tname: \"Economist\",\r\n\t\tshortDesc: \"Charms may be restored after use. During calm, you will always restore them.\",\r\n\t\tonResidualOrder: 28,\r\n\t\tonResidualSubOrder: 2,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif (this.field.isWeather(['calm']) || this.randomChance(1, 2)) {\r\n\t\t\t\tif (pokemon.hp && !pokemon.item && this.dex.items.get(pokemon.lastItem).isBerry) {\r\n\t\t\t\t\tpokemon.setItem(pokemon.lastItem);\r\n\t\t\t\t\tpokemon.lastItem = '';\r\n\t\t\t\t\tthis.add('-item', pokemon, pokemon.getItem(), '[from] ability: Economist');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\trating: 2.5,\r\n\t},\r\n\telectrification: {\r\n\t\tname: \"Electrification\",\r\n\t\tshortDesc: \"Opponent has 30% chance to become paralyzed from any attack.\",\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (this.randomChance(3, 10)) {\r\n\t\t\t\tsource.trySetStatus('par', target);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\telectromagnetic: {\r\n\t\tname: \"Electromagnetic\",\r\n\t\tshortDesc: \"When hit by an Electric-type skill, damage is nullified and SpAtk is raised.\",\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Electrics') {\r\n\t\t\t\tif (!this.boost({spa: 1})) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Electromagnetic');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\temergencycure: {\r\n\t\tname: \"Emergency Cure\",\r\n\t\tshortDesc: \"Recovers from status ailments when switching out.\",\r\n\t\tonCheckShow(pokemon) {\r\n\t\t\t// This is complicated\r\n\t\t\t// For the most part, in-game, it's obvious whether or not Natural Cure activated,\r\n\t\t\t// since you can see how many of your opponent's pokemon are statused.\r\n\t\t\t// The only ambiguous situation happens in Doubles/Triples, where multiple pokemon\r\n\t\t\t// that could have Natural Cure switch out, but only some of them get cured.\r\n\t\t\tif (pokemon.side.active.length === 1) return;\r\n\t\t\tif (pokemon.showCure === true || pokemon.showCure === false) return;\r\n\r\n\t\t\tconst cureList = [];\r\n\t\t\tlet noCureCount = 0;\r\n\t\t\tfor (const curPoke of pokemon.side.active) {\r\n\t\t\t\t// pokemon not statused\r\n\t\t\t\tif (!curPoke?.status) {\r\n\t\t\t\t\t// this.add('-message', \"\" + curPoke + \" skipped: not statused or doesn't exist\");\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif (curPoke.showCure) {\r\n\t\t\t\t\t// this.add('-message', \"\" + curPoke + \" skipped: Natural Cure already known\");\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tconst species = curPoke.species;\r\n\t\t\t\t// pokemon can't get Natural Cure\r\n\t\t\t\tif (!Object.values(species.abilities).includes('Emergency Cure')) {\r\n\t\t\t\t\t// this.add('-message', \"\" + curPoke + \" skipped: no Natural Cure\");\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t// pokemon's ability is known to be Natural Cure\r\n\t\t\t\tif (!species.abilities['1'] && !species.abilities['H']) {\r\n\t\t\t\t\t// this.add('-message', \"\" + curPoke + \" skipped: only one ability\");\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t// pokemon isn't switching this turn\r\n\t\t\t\tif (curPoke !== pokemon && !this.queue.willSwitch(curPoke)) {\r\n\t\t\t\t\t// this.add('-message', \"\" + curPoke + \" skipped: not switching\");\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (curPoke.hasAbility('naturalcure')) {\r\n\t\t\t\t\t// this.add('-message', \"\" + curPoke + \" confirmed: could be Natural Cure (and is)\");\r\n\t\t\t\t\tcureList.push(curPoke);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// this.add('-message', \"\" + curPoke + \" confirmed: could be Natural Cure (but isn't)\");\r\n\t\t\t\t\tnoCureCount++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!cureList.length || !noCureCount) {\r\n\t\t\t\t// It's possible to know what pokemon were cured\r\n\t\t\t\tfor (const pkmn of cureList) {\r\n\t\t\t\t\tpkmn.showCure = true;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// It's not possible to know what pokemon were cured\r\n\r\n\t\t\t\t// Unlike a -hint, this is real information that battlers need, so we use a -message\r\n\t\t\t\tthis.add('-message', \"(\" + cureList.length + \" of \" + pokemon.side.name + \"'s pokemon \" + (cureList.length === 1 ? \"was\" : \"were\") + \" cured by Emergency Cure.)\");\r\n\r\n\t\t\t\tfor (const pkmn of cureList) {\r\n\t\t\t\t\tpkmn.showCure = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tif (!pokemon.status) return;\r\n\r\n\t\t\t// if pokemon.showCure is undefined, it was skipped because its ability\r\n\t\t\t// is known\r\n\t\t\tif (pokemon.showCure === undefined) pokemon.showCure = true;\r\n\r\n\t\t\tpokemon.cureStatus();\r\n\r\n\t\t\t// only reset .showCure if it's false\r\n\t\t\t// (once you know a Pokemon has Natural Cure, its cures are always known)\r\n\t\t\tif (!pokemon.showCure) pokemon.showCure = undefined;\r\n\t\t},\r\n\t},\r\n\tempowered: {\r\n\t\tname: \"Empowered\",\r\n\t\tshortDesc: \"EN skills have 1.2x power.\",\r\n\t\tonBasePower(relayVar, source, target, move) {\r\n\t\t\tif (!move.flags.contact)\r\n\t\t\t\tthis.chainModify(1.2);\r\n\t\t},\r\n\t},\r\n\tfasttalker: {\r\n\t\tname: \"Fast Talker\",\r\n\t\tshortDesc: \"Two-turn skills can be used in one turn but have 0.9x power.\",\r\n\t\tonBasePower(relayVar, source, target, move) {\r\n\t\t\tif (target.hasAbility('ascertainment') || this.field.isTerrain('kohryu'))\r\n\t\t\t\treturn;\r\n\t\t\tif (move.volatileStatus === \"twoturnmove\") {\r\n\t\t\t\tthis.chainModify(0.9);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBeforeMove(source, target, move) {\r\n\t\t\tif (move.volatileStatus === \"twoturnmove\") {\r\n\t\t\t\tdelete move.volatileStatus;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tfinalform: {\r\n\t\tname: \"Final Form\",\r\n\t\tshortDesc: \"Boosts same-type skills when HP is less than 1/3.\",\r\n\t\tonBasePower(relayVar, source, target, move) {\r\n\t\t\tif (target.hasAbility('ascertainment') || this.field.isTerrain('kohryu'))\r\n\t\t\t\treturn;\r\n\r\n\t\t\tif (source.hasType(move.type) && source.hp <= source.baseMaxhp / 3) {\r\n\t\t\t\tthis.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tfirsthit: {\r\n\t\tname: \"First Hit\",\r\n\t\tshortDesc: \"Attack power is boosted by 20% when moving first.\",\r\n\t\tonBasePower(basePower, pokemon, target) {\r\n\t\t\tif (target.hasAbility('ascertainment') || this.field.isTerrain('kohryu'))\r\n\t\t\t\treturn;\r\n\r\n\t\t\tlet boosted = true;\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target === pokemon) continue;\r\n\t\t\t\tif (!this.queue.willMove(target)) {\r\n\t\t\t\t\tboosted = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (boosted) {\r\n\t\t\t\tthis.debug('First Hit boost');\r\n\t\t\t\treturn this.chainModify(1.2);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tflaminggarment: {\r\n\t\tname: \"Flaming Garment\",\r\n\t\tshortDesc: \"Opponent has a 30% chance to become burned from any attack.\",\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (this.randomChance(3, 10)) {\r\n\t\t\t\tsource.trySetStatus('brn', target);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tflash: {\r\n\t\tname: \"Flash\",\r\n\t\tshortDesc: \"During aurora, Speed is doubled.\",\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (this.field.isWeather(\"aurora\")) {\r\n\t\t\t\tthis.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tflatspeed: {\r\n\t\tname: \"Flat Speed\",\r\n\t\tshortDesc: \"Lowers increased priority skills to 0 for both sides.\",\r\n\t\tonModifyPriorityPriority: -1,\r\n\t\tonModifyPriority(relayVar, source, target, move) {\r\n\t\t\tif (move.priority > 0)\r\n\t\t\t\treturn 0;\r\n\t\t},\r\n\t\tonFoeModifyPriority(relayVar, source, target, move) {\r\n\t\t\tif (move.priority > 0)\r\n\t\t\t\treturn 0;\r\n\t\t},\r\n\t},\r\n\tflawless: {\r\n\t\tname: \"Flawless\",\r\n\t\tshortDesc: \"Evasion against status and stat changing skills is increased.\",\r\n\t\tonModifyAccuracyPriority: 10,\r\n\t\tonModifyAccuracy(accuracy, target, source, move) {\r\n\t\t\tif (move.category === 'Status' && typeof accuracy === 'number') {\r\n\t\t\t\tthis.debug('Flawless - setting accuracy to 50');\r\n\t\t\t\treturn 50;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tflexible: {\r\n\t\tname: \"Flexible\",\r\n\t\tshortDesc: \"Immune to Paralysis and Shock statuses.\",\r\n\t\tonSetStatus(status, target, source, effect) {\r\n\t\t\tif (status.id === \"par\" || status.id === \"shk\") {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tfogtraveler: {\r\n\t\tname: \"Fog Traveler\",\r\n\t\tshortDesc: \"During heavy fog, Speed is doubled.\",\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (this.field.isWeather('heavyfog')) {\r\n\t\t\t\tthis.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tforceofnature: {\r\n\t\tname: \"Force of Nature\",\r\n\t\tshortDesc: \"When hit by a Nature-type skill, damage is nullified and SpAtk is raised.\",\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Nature') {\r\n\t\t\t\tif (!target.boostBy({spa: 1})) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Cloak of Darkness');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tforwarddash: {\r\n\t\tname: \"Forward Dash\",\r\n\t\tshortDesc: \"The power of spread skills are doubled.\",\r\n\t\tonBasePower(relayVar, source, target, move) {\r\n\t\t\tif (target.hasAbility('ascertainment') || this.field.isTerrain('kohryu'))\r\n\t\t\t\treturn;\r\n\r\n\t\t\tif (move.category === \"Special\") {\r\n\t\t\t\tthis.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tfoxswedding: {\r\n\t\tname: \"Fox's Wedding\",\r\n\t\tshortDesc: \"Doubles Speed during Sunshower.\",\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (this.field.isWeather('sunshower')) {\r\n\t\t\t\tthis.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tfrailhealth: {\r\n\t\tname: \"Frail Health\",\r\n\t\tshortDesc: \"This Puppet can only be damaged by supereffective moves and indirect damage.\",\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target === source || move.category === 'Status' || move.type === '???' || move.id === 'struggle' || move.type === \"Dream\" || this.field.isTerrain('kohryu'))\r\n\t\t\t\treturn;\r\n\t\t\tthis.debug('Frail Health immunity: ' + move.id);\r\n\t\t\tif (target.runEffectiveness(move) <= 0) {\r\n\t\t\t\tif (move.smartTarget) {\r\n\t\t\t\t\tmove.smartTarget = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Frail Health');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tfreewill: {\r\n\t\tname: \"Free Will\",\r\n\t\tshortDesc: \"Immune to skill usage restrictions.\",\r\n\t\tonAllyTryAddVolatile(status, target, source, effect) {\r\n\t\t\tif (['attract', 'disable', 'encore', 'healblock', 'taunt', 'torment'].includes(status.id)) {\r\n\t\t\t\tif (effect.effectType === 'Move') {\r\n\t\t\t\t\tconst effectHolder = this.effectState.target;\r\n\t\t\t\t\tthis.add('-block', target, 'ability: Free Will', '[of] ' + effectHolder);\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tfullpower: {\r\n\t\tname: \"Full Power\",\r\n\t\tshortDesc: \"Skills are 20% more powerful, but takes damage every turn.\",\r\n\t\tonModifyDamage(damage, source, target, move) {\r\n\t\t\tif (target.hasAbility('ascertainment') || this.field.isTerrain('kohryu'))\r\n\t\t\t\treturn;\r\n\r\n\t\t\treturn this.chainModify(1.2);\r\n\t\t},\r\n\t\tonAfterMoveSecondary(source, target, move) {\r\n\t\t\tif (source && source !== target && move && move.category !== 'Status' && !source.forceSwitchFlag) {\r\n\t\t\t\tthis.damage(source.baseMaxhp / 10, source, source, this.dex.abilities.get('fullpower'));\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tgale: {\r\n\t\tname: \"Gale\",\r\n\t\tshortDesc: \"When inflicted with an ailment, Speed is boosted 50%. Speed drop from paralysis is ignored.\",\r\n\t\t//Para/Shock negation handled in respective conditions\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (pokemon.status) {\r\n\t\t\t\tthis.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tgaleform: {\r\n\t\tname: \"Gale Form\",\r\n\t\tshortDesc: \"Void-type skills are treated as Wind-type skills.\",\r\n\t\tonModifyTypePriority: -1,\r\n\t\tonModifyType(move, pokemon) {\r\n\t\t\tif (move.type === 'Void')  {\r\n\t\t\t\tmove.type = 'Wind';\r\n\t\t\t\tmove.typeChangerBoosted = this.effect;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBasePowerPriority: 23,\r\n\t\tonBasePower(basePower, pokemon, target, move) {\r\n\t\t\tif (move.typeChangerBoosted === this.effect) return this.chainModify(1.3);\r\n\t\t},\r\n\t},\r\n\tgeneralsform: {\r\n\t\tname: \"General's Form\",\r\n\t\tshortDesc: \"Void-type skills are treated as Fighting-type skills.\",\r\n\t\tonModifyTypePriority: -1,\r\n\t\tonModifyType(move, pokemon) {\r\n\t\t\tif (move.type === 'Void')  {\r\n\t\t\t\tmove.type = 'Fightings';\r\n\t\t\t\tmove.typeChangerBoosted = this.effect;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBasePowerPriority: 23,\r\n\t\tonBasePower(basePower, pokemon, target, move) {\r\n\t\t\tif (move.typeChangerBoosted === this.effect) return this.chainModify(1.3);\r\n\t\t},\r\n\t},\r\n\tgenteiswater: {\r\n\t\tname: \"Gentei's Water\",\r\n\t\tshortDesc: \"Water skills are 50% more powerful during Genbu. Earth-skill damage is halved.\",\r\n\t\tonBasePower(relayVar, source, target, move) {\r\n\t\t\tif (target.hasAbility('ascertainment') || this.field.isTerrain('kohryu'))\r\n\t\t\t\treturn;\r\n\t\t\t\r\n\t\t\tif (move.type === 'Waters' && this.field.isTerrain('genbu'))\r\n\t\t\t\tthis.chainModify(1.5);\r\n\t\t},\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (this.field.isTerrain('genbu') && effect.effectType === \"Move\" && effect.type === \"Earth\")\r\n\t\t\t\tthis.chainModify(0.5);\r\n\t\t},\r\n\t},\r\n\tghostform: {\r\n\t\tname: \"Ghost Form\",\r\n\t\tshortDesc: \"Void-type skills are treated as Nether-type skills.\",\r\n\t\tonModifyTypePriority: -1,\r\n\t\tonModifyType(move, pokemon) {\r\n\t\t\tif (move.type === 'Void')  {\r\n\t\t\t\tmove.type = 'Nether';\r\n\t\t\t\tmove.typeChangerBoosted = this.effect;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBasePowerPriority: 23,\r\n\t\tonBasePower(basePower, pokemon, target, move) {\r\n\t\t\tif (move.typeChangerBoosted === this.effect) return this.chainModify(1.3);\r\n\t\t},\r\n\t},\r\n\tglamorous: {\r\n\t\tname: \"Glamorous\",\r\n\t\tshortDesc: \"Reduces damage of attacks that penetrate your barrier.\",\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (effect.effectType === \"Move\" && this.dex.getEffectiveness(effect.type, target) > 0)\r\n\t\t\t\tthis.chainModify(0.75);\r\n\t\t},\r\n\t},\r\n\tgoodmanagement: {\r\n\t\tname: \"Good Management\",\r\n\t\tshortDesc: \"Stat changes from skills and hold items are doubled.\",\r\n\t\tonChangeBoost(boost, target, source, effect) {\r\n\t\t\tif (effect && effect.id === 'zpower') return;\r\n\t\t\tlet i: BoostID;\r\n\t\t\tfor (i in boost) {\r\n\t\t\t\tboost[i]! *= 2;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tgraceofwater: {\r\n\t\tname: \"Grace of Water\",\r\n\t\tshortDesc: \"When hit by a Water-type skill, HP is restored.\",\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Waters') {\r\n\t\t\t\tif (!this.heal(target.baseMaxhp / 4)) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Grace of Water');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tgrandopening: {\r\n\t\tname: \"Grand Opening\",\r\n\t\tshortDesc: \"This Puppet's Light moves have +1 priority.\",\r\n\t\tonModifyPriority(relayVar, source, target, move) {\r\n\t\t\tif (move.type === \"Light\")\r\n\t\t\t\treturn relayVar + 1;\r\n\t\t},\r\n\t},\r\n\tharassment: {\r\n\t\tname: \"Harassment\",\r\n\t\tshortDesc: \"When your stats drop, so does the foe. When the foe's stats increase, your stats increase as well.\",\r\n\t\tonAfterBoost(boost, target, source, effect) {\r\n\t\t\tconsole.log(target.name + \" \" + source.name + \" \" + effect);\r\n\t\t\tif (effect?.name === 'Harassment' || effect?.name === 'Bronze Mirror') return;\r\n\t\t\tconst boostPlus = this.effectState.boosts;\r\n\t\t\tif(target.adjacentFoes().length == 0) return;\r\n\t\t\tconst pokemon = this.sample(target.adjacentFoes());\r\n\t\t\tlet i: BoostID;\r\n\t\t\tfor (i in boost) {\r\n\t\t\t\tif (boost[i]! < 0) {\r\n\t\t\t\t\tboostPlus[i] = (boostPlus[i] || 0) + boost[i]!;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.boost(this.effectState.boosts, pokemon);\r\n\t\t},\r\n\t\tonFoeAfterBoost(boost, target, source, effect) {\r\n\t\t\tif (effect?.name === 'Harassment' || effect?.name === 'Bronze Mirror') return;\r\n\t\t\tif (!this.effectState.boosts) this.effectState.boosts = {} as SparseBoostsTable;\r\n\t\t\tconst boostPlus = this.effectState.boosts;\r\n\t\t\tlet i: BoostID;\r\n\t\t\tfor (i in boost) {\r\n\t\t\t\tif (boost[i]! > 0) {\r\n\t\t\t\t\tboostPlus[i] = (boostPlus[i] || 0) + boost[i]!;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchInPriority: -3,\r\n\t\tonAnySwitchIn() {\r\n\t\t\tif (!this.effectState.boosts || !this.effectState.target) return;\r\n\t\t\tconsole.log(\"1: \" + this.effectState.boosts['spa'] + \" \" + this.effectState.target.name);\r\n\t\t\tthis.boost(this.effectState.boosts, this.effectState.target);\r\n\t\t\tdelete this.effectState.boosts;\r\n\t\t\tdelete this.effectState.target;\r\n\t\t},\r\n\t\tonAnyAfterMove() {\r\n\t\t\tif (!this.effectState.boosts || !this.effectState.target) return;\r\n\t\t\tconsole.log(\"2: \" + this.effectState.boosts['spa'] + \" \" + this.effectState.target.name);\r\n\t\t\tthis.boost(this.effectState.boosts, this.effectState.target);\r\n\t\t\tdelete this.effectState.boosts;\r\n\t\t\tdelete this.effectState.target;\r\n\t\t},\r\n\t\tonResidualOrder: 29,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif (!this.effectState.boosts || !this.effectState.target) return;\r\n\t\t\tconsole.log(\"3: \" + this.effectState.boosts['spa'] + \" \" + this.effectState.target.name);\r\n\t\t\tthis.boost(this.effectState.boosts, this.effectState.target);\r\n\t\t\tdelete this.effectState.boosts;\r\n\t\t\tdelete this.effectState.target;\r\n\t\t},\r\n\t\tonEnd() {\r\n\t\t\tdelete this.effectState.boosts;\r\n\t\t\tdelete this.effectState.target;\r\n\t\t},\r\n\t},\r\n\thateincarnate: {\r\n\t\tname: \"Hate Incarnate\",\r\n\t\tshortDesc: \"Damages the opponent if fainting is caused by an attack of 70 or more BP.\",\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (!target.hp && move.basePower >= 70)\r\n\t\t\t\tsource.damage(source.baseMaxhp / 8);\r\n\t\t},\r\n\t},\r\n\thealingpower: {\r\n\t\tname: \"Healing Power\",\r\n\t\tshortDesc: \"Recovers 1/3 of maximum HP when switching out.\",\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tif(!pokemon.status.includes('weak')) \r\n\t\t\t\tpokemon.heal(pokemon.baseMaxhp / 3);\r\n\t\t},\r\n\t},\r\n\thobgoblin: {\r\n\t\tname: \"Hobgoblin\",\r\n\t\tshortDesc: \"Changes appearance to match that of the last Puppet in the party. Reverts after taking a hit.\",\r\n\t\tonBeforeSwitchIn(pokemon) {\r\n\t\t\tpokemon.illusion = null;\r\n\t\t\tlet i;\r\n\t\t\tfor (i = pokemon.side.pokemon.length - 1; i > pokemon.position; i--) {\r\n\t\t\t\tif (!pokemon.side.pokemon[i]) continue;\r\n\t\t\t\tif (!pokemon.side.pokemon[i].fainted) break;\r\n\t\t\t}\r\n\t\t\tif (!pokemon.side.pokemon[i]) return;\r\n\t\t\tif (pokemon === pokemon.side.pokemon[i]) return;\r\n\t\t\tpokemon.illusion = pokemon.side.pokemon[i];\r\n\t\t},\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (target.illusion) {\r\n\t\t\t\tthis.singleEvent('End', this.dex.abilities.get('Hobgoblin'), target.abilityData, target, source, move);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tif (pokemon.illusion) {\r\n\t\t\t\tthis.debug('illusion cleared');\r\n\t\t\t\tpokemon.illusion = null;\r\n\t\t\t\tconst details = pokemon.species.name + (pokemon.level === 100 ? '' : ', L' + pokemon.level) +\r\n\t\t\t\t\t(pokemon.gender === '' ? '' : ', ' + pokemon.gender) + (pokemon.set.shiny ? ', shiny' : '');\r\n\t\t\t\tthis.add('replace', pokemon, details);\r\n\t\t\t\tthis.add('-end', pokemon, 'Hobgoblin');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFaint(pokemon) {\r\n\t\t\tpokemon.illusion = null;\r\n\t\t},\r\n\t},\r\n\thothead: {\r\n\t\tname: \"Hot Head\",\r\n\t\tshortDesc: \"FoAtk is increased after taking a critical hit.\",\r\n\t\tonHit(target, source, move) {\r\n\t\t\tif (!target.hp) return;\r\n\t\t\tif (move?.effectType === 'Move' && target.getMoveHitData(move).crit) {\r\n\t\t\t\ttarget.setBoost({atk: 6});\r\n\t\t\t\tthis.add('-setboost', target, 'atk', 12, '[from] ability: Hot Head');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\timmovable: {\r\n\t\tname: \"Immovable\",\r\n\t\tshortDesc: \"Immune to flinching.\",\r\n\t\tonTryAddVolatile(status, target, source, sourceEffect) {\r\n\t\t\tif (status.id === \"flinch\")\r\n\t\t\t\treturn false;\r\n\t\t},\r\n\t},\r\n\timposingstance: {\r\n\t\tname: \"Imposing Stance\",\r\n\t\tshortDesc: \"Damage is only received from skills.\",\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (effect.effectType !== \"Move\")\r\n\t\t\t\treturn false;\r\n\t\t},\r\n\t},\r\n\timpulsive: {\r\n\t\tname: \"Impulsive\",\r\n\t\tshortDesc: \"Skills you're immune to will increase your Speed by one stage.\",\r\n\t\tonImmunity(type, pokemon) {\r\n\t\t\tif (this.dex.types.isName(type))\r\n\t\t\t\tpokemon.boostBy({spd: 1});\r\n\t\t},\r\n\t},\r\n\tinsync: {\r\n\t\tname: \"In Sync\",\r\n\t\tshortDesc: \"When hit by an Warped-type skill, damage is nullified and any status ailment is cured.\",\r\n\t\tonTryHit(source, target, move) {\r\n\t\t\tif (target !== source && move.type === \"Warped\") {\r\n\t\t\t\tif (!source.clearStatus()) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: In Sync');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tindomitable: {\r\n\t\tname: \"Indomitable\",\r\n\t\tshortDesc: \"Cannot be OHKO'd. Will not receive critical hits either.\",\r\n\t\tonModifyCritRatioPriority: -1,\r\n\t\tonFoeModifyCritRatio(relayVar, source, target, move) {\r\n\t\t\tthis.chainModify(0);\r\n\t\t},\r\n\t\tonTryHit(source, target, move) {\r\n\t\t\tif (move.ohko) {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Indomitable');\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tinfectious: {\r\n\t\tname: \"Infectious\",\r\n\t\tshortDesc: \"Spreads Infection through attacks that are below 95 BP.\",\r\n\t\tonAfterHit(source, target, move) {\r\n\t\t\tif (move.basePower <= 95) {\r\n\t\t\t\tthis.add('-ability', source, 'Infectious');\r\n\t\t\t\ttarget.setAbility('infectious');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tinfiltration: {\r\n\t\tname: \"Infiltration\",\r\n\t\tshortDesc: \"Attacks ignore defensive fields.\",\r\n\t\tonModifyMove(move) {\r\n\t\t\tmove.infiltrates = true;\r\n\t\t},\r\n\t},\r\n\tinfinitechanges: {\r\n\t\tname: \"Infinite Changes\",\r\n\t\tshortDesc: \"Changes type to match skill immediately before use.\",\r\n\t\tonPrepareHit(source, target, move) {\r\n\t\t\tif (move.hasBounced || move.isFutureMove || move.sourceEffect === 'snatch') return;\r\n\t\t\tconst type = move.type;\r\n\t\t\tif (type && type !== '???' && source.getTypes().join() !== type) {\r\n\t\t\t\tif (!source.setType(type)) return;\r\n\t\t\t\tthis.effectState.protean = true;\r\n\t\t\t\tthis.add('-start', source, 'typechange', type, '[from] ability: Infinite Changes');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tinsight: {\r\n\t\tname: \"Insight\",\r\n\t\tshortDesc: \"Easier to score critical hits.\",\r\n\t\tonModifyCritRatio(critRatio) {\r\n\t\t\treturn critRatio + 1;\r\n\t\t},\r\n\t},\r\n\tinstantwin: {\r\n\t\tname: \"Instant Win\",\r\n\t\tshortDesc: \"Your speed is increased by 50% on the first turn after entering the field.\",\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (!pokemon.activeTurns) return this.chainModify(1.5);\r\n\t\t},\r\n\t},\r\n\tintuition: {\r\n\t\tname: \"Intuition\",\r\n\t\tshortDesc: \"Blocks increased priority skills.\",\r\n\t\tonTryHit(source, target, move) {\r\n\t\t\tif (move.priority > 0) {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Intuition');\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tinvalidate: {\r\n\t\tname: \"Invalidate\",\r\n\t\tshortDesc: \"Removes the opponent's Ability on entry.\",\r\n\t\tonSwitchIn(pokemon) {\r\n\t\t\tfor (const foe of pokemon.foes()) {\r\n\t\t\t\tfoe.addVolatile('gastroacid');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tinversereaction: {\r\n\t\tname: \"Inverse Reaction\",\r\n\t\tshortDesc: \"When hit by a Light or Dark-type skill only half the damage is taken.\",\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (effect.effectType === \"Move\" && (effect.type === \"Light\" || effect.type === \"Dark\")) {\r\n\t\t\t\tthis.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tinversetoxin: {\r\n\t\tname: \"Inverse Toxin\",\r\n\t\tshortDesc: \"When poisoned, HP is restored instead of lost. Ignores Poison Labyrinth ability.\",\r\n\t\tonDamagePriority: 1,\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (effect.id === 'psn' || effect.id === 'tox') {\r\n\t\t\t\tthis.heal(target.baseMaxhp / 8);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tinvigorative: {\r\n\t\tname: \"Invigorative\",\r\n\t\tshortDesc: \"Skills you're immune to will increase your Fo.Atk by one stage.\",\r\n\t\tonImmunity(type, pokemon) {\r\n\t\t\tif (this.dex.types.isName(type))\r\n\t\t\t\tpokemon.boostBy({atk: 1});\r\n\t\t},\r\n\t},\r\n\tironresolve: {\r\n\t\tname: \"Iron Resolve\",\r\n\t\tshortDesc: \"Cannot be forced to switch out.\",\r\n\t\tonDragOutPriority: 1,\r\n\t\tonDragOut(pokemon) {\r\n\t\t\tthis.add('-activate', pokemon, 'ability: Iron Resolve');\r\n\t\t\treturn null;\r\n\t\t},\r\n\t},\r\n\tjamming: {\r\n\t\tname: \"Jamming\",\r\n\t\tshortDesc: \"Reduces the opponent's Speed after receiving an attack of 80 or more BP.\",\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (target !== source && effect.effectType === \"Move\" && effect.basePower >= 80) {\r\n\t\t\t\tsource.boostBy({spe: -1});\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tkarmicretribution: {\r\n\t\tname: \"Karmic Retribution\", //SANS UNDERTALE?????????????\r\n\t\tshortDesc: \"Damage the opponent after receiving an attack of 90 or more BP.\",\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (target !== source && effect.effectType === \"Move\" && effect.basePower >= 90) {\r\n\t\t\t\tthis.add('-ability', target, 'Karmic Retribution');\r\n\t\t\t\tsource.damage(source.baseMaxhp/8);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tknownlimits: {\r\n\t\tname: \"Known Limits\",\r\n\t\tshortDesc: \"Gives and receives less damage from skills that don't match the user's type.\",\r\n\t\tonBasePowerPriority: 19,\r\n\t\tonBasePower(basePower, attacker, defender, move) {\r\n\t\t\tif (!attacker.types.includes(move.type)) {\r\n\t\t\t\treturn this.chainModify(2, 3);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceBasePowerPriority: 17,\r\n\t\tonSourceBasePower(basePower, attacker, defender, move) {\r\n\t\t\tif (!attacker.types.includes(move.type)) {\r\n\t\t\t\treturn this.chainModify(2, 3);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tkouteisearth: {\r\n\t\tname: \"Koutei's Earth\",\r\n\t\tshortDesc: \"Earth skills are 50% more powerful during Kohryu. Nature-skill damage is halved.\",\r\n\t\tonBasePower(relayVar, source, target, move) {\r\n\t\t\tif (target.hasAbility('ascertainment'))\r\n\t\t\t\treturn;\r\n\t\t\t\r\n\t\t\tif (move.type === 'Earths' && this.field.isTerrain('kohryu'))\r\n\t\t\t\tthis.chainModify(1.5);\r\n\t\t},\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (this.field.isTerrain('kohryu') && effect.effectType === \"Move\" && effect.type === \"Nature\")\r\n\t\t\t\tthis.chainModify(0.5);\r\n\t\t},\r\n\t},\r\n\tlastdefense: {\r\n\t\tname: \"Last Defense\",\r\n\t\tshortDesc: \"When inflicted with an ailment, FoDef is boosted by 50%.\",\r\n\t\tonModifyDef(relayVar, target, source, move) {\r\n\t\t\tif (source.status)\r\n\t\t\t\tthis.chainModify(1.5);\r\n\t\t},\r\n\t},\r\n\tlightcurtain: {\r\n\t\tname: \"Light Curtain\",\r\n\t\tshortDesc: \"During aurora, you're immune to confusion and status ailments are healed at the end of every turn.\",\r\n\t\tonResidual(target, source, effect) {\r\n\t\t\tif (this.field.isWeather('aurora')) {\r\n\t\t\t\ttarget.clearStatus();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryAddVolatile(status, target, source, sourceEffect) {\r\n\t\t\tif (this.field.isWeather('aurora') && status.id === \"confusion\")\r\n\t\t\t\treturn false;\r\n\t\t},\r\n\t},\r\n\tlucky: {\r\n\t\tname: \"Lucky\",\r\n\t\tshortDesc: \"Secondary effects of skills have double the chance of occurring.\",\r\n\t\tonModifyMovePriority: -2,\r\n\t\tonModifyMove(move) {\r\n\t\t\tif (move.secondaries) {\r\n\t\t\t\tthis.debug('doubling secondary chance');\r\n\t\t\t\tfor (const secondary of move.secondaries) {\r\n\t\t\t\t\tif (secondary.chance) secondary.chance *= 2;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (move.self?.chance) move.self.chance *= 2;\r\n\t\t},\r\n\t},\r\n\tmaintenance: {\r\n\t\tname: \"Maintenance\",\r\n\t\tshortDesc: \"30% chance to heal from ailments every turn.\",\r\n\t\tonResidual(target, source, effect) {\r\n\t\t\tif (this.randomChance(3,10)) {\r\n\t\t\t\tif (target.clearStatus()) {\r\n\t\t\t\t\tthis.add('-ability', target, 'Maintenance');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tmastersdefense: {\r\n\t\tname: \"Master's Defense\",\r\n\t\tshortDesc: \"When hit by a Fighting-type skill, damage is nullified and FoAtk is raised.\",\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Fightings') {\r\n\t\t\t\tif (!this.boost({atk: 1})) {\r\n\t\t\t\t\tthis.add('-immune', target, \"[from] ability: Master's Defense\");\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tmelancholic: {\r\n\t\tname: \"Melancholic\",\r\n\t\tshortDesc: \"The weather becomes Heavy Fog.\",\r\n\t\tonStart(target) {\r\n\t\t\tthis.field.setWeather('heavyfog');\r\n\t\t},\r\n\t},\r\n\tmetallurgy: {\r\n\t\tname: \"Metallurgy\",\r\n\t\tshortDesc: \"When hit by a Steel-type skill, damage is nullified and FoAtk is raised.\",\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Steels') {\r\n\t\t\t\tif (!this.boost({atk: 1})) {\r\n\t\t\t\t\tthis.add('-immune', target, \"[from] ability: Metallurgy\");\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tmidnightform: {\r\n\t\tname: \"Midnight Form\",\r\n\t\tshortDesc: \"Void-type skills are treated as Dark-type skills.\",\r\n\t\tonModifyTypePriority: -1,\r\n\t\tonModifyType(move, pokemon) {\r\n\t\t\tif (move.type === 'Void')  {\r\n\t\t\t\tmove.type = 'Darks';\r\n\t\t\t\tmove.typeChangerBoosted = this.effect;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBasePowerPriority: 23,\r\n\t\tonBasePower(basePower, pokemon, target, move) {\r\n\t\t\tif (move.typeChangerBoosted === this.effect) return this.chainModify(1.3);\r\n\t\t},\r\n\t},\r\n\tmindlessdance: {\r\n\t\tname: \"Mindless Dance\",\r\n\t\tshortDesc: \"2-3 turn skills have no special effects, but are 10% less powerful.\",\r\n\t\tonBasePower(relayVar, source, target, move) {\r\n\t\t\tif (move.self && move.self.volatileStatus === \"lockedmove\") {\r\n\t\t\t\tthis.chainModify(0.9);\r\n\t\t\t\tmove.self.volatileStatus = null;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tmindseye: {\r\n\t\tname: \"Mind's Eye\",\r\n\t\tshortDesc: \"When inflicted with a status FoAtk is boosted by 50%. FoAtk drop from blindness is ignored.\",\r\n\t\trating: 3.5,\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, pokemon) {\r\n\t\t\tif (pokemon.status) {\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tmiraclemallet: {\r\n\t\tname: \"Miracle Mallet\",\r\n\t\tshortDesc: \"Defense Sukuna's FoAtk and FoDef are doubled.\",\r\n\t\tonModifyAtk(relayVar, source, target, move) {\r\n\t\t\tthis.chainModify(2);\r\n\t\t},\r\n\t\tonModifyDef(relayVar, source, target, move) {\r\n\t\t\tthis.chainModify(2);\r\n\t\t},\r\n\t},\r\n\tmodeshift: {\r\n\t\tname: \"Mode Shift\",\r\n\t\tshortDesc: \"Changes Extra Rika's form when using attack skills. Reverts using Supernatural Border.\",\r\n\t\tonBeforeMove(source, target, move) {\r\n\t\t\tif (move.category !== \"Status\" && source.species.id !== 'extrarikashift') {\r\n\t\t\t\tsource.formeChange(\"Extra Rika-Shift\", this.effect);\r\n\t\t\t}\r\n\t\t\telse if (move.id === \"supernaturalborder\" && source.species.id !== 'extrarika') {\r\n\t\t\t\tsource.formeChange(\"Extra Rika\", this.effect);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tmoody: {\r\n\t\tname: \"Moody\", //yeah\r\n\t\tshortDesc: \"Every turn one random stat rises sharply and one random stat falls.\",\r\n\t\tonResidualOrder: 28,\r\n\t\tonResidualSubOrder: 2,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tlet stats: BoostID[] = [];\r\n\t\t\tconst boost: SparseBoostsTable = {};\r\n\t\t\tlet statPlus: BoostID;\r\n\t\t\tfor (statPlus in pokemon.boosts) {\r\n\t\t\t\tif (statPlus === 'accuracy' || statPlus === 'evasion') continue;\r\n\t\t\t\tif (pokemon.boosts[statPlus] < 6) {\r\n\t\t\t\t\tstats.push(statPlus);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlet randomStat: BoostID | undefined = stats.length ? this.sample(stats) : undefined;\r\n\t\t\tif (randomStat) boost[randomStat] = 2;\r\n\r\n\t\t\tstats = [];\r\n\t\t\tlet statMinus: BoostID;\r\n\t\t\tfor (statMinus in pokemon.boosts) {\r\n\t\t\t\tif (statMinus === 'accuracy' || statMinus === 'evasion') continue;\r\n\t\t\t\tif (pokemon.boosts[statMinus] > -6 && statMinus !== randomStat) {\r\n\t\t\t\t\tstats.push(statMinus);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\trandomStat = stats.length ? this.sample(stats) : undefined;\r\n\t\t\tif (randomStat) boost[randomStat] = -1;\r\n\r\n\t\t\tthis.boost(boost, pokemon, pokemon);\r\n\t\t},\r\n\t},\r\n\tmoraleboost: {\r\n\t\tname: \"Morale Boost\",\r\n\t\tshortDesc: \"When an opponent is KO'd, FoAtk is raised.\",\r\n\t\tonFoeFaint(target, source, effect) {\r\n\t\t\tthis.boost({atk: 1});\r\n\t\t},\r\n\t\tonSourceAfterFaint(length, target, source, effect) {\r\n\t\t\tif (effect && effect.effectType === 'Move') {\r\n\t\t\t\tthis.boost({atk: length}, source);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tnaturalform: {\r\n\t\tname: \"Natural Form\",\r\n\t\tshortDesc: \"Void-type skills are treated as Nature-type skills.\",\r\n\t\tonModifyTypePriority: -1,\r\n\t\tonModifyType(move, pokemon) {\r\n\t\t\tif (move.type === 'Void')  {\r\n\t\t\t\tmove.type = 'Nature';\r\n\t\t\t\tmove.typeChangerBoosted = this.effect;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBasePowerPriority: 23,\r\n\t\tonBasePower(basePower, pokemon, target, move) {\r\n\t\t\tif (move.typeChangerBoosted === this.effect) return this.chainModify(1.3);\r\n\t\t},\r\n\t},\r\n\tnegativeaura: {\r\n\t\tname: \"Negative Aura\",\r\n\t\tshortDesc: \"When hit by a Dark-type skill, damage is nullified and FoAtk is raised.\",\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Darks') {\r\n\t\t\t\tif (!this.boost({atk: 1})) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Negative Aura');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tniche: {\r\n\t\tname: \"Niche\",\r\n\t\tshortDesc: \"The power boost from same-type attacks is even higher.\",\r\n\t\tonModifyMove(move) {\r\n\t\t\tmove.stab = 2;\r\n\t\t},\r\n\t},\r\n\tnimble: {\r\n\t\tname: \"Nimble\",\r\n\t\tshortDesc: \"When a held charm is lost or consumed speed is doubled.\",\r\n\t\tonAfterUseItem(item, pokemon) {\r\n\t\t\tif (pokemon !== this.effectState.target) return;\r\n\t\t\tpokemon.addVolatile('nimble');\r\n\t\t},\r\n\t\tonTakeItem(item, pokemon) {\r\n\t\t\tpokemon.addVolatile('nimble');\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tpokemon.removeVolatile('nimble');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tonModifySpe(spe, pokemon) {\r\n\t\t\t\tif (!pokemon.item && !pokemon.ignoringAbility()) {\r\n\t\t\t\t\treturn this.chainModify(2);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tnorthernexpanse: {\r\n\t\tname: \"Northern Expanse\",\r\n\t\tshortDesc: \"During Genbu, speed is halved.\",\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (this.field.isWeather('genbu'))\r\n\t\t\t\tthis.chainModify(0.5);\r\n\t\t},\r\n\t},\r\n\tontheedge: {\r\n\t\tname: \"On the Edge\",\r\n\t\tshortDesc: \"At 1 HP, Speed is tripled and attacks do 30% more damage.\",\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (pokemon.hp === 1)\r\n\t\t\t\tthis.chainModify(3);\r\n\t\t},\r\n\t\tonBasePower(relayVar, source, target, move) {\r\n\t\t\tif (source.hp === 1)\r\n\t\t\t\tthis.chainModify(1.3);\r\n\t\t},\r\n\t},\r\n\toptimist: {\r\n\t\tname: \"Optimist\",\r\n\t\tshortDesc: \"Immune to confusion.\",\r\n\t\tonTryAddVolatile(status, target, source, sourceEffect) {\r\n\t\t\tif (status.id === \"confusion\") {\r\n\t\t\t\tthis.add('-immune', target, \"[from] ability: Optimist\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tovercompensate: {\r\n\t\tname: \"Overcompensate\",\r\n\t\tshortDesc: \"Draining skills absorb 30% more HP.\",\r\n\t},\r\n\toverwhelm: {\r\n\t\tname: \"Overwhelm\",\r\n\t\tshortDesc: \"Enemy Puppets cannot use charms.\",\r\n\t\tonPreStart(pokemon) {\r\n\t\t\tthis.add('-ability', pokemon, 'Overwhelm');\r\n\t\t\tthis.effectState.unnerved = true;\r\n\t\t},\r\n\t\tonStart(pokemon) {\r\n\t\t\tif (this.effectState.unnerved) return;\r\n\t\t\tthis.add('-ability', pokemon, 'Overwhelm');\r\n\t\t\tthis.effectState.unnerved = true;\r\n\t\t},\r\n\t\tonEnd() {\r\n\t\t\tthis.effectState.unnerved = false;\r\n\t\t},\r\n\t\tonFoeTryEatItem() {\r\n\t\t\treturn !this.effectState.unnerved;\r\n\t\t},\r\n\t\tonTryEatItem() {\r\n\t\t\treturn !this.effectState.unnerved;\r\n\t\t},\r\n\t},\r\n\tpeaceful: {\r\n\t\tname: \"Peaceful\",\r\n\t\tshortDesc: \"Can always escape from battle. Trumps other locking abilities.\",\r\n\t\tonTrapPokemonPriority: -1,\r\n\t\tonTrapPokemon(pokemon) {\r\n\t\t\tpokemon.trapped = false;\r\n\t\t},\r\n\t\tonMaybeTrapPokemon(pokemon) {\r\n\t\t\tpokemon.maybeTrapped = false;\r\n\t\t},\r\n\t},\r\n\tphalanx: {\r\n\t\tname: \"Phalanx\",\r\n\t\tshortDesc: \"Adjusts defensive stats based on the foe's offensive stats.\",\r\n\t\tonStart(pokemon) {\r\n\t\t\tlet totalatk = 0;\r\n\t\t\tlet totalspa = 0;\r\n\t\t\tfor (const target of pokemon.foes()) {\r\n\t\t\t\ttotalatk += target.getStat('atk', false, true);\r\n\t\t\t\ttotalspa += target.getStat('spa', false, true);\r\n\t\t\t}\r\n\t\t\tif (totalatk && totalatk >= totalspa) {\r\n\t\t\t\tthis.boost({def: 1});\r\n\t\t\t} else if (totalspa) {\r\n\t\t\t\tthis.boost({spd: 1});\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tphlegmatic: {\r\n\t\tname: \"Phlegmatic\",\r\n\t\tshortDesc: \"The weather becomes Calm.\",\r\n\t\tonStart(target) {\r\n\t\t\tthis.field.setWeather('calm');\r\n\t\t},\r\n\t},\r\n\tplacid: {\r\n\t\tname: \"Placid\",\r\n\t\tshortDesc: \"For 5 turns Power Yukari's SpAtk and Speed are cut in half. Ability changes to Serious, afterwards.\",\r\n\t\tonStart(pokemon) {\r\n\t\t\tpokemon.addVolatile('placid');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tduration: 5,\r\n\t\t\tonModifySpA(relayVar, source, target, move) {\r\n\t\t\t\tthis.chainModify(0.5);\r\n\t\t\t},\r\n\t\t\tonModifySpe(relayVar, source) {\r\n\t\t\t\tthis.chainModify(0.5);\r\n\t\t\t},\r\n\t\t\tonEnd(pokemon) {\r\n\t\t\t\tpokemon.setAbility('serious');\r\n\t\t\t},\r\n\t\t}\r\n\t},\r\n\tpoisonbody: {\r\n\t\tname: \"Poison Body\",\r\n\t\tshortDesc: \"After an attack, the opponent has a 30% chance to become poisoned.\",\r\n\t\tonModifyMove(move) {\r\n\t\t\tif (!move || move.target === 'self') return;\r\n\t\t\tif (!move.secondaries) {\r\n\t\t\t\tmove.secondaries = [];\r\n\t\t\t}\r\n\t\t\tmove.secondaries.push({\r\n\t\t\t\tchance: 30,\r\n\t\t\t\tstatus: 'psn',\r\n\t\t\t\tability: this.dex.abilities.get('poisonbody'),\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n\tpoisonlabyrinth: {\r\n\t\tname: \"Poison Labyrinth\",\r\n\t\tshortDesc: \"Only Poison-type opponents can flee.\",\r\n\t\tonFoeTrapPokemon(pokemon) {\r\n\t\t\tif (!pokemon.hasType('Poisons') && !pokemon.hasAbility(['inversetoxin', 'strictdosage']))\r\n\t\t\t\tpokemon.tryTrap(true);\r\n\t\t},\r\n\t\tonFoeMaybeTrapPokemon(pokemon, source?) {\r\n\t\t\tif (!pokemon.hasType('Poisons') && !pokemon.hasAbility(['inversetoxin', 'strictdosage']))\r\n\t\t\t\tpokemon.maybeTrapped = true;\r\n\t\t},\r\n\t},\r\n\tpoisonthorns: {\r\n\t\tname: \"Poison Thorns\",\r\n\t\tshortDesc: \"Opponent has 30% chance to become poisoned from any attack.\",\r\n\t\tonFoeDamagingHit(damage, target, source, move) {\r\n\t\t\tif (this.randomChance(3, 10)) {\r\n\t\t\t\ttarget.trySetStatus('psn', source);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tpokerface: {\r\n\t\tname: \"Poker Face\",\r\n\t\tshortDesc: \"Ignores the secondary skill effects from attackers.\",\r\n\t\tonFoeModifySecondaries(secondaries, target, source, move) {\r\n\t\t\treturn null;\r\n\t\t},\r\n\t},\r\n\tpositive: {\r\n\t\tname: \"Positive\",\r\n\t\tshortDesc: \"When a stat is decreased SpAtk is raised sharply.\",\r\n\t\tonAfterEachBoost(boost, target, source, effect) {\r\n\t\t\tif (!source || target.isAlly(source)) {\r\n\t\t\t\tif (effect.id === 'stickyweb') {\r\n\t\t\t\t\tthis.hint(\"Court Change Sticky Web counts as lowering your own Speed, and Competitive only affects stats lowered by foes.\", true, source.side);\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet statsLowered = false;\r\n\t\t\tlet i: BoostID;\r\n\t\t\tfor (i in boost) {\r\n\t\t\t\tif (boost[i]! < 0) {\r\n\t\t\t\t\tstatsLowered = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (statsLowered) {\r\n\t\t\t\tthis.boost({spa: 2}, target, target, null, false, true);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tpreciseaim: {\r\n\t\tname: \"Precise Aim\",\r\n\t\tshortDesc: \"Accuracy cannot be lowered. Ignores the foe's Evasion modifiers. Never-miss attacks are 50% stronger.\",\r\n\t\tonBasePower(relayVar, source, target, move) {\r\n\t\t\tif (move.accuracy === true) {\r\n\t\t\t\tthis.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBoost(boost, target, source, effect) {\r\n\t\t\tif (source && target === source) return;\r\n\t\t\tif (boost.accuracy && boost.accuracy < 0) {\r\n\t\t\t\tdelete boost.accuracy;\r\n\t\t\t\tif (!(effect as ActiveMove).secondaries) {\r\n\t\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"accuracy\", \"[from] ability: Precise Aim\", \"[of] \" + target);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyMove(move) {\r\n\t\t\tmove.ignoreEvasion = true;\r\n\t\t},\r\n\t},\r\n\tpride: {\r\n\t\tname: \"Pride\",\r\n\t\tshortDesc: \"When inflicted with an ailment, SpAtk is boosted 50%. SpAtk drop from Fear is ignored.\",\r\n\t\tonModifySpA(relayVar, source, target, move) {\r\n\t\t\tif (source.status) {\r\n\t\t\t\tthis.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tprojection: {\r\n\t\tname: \"Projection\",\r\n\t\tshortDesc: \"Copies your opponent's ability during battle.\",\r\n\t\tonStart(pokemon) {\r\n\t\t\t// n.b. only affects Hackmons\r\n\t\t\t// interaction with No Ability is complicated: https://www.smogon.com/forums/threads/pokemon-sun-moon-battle-mechanics-research.3586701/page-76#post-7790209\r\n\t\t\tif (pokemon.side.foe.active.some(foeActive => foeActive.ability === 'noability')) {\r\n\t\t\t\tthis.effectState.gaveUp = true;\r\n\t\t\t}\r\n\t\t\t// interaction with Ability Shield is similar to No Ability\r\n\t\t\tif (pokemon.hasItem('Ability Shield')) {\r\n\t\t\t\tthis.add('-block', pokemon, 'item: Ability Shield');\r\n\t\t\t\tthis.effectState.gaveUp = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (!pokemon.isStarted || this.effectState.gaveUp) return;\r\n\r\n\t\t\tconst additionalBannedAbilities = [\r\n\t\t\t\t// Zen Mode included here for compatability with Gen 5-6\r\n\t\t\t\t'noability', 'flowergift', 'forecast', 'hungerswitch', 'illusion', 'imposter', 'neutralizinggas', 'powerofalchemy', 'receiver', 'trace', 'zenmode',\r\n\t\t\t];\r\n\t\t\tconst possibleTargets = pokemon.side.foe.active.filter(target => (\r\n\t\t\t\t!target.getAbility().isPermanent && !additionalBannedAbilities.includes(target.ability)\r\n\t\t\t));\r\n\t\t\tif (!possibleTargets.length) return;\r\n\r\n\t\t\tconst target = this.sample(possibleTargets);\r\n\t\t\tconst ability = target.getAbility();\r\n\t\t\tif (pokemon.setAbility(ability)) {\r\n\t\t\t\tthis.add('-ability', pokemon, ability, '[from] ability: Projection', '[of] ' + target);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tquickeye: {\r\n\t\tname: \"Quick Eye\",\r\n\t\tshortDesc: \"Allows you to see the held item and ability of the opponent.\",\r\n\t\tonStart(pokemon) {\r\n\t\t\tfor (const target of pokemon.foes()) {\r\n\t\t\t\tif (target.item) {\r\n\t\t\t\t\tthis.add('-item', target, target.getItem().name, '[from] ability: Quick Eye', '[of] ' + pokemon, '[identify]');\r\n\t\t\t\t\tthis.add('-ability', target, target.getAbility().name, '[from] ability: Quick Eye', '[of] ' + pokemon, '[identify]');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\trecalibration: {\r\n\t\tname: \"Recalibration\",\r\n\t\tshortDesc: \"During calm, SpAtk and SpDef are boosted by 50%.\",\r\n\t\tonModifySpA(relayVar, source, target, move) {\r\n\t\t\tif (this.field.isWeather('calm'))\r\n\t\t\t\tthis.chainModify(1.5);\r\n\t\t},\r\n\t\tonModifySpD(relayVar, source, target, move) {\r\n\t\t\tif (this.field.isWeather('calm'))\r\n\t\t\t\tthis.chainModify(1.5);\r\n\t\t},\r\n\t},\r\n\treckless: {\r\n\t\tname: \"Reckless\",\r\n\t\tshortDesc: \"Damage dealt and recoil received by a recoil move is boosted by 20%.\",\r\n\t\tonBasePower(relayVar, source, target, move) {\r\n\t\t\tif (move.recoil)\r\n\t\t\t\tthis.chainModify(1.2);\r\n\t\t},\r\n\t},\r\n\trecoiloffset: {\r\n\t\tname: \"Recoil Offset\",\r\n\t\tshortDesc: \"Does not receive recoil damage.\",\r\n\t\tonModifyMove(move, pokemon, target) {\r\n\t\t\tif (move.recoil)\r\n\t\t\t\tdelete move.recoil;\r\n\t\t},\r\n\t},\r\n\treflectguard: {\r\n\t\tname: \"Reflect Guard\",\r\n\t\tshortDesc: \"Damages the attacker when hit with a EN skill.\",\r\n\t\tonDamagingHitOrder: 2,\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (!move.flags.contact) {\r\n\t\t\t\tthis.damage(source.baseMaxhp / 8, source, target);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tresonance: {\r\n\t\tname: \"Resonance\",\r\n\t\tshortDesc: \"Status ailments are reflected onto opponents when inflicted.\",\r\n\t\tonAfterSetStatus(status, target, source, effect) {\r\n\t\t\tif (!source || source === target) return;\r\n\t\t\tif (effect && effect.id === 'toxicspikes') return;\r\n\t\t\tthis.add('-activate', target, 'ability: Resonance');\r\n\t\t\tsource.setStatus(status, target);\r\n\t\t},\r\n\t},\r\n\trestraint: {\r\n\t\tname: \"Restraint\",\r\n\t\tshortDesc: \"If the foe uses a switch-out skill, they are unable to switch for 2 turns.\",\r\n\t\tonAnyModifyMove(move, pokemon) {\r\n\t\t\tif (pokemon.side === this.effectState.target.side) return;\r\n\t\t\tif (move.selfSwitch && !move.ignoreAbility) {\r\n\t\t\t\tdelete move.selfSwitch;\r\n\t\t\t\tthis.add('-message', `${pokemon.name} was restrained by ${this.effectState.target.name}!`);\r\n\t\t\t\tthis.add('-message', `${pokemon.name} is competely restricted!`);\r\n\t\t\t\tpokemon.addVolatile('restraint');\r\n\t\t\t}\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tduration: 2,\r\n\t\t\tnoCopy: true,\r\n\t\t\tonTrapPokemon(pokemon) {\r\n\t\t\t\tpokemon.tryTrap();\r\n\t\t\t},\r\n\t\t\tonStart(target) {\r\n\t\t\t\tthis.add('-activate', target, 'restraint', '[silent]');\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\treversefunction: {\r\n\t\tname: \"Reverse Function\",\r\n\t\tshortDesc: \"Opponent's stat changes are reversed.\",\r\n\t\tonFoeBoost(boost, target, source, effect) {\r\n\t\t\tlet i: BoostID;\r\n\t\t\tfor (i in boost) {\r\n\t\t\t\tboost[i]! *= -1;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tsalvo: {\r\n\t\tname: \"Salvo\",\r\n\t\tshortDesc: \"Multi-Hit attacks always hit the maximum amount of times.\",\r\n\t\tonModifyMove(move) {\r\n\t\t\tif (move.multihit && Array.isArray(move.multihit) && move.multihit.length) {\r\n\t\t\t\tmove.multihit = move.multihit[1];\r\n\t\t\t}\r\n\t\t\tif (move.multiaccuracy) {\r\n\t\t\t\tdelete move.multiaccuracy;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tsanddevil: {\r\n\t\tname: \"Sand Devil\",\r\n\t\tshortDesc: \"During dust storm, Speed is doubled. No sand damage is received.\",\r\n\t\tonImmunity(type, pokemon) {\r\n\t\t\tif (type === \"duststorm\")\r\n\t\t\t\treturn false;\r\n\t\t},\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (this.field.isWeather('duststorm')) {\r\n\t\t\t\tthis.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tsandforce: {\r\n\t\tname: \"Sand Force\",\r\n\t\tshortDesc: \"During dust storm, Fo.Atk is boosted by 30%. No sand damage is received\",\r\n\t\tonImmunity(type, pokemon) {\r\n\t\t\tif (type === \"duststorm\")\r\n\t\t\t\treturn false;\r\n\t\t},\r\n\t\tonModifyAtk(atk, pokemon) {\r\n\t\t\tif (this.field.isWeather('duststorm')) {\r\n\t\t\t\tthis.chainModify(1.3);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tsandmask: {\r\n\t\tname: \"Sand Mask\",\r\n\t\tshortDesc: \"During dust storm, Evasion is increased. No sand damage is received..\",\r\n\t\tonImmunity(type, pokemon) {\r\n\t\t\tif (type === \"duststorm\")\r\n\t\t\t\treturn false;\r\n\t\t},\r\n\t\tonModifyAccuracyPriority: -1,\r\n\t\tonModifyAccuracy(accuracy) {\r\n\t\t\tif (typeof accuracy !== 'number') return;\r\n\t\t\tif (this.field.isWeather('duststorm')) {\r\n\t\t\t\tthis.debug('Sand Mask - decreasing accuracy');\r\n\t\t\t\treturn this.chainModify([4, 5]);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tsanguine: {\r\n\t\tname: \"Sanguine\",\r\n\t\tshortDesc: \"The weather becomes Aurora.\",\r\n\t\tonStart(target) {\r\n\t\t\tthis.field.setWeather('aurora');\r\n\t\t},\r\n\t},\r\n\tsecretceremony: {\r\n\t\tname: \"Secret Ceremony\",\r\n\t\tshortDesc: \"[Semi-functional placeholder] Changes type based on terrain and weather.\",\r\n\t\tonStart(pokemon) {\r\n\t\t\tif (this.field.terrain) {\r\n\t\t\t\tpokemon.addVolatile('secretceremony');\r\n\t\t\t} else {\r\n\t\t\t\tconst types = pokemon.baseSpecies.types;\r\n\t\t\t\tif (pokemon.getTypes().join() === types.join() || !pokemon.setType(types)) return;\r\n\t\t\t\tthis.add('-start', pokemon, 'typechange', types.join('/'), '[from] ability: Secret Ceremony');\r\n\t\t\t\tthis.hint(\"Transform Secret Ceremony changes you to your original un-transformed types.\");\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyTerrainStart() {\r\n\t\t\tconst pokemon = this.effectState.target;\r\n\t\t\tdelete pokemon.volatiles['secretceremony'];\r\n\t\t\tpokemon.addVolatile('secretceremony');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tonStart(pokemon) {\r\n\t\t\t\tlet weatherType = null;\r\n\t\t\t\tlet terrainType = null;\r\n\t\t\t\tswitch (pokemon.effectiveWeather()) {\r\n\t\t\t\t\tcase 'aurora':\r\n\t\t\t\t\t\tweatherType = 'Lights';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'calm':\r\n\t\t\t\t\t\tweatherType = 'Wind';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'duststorm':\r\n\t\t\t\t\t\tweatherType = 'Earths';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'heavyfog':\r\n\t\t\t\t\t\tweatherType = 'Darks';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'sunshower':\r\n\t\t\t\t\t\tweatherType = 'Warped';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tswitch (this.field.terrain) {\r\n\t\t\t\t\tcase 'byakko':\r\n\t\t\t\t\t\tterrainType = 'Steels';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'genbu':\r\n\t\t\t\t\t\tterrainType = 'Waters';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'kohryu':\r\n\t\t\t\t\t\tterrainType = 'Earths';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'seiryu':\r\n\t\t\t\t\t\tterrainType = 'Nature';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'suzaku':\r\n\t\t\t\t\t\tterrainType = 'Fires';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tlet newTypes:string[] = [];\r\n\t\t\t\tif(terrainType) newTypes.push(terrainType);\r\n\t\t\t\tif (!newTypes.length || pokemon.getTypes().join() === newTypes || !pokemon.setType(newTypes)) return;\r\n\t\t\t\tif (newTypes.length > 1 && newTypes[1] === newTypes[0]) newTypes.pop(); //Ensure monotype during Dust Storm + Kohryu\r\n\t\t\t\tthis.add('-start', pokemon, 'typechange', newTypes, '[from] ability: Secret Ceremony');\r\n\t\t\t},\r\n\t\t\tonUpdate(pokemon) {\r\n\t\t\t\tif (!this.field.terrain) {\r\n\t\t\t\t\tconst types = pokemon.species.types;\r\n\t\t\t\t\tif (pokemon.getTypes().join() === types.join() || !pokemon.setType(types)) return;\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Secret Ceremony');\r\n\t\t\t\t\tthis.add('-end', pokemon, 'typechange', '[silent]');\r\n\t\t\t\t\tpokemon.removeVolatile('secretceremony');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tseiteiswood: {\r\n\t\tname: \"Seitei's Wood\",\r\n\t\tshortDesc: \"Nature skills are 50% more powerful during Seiryu. Steel-skill damage is halved.\",\r\n\t\tonBasePower(relayVar, source, target, move) {\r\n\t\t\tif (target.hasAbility('ascertainment') || this.field.isTerrain('kohryu'))\r\n\t\t\t\treturn;\r\n\t\t\t\r\n\t\t\tif (move.type === 'Nature' && this.field.isTerrain('seiryu'))\r\n\t\t\t\tthis.chainModify(1.5);\r\n\t\t},\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (this.field.isTerrain('seiryu') && effect.effectType === \"Move\" && effect.type === \"Steel\")\r\n\t\t\t\tthis.chainModify(0.5);\r\n\t\t},\r\n\t},\r\n\tselfexorcism: {\r\n\t\tname: \"Self Exorcism\",\r\n\t\tshortDesc: \"When hit by a Nether-type skill FoAtk is raised.\",\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Nether') {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Self Exorcism');\r\n\t\t\t\tthis.boost({atk: 1});\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tserious: {\r\n\t\tname: \"Serious\",\r\n\t\tshortDesc: \"Power Yukari's SpAtk and Speed increase one stage every turn.\",\r\n\t\tonResidual(target, source, effect) {\r\n\t\t\tthis.boost({spa: 1, spe: 1});\r\n\t\t},\r\n\t},\r\n\tsermon: {\r\n\t\tname: \"Sermon\",\r\n\t\tshortDesc: \"Opponent has a 30% chance to become weakened from any attack.\",\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (this.randomChance(3, 10)) {\r\n\t\t\t\tsource.trySetStatus('weak', target);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tshadowstitch: {\r\n\t\tname: \"Shadow Stitch\",\r\n\t\tshortDesc: \"The opponent cannot flee or swap Puppets.\",\r\n\t\tonFoeTrapPokemon(pokemon) {\r\n\t\t\tif (!pokemon.isAdjacent(this.effectState.target)) return;\r\n\t\t\tpokemon.tryTrap(true);\r\n\t\t},\r\n\t\tonFoeMaybeTrapPokemon(pokemon, source) {\r\n\t\t\tif (!source) source = this.effectState.target;\r\n\t\t\tif (!source || !pokemon.isAdjacent(source)) return;\r\n\t\t\t\r\n\t\t\tpokemon.maybeTrapped = true;\r\n\t\t},\r\n\t},\r\n\tsilentrunning: {\r\n\t\tname: \"Silent Running\",\r\n\t\tshortDesc: \"During Calm, Speed is doubled.\",\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (this.field.isWeather('calm'))\r\n\t\t\t\tthis.chainModify(2);\r\n\t\t},\r\n\t},\r\n\tsixthsense: {\r\n\t\tname: \"Sixth Sense\",\r\n\t\tshortDesc: \"Notifies you of barrier-penetrating skills your foe knows.\",\r\n\t\tonStart(target) {\r\n\t\t\tfor (const foe of target.foes()) {\r\n\t\t\t\tfor (const move of foe.moves) {\r\n\t\t\t\t\tif (this.dex.getEffectiveness(this.dex.moves.get(move), target) > 0) {\r\n\t\t\t\t\t\tthis.add('-activate', foe, 'ability: Sixth Sense', this.dex.moves.get(move).name, '[of] ' + target, '[identify]');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tskilledhand: {\r\n\t\tname: \"Skilled Hand\",\r\n\t\tshortDesc: \"Ignores the resistances of enemy barriers.\",\r\n\t\tonModifyDamage(damage, source, target, move) {\r\n\t\t\tif (target.getMoveHitData(move).typeMod < 0) {\r\n\t\t\t\tthis.debug('Skilled Hand boost');\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tslowtempo: {\r\n\t\tname: \"Slow Tempo\",\r\n\t\tshortDesc: \"Always attacks second but receive 10% less damage.\",\r\n\t\tonFractionalPriority: -0.1,\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tthis.chainModify(0.9);\r\n\t\t},\r\n\t},\r\n\tsmoothsailing: {\r\n\t\tname: \"Smooth Sailing\",\r\n\t\tshortDesc: \"When hit by a Wind-type skill, damage is nullified and Speed is raised.\",\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Wind') {\r\n\t\t\t\tif (!this.boost({spe: 1})) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Smooth Sailing');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tsniper: {\r\n\t\tname: \"Sniper\",\r\n\t\tshortDesc: \"Boosts the strength of critical hits.\",\r\n\t\tonModifyDamage(damage, source, target, move) {\r\n\t\t\tif (target.getMoveHitData(move).crit) {\r\n\t\t\t\tthis.debug('Sniper boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tsomeguts: {\r\n\t\tname: \"Some Guts\",\r\n\t\tshortDesc: \"Damage the opponent after receiving an attack of 90 or more BP.\",\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (target !== source && effect.effectType === \"Move\" && effect.basePower >= 90) {\r\n\t\t\t\tsource.damage(source.baseMaxhp/8);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tsoreloser: {\r\n\t\tname: \"Sore Loser\",\r\n\t\tshortDesc: \"When a stat is decreased FoAtk is raised sharply.\",\r\n\t\tonAfterEachBoost(boost, target, source, effect) {\r\n\t\t\tif (!source || target.isAlly(source)) {\r\n\t\t\t\tif (effect.id === 'stickyweb') {\r\n\t\t\t\t\tthis.hint(\"Court Change Sticky Web counts as lowering your own Speed, and Competitive only affects stats lowered by foes.\", true, source.side);\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet statsLowered = false;\r\n\t\t\tlet i: BoostID;\r\n\t\t\tfor (i in boost) {\r\n\t\t\t\tif (boost[i]! < 0) {\r\n\t\t\t\t\tstatsLowered = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (statsLowered) {\r\n\t\t\t\tthis.boost({atk: 2}, target, target, null, false, true);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tsoundabsorb: {\r\n\t\tname: \"Sound Absorb\",\r\n\t\tshortDesc: \"When hit by a Sound-type skill, damage is nullified, FoAtk is raised, and SpAtk is raised.\",\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Sounds') {\r\n\t\t\t\tif (!this.boost({atk: 1, spa: 1})) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Sound Absorb');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tsouthernexpanse: {\r\n\t\tname: \"Southern Expanse\",\r\n\t\tshortDesc: \"During Suzaku, your HP will recover a little bit each turn, ignoring Suzaku's effect.\",\r\n\t\tonResidual(target, source, effect) {\r\n\t\t\tif (this.field.isTerrain('suzaku')) {\r\n\t\t\t\tthis.heal(target.baseMaxhp / 16);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tspiritofyang: {\r\n\t\tname: \"Spirit of Yang\",\r\n\t\tshortDesc: \"When hit by an Electric, Light, or Illusion-type skill, Speed is raised.\",\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tconst affectedTypes = ['Electrics', 'Lights', 'Illusion'];\r\n\t\t\tif (target !== source && affectedTypes.includes(move.type)) {\r\n\t\t\t\tthis.chainModify(0.8);\r\n\t\t\t\tthis.boost({spe: 1});\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tspiritofyin: {\r\n\t\tname: \"Spirit of Yin\",\r\n\t\tshortDesc: \"When hit by a Dark, Nether, or Poison-type skill, Speed is raised.\",\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tconst affectedTypes = ['Darks', 'Nether', 'Poisons'];\r\n\t\t\tif (target !== source && affectedTypes.includes(move.type)) {\r\n\t\t\t\tthis.chainModify(0.8);\r\n\t\t\t\tthis.boost({spe: 1});\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tstargazer: {\r\n\t\tname: \"Stargazer\",\r\n\t\tshortDesc: \"Weather skills last forever.\",\r\n\t\t//effect in conditions.ts\r\n\t},\r\n\tstimulative: {\r\n\t\tname: \"Stimulative\",\r\n\t\tshortDesc: \"Skills you're immune to will increase your Sp.Atk by one stage.\",\r\n\t\tonImmunity(type, pokemon) {\r\n\t\t\tif (this.dex.types.isName(type))\r\n\t\t\t\tthis.boost({spa: 1});\r\n\t\t},\r\n\t},\r\n\tstonestacker: {\r\n\t\tname: \"Stone Stacker\",\r\n\t\tshortDesc: \"Status skills activate twice.\",\r\n\t\tonModifyMove(move, pokemon, target) {\r\n\t\t\tif (move.category === \"Status\") {\r\n\t\t\t\tif (move.multiaccuracy)\r\n\t\t\t\t\tdelete move.multiaccuracy;\r\n\t\t\t\tmove.multihit = 2;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tstrangerainbow: {\r\n\t\tname: \"Strange Rainbow\",\r\n\t\tshortDesc: \"Boosts FoAtk by 30% during Sunshower.\",\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, pokemon) {\r\n\t\t\tif (this.field.isWeather(['sunshower'])) {\r\n\t\t\t\treturn this.chainModify(1.3);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tstrategist: {\r\n\t\tname: \"Strategist\",\r\n\t\tshortDesc: \"Attacks with a base power of 60 or below are boosted by 50%.\",\r\n\t\tonBasePower(relayVar, source, target, move) {\r\n\t\t\tif (move.basePower <= 60)\r\n\t\t\t\tthis.chainModify(1.5);\r\n\t\t},\r\n\t},\r\n\tstreamform: {\r\n\t\tname: \"Stream Form\",\r\n\t\tshortDesc: \"Void-type skills are treated as Water-type skills.\",\r\n\t\tonModifyTypePriority: -1,\r\n\t\tonModifyType(move, pokemon) {\r\n\t\t\tif (move.type === 'Void')  {\r\n\t\t\t\tmove.type = 'Waters';\r\n\t\t\t\tmove.typeChangerBoosted = this.effect;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBasePowerPriority: 23,\r\n\t\tonBasePower(basePower, pokemon, target, move) {\r\n\t\t\tif (move.typeChangerBoosted === this.effect) return this.chainModify(1.3);\r\n\t\t},\r\n\t},\r\n\tstrictdosage: {\r\n\t\tname: \"Strict Dosage\",\r\n\t\tshortDesc: \"When hit by a Poison-type skill, HP is restored. Ignores poison trap. Ignores Poison Labyrinth ability.\",\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Poisons') {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Strict Dosage');\r\n\t\t\t\tthis.heal(target.baseMaxhp / 4);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tstrongsmile: {\r\n\t\tname: \"Strong Smile\",\r\n\t\tshortDesc: \"Opponent has a 30% chance to become afraid from their spread attacks.\",\r\n\t\tonFoeDamagingHit(damage, target, source, move) {\r\n\t\t\tif (this.randomChance(3, 10)) {\r\n\t\t\t\ttarget.trySetStatus('fear', source);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tstubborn: {\r\n\t\tname: \"Stubborn\", //TODO - what are the \"certain skills\" prevented\r\n\t\tshortDesc: \"Cannot be OHKO'd. Neither of you can use certain skills either.\",\r\n\t\tonTryHit(pokemon, target, move) {\r\n\t\t\tif (move.ohko) {\r\n\t\t\t\tthis.add('-immune', pokemon, '[from] ability: Stubborn');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonDamagePriority: -30,\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (target.hp === target.maxhp && damage >= target.hp && effect && effect.effectType === 'Move') {\r\n\t\t\t\tthis.add('-ability', target, 'Stubborn');\r\n\t\t\t\treturn target.hp - 1;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tsupine: {\r\n\t\tname: \"Supine\",\r\n\t\tshortDesc: \"The weather becomes Sun Shower.\",\r\n\t\tonStart(target) {\r\n\t\t\tthis.field.setWeather('sunshower');\r\n\t\t},\r\n\t},\r\n\tsuppression: {\r\n\t\tname: \"Suppression\",\r\n\t\tshortDesc: \"When hit by an enemy skill there is a 30% chance to seal it.\",\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (source.volatiles['disable']) return;\r\n\t\t\tif (!move.isMax && !move.isFutureMove && move.id !== 'struggle') {\r\n\t\t\t\tif (this.randomChance(3, 10)) {\r\n\t\t\t\t\tsource.addVolatile('disable', this.effectState.target);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tsurprisetactics: {\r\n\t\tname: \"Surprise Tactics\",\r\n\t\tshortDesc: \"During heavy fog, SpAtk is boosted by 50%. Damage is received at the end of the turn.\",\r\n\t\tonModifySpA(relayVar, source, target, move) {\r\n\t\t\tif (this.field.isWeather('heavyfog')) {\r\n\t\t\t\tthis.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAfterMoveSecondary(target, source, move) {\r\n\t\t\tif (this.field.isWeather('heavyfog')) {\r\n\t\t\t\tsource.damage(source.baseMaxhp/8);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tsuteisfire: {\r\n\t\tname: \"Sutei's Fire\",\r\n\t\tshortDesc: \"Fire skills are 50% more powerful during Suzaku. Water-skill damage is halved.\",\r\n\t\tonBasePower(relayVar, source, target, move) {\r\n\t\t\tif (target.hasAbility('ascertainment') || this.field.isTerrain('kohryu'))\r\n\t\t\t\treturn;\r\n\t\t\t\r\n\t\t\tif (move.type === 'Fires' && this.field.isTerrain('suzaku'))\r\n\t\t\t\tthis.chainModify(1.5);\r\n\t\t},\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (this.field.isTerrain('suzaku') && effect.effectType === \"Move\" && effect.type === \"Water\")\r\n\t\t\t\tthis.chainModify(0.5);\r\n\t\t},\r\n\t},\r\n\ttelescopic: {\r\n\t\tname: \"Telescopic\",\r\n\t\tshortDesc: \"Accuracy is boosted by 30%.\",\r\n\t\tonModifyAccuracy(relayVar, target, source, move) {\r\n\t\t\tthis.chainModify(1.3);\r\n\t\t},\r\n\t},\r\n\tthreebodies: {\r\n\t\tname: \"Three Bodies\",\r\n\t\tshortDesc: \"Extra Hecatia's Form changes based on the class of skills used.\",\r\n\t\tonBeforeMove(source, target, move) {\r\n\t\t\tswitch (move.category) {\r\n\t\t\t\tcase \"Status\":\r\n\t\t\t\t\tif (source.species.id !== \"extrahecatia\") {\r\n\t\t\t\t\t\tthis.add('-activate', source, 'ability: Three Bodies');\r\n\t\t\t\t\t\tsource.formeChange(\"Extra Hecatia\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Physical\":\r\n\t\t\t\t\tif (source.species.id !== \"extrahecatiaearth\") {\r\n\t\t\t\t\t\tthis.add('-activate', source, 'ability: Three Bodies');\r\n\t\t\t\t\t\tsource.formeChange(\"Extra Hecatia-Earth\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Special\":\r\n\t\t\t\t\tif (source.species.id !== \"extrahecatiamoon\") {\r\n\t\t\t\t\t\tthis.add('-activate', source, 'ability: Three Bodies');\r\n\t\t\t\t\t\tsource.formeChange(\"Extra Hecatia-Moon\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\ttimegazer: {\r\n\t\tname: \"Timegazer\",\r\n\t\tshortDesc: \"Terrain skills last 8 turns.\",\r\n\t\t//Implemented in conditions.ts for each terrain condition\r\n\t},\r\n\ttrueadmin: {\r\n\t\tname: \"True Admin\",\r\n\t\tshortDesc: \"When HP is less than half FoAtk and SpAtk are halved.\",\r\n\t\tonModifyAtk(relayVar, pokemon) {\r\n\t\t\tif (pokemon.hp <= pokemon.baseMaxhp / 2) {\r\n\t\t\t\tthis.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpA(relayVar, pokemon) {\r\n\t\t\tif (pokemon.hp <= pokemon.baseMaxhp / 2) {\r\n\t\t\t\tthis.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\ttwoofakind: {\r\n\t\tname: \"Two of a Kind\",\r\n\t\tshortDesc: \"The power of skills go down by 40%, but you will do an additional attack.\",\r\n\t\tonBasePowerPriority: 7,\r\n\t\tonBasePower(basePower, pokemon, target, move) {\r\n\t\t\tif(!this.field.isTerrain(\"kohryu\")) return this.chainModify(0.6);\r\n\t\t},\r\n\t\tonPrepareHit(source, target, move) {\r\n\t\t\tif (move.category === 'Status' || move.selfdestruct) return;\r\n\t\t\tif (['dynamaxcannon', 'endeavor', 'fling', 'iceball', 'rollout'].includes(move.id)) return;\r\n\t\t\tif (!move.flags['charge'] && !move.spreadHit && !move.isZ && !move.isMax) {\r\n\t\t\t\tif (move.multihit) { //Unline Parental Bond, Two of a Kind adds an additional hit to multihits\r\n\t\t\t\t\tif (typeof move.multihit !== 'number') {\r\n\t\t\t\t\t\tfor (let i = 0; i < move.multihit.length; i++) {\r\n\t\t\t\t\t\t\tmove.multihit[i]++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tmove.multihit++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tmove.multihit = 2;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceModifySecondaries(secondaries, target, source, move) {\r\n\t\t\tif (move.multihitType === 'twoofakind' && move.hit < 2) {\r\n\t\t\t\tif (move.recoil)\r\n\t\t\t\t\tdelete move.recoil;\r\n\t\t\t\tif (move.secondaries)\r\n\t\t\t\t\tdelete move.secondaries;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tunbound: {\r\n\t\tname: \"Unbound\",\r\n\t\tshortDesc: \"Attacks ignore the foe's ability.\",\r\n\t\tonModifyMove(move) {\r\n\t\t\tmove.ignoreAbility = true;\r\n\t\t},\r\n\t},\r\n\tuniqueshield: {\r\n\t\tname: \"Unique Shield\",\r\n\t\tshortDesc: \"Only receive half damage from Focus Attacks.\",\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (effect.effectType === \"Move\" && effect.category === \"Physical\") {\r\n\t\t\t\tthis.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tunjustness: {\r\n\t\tname: \"Unjustness\",\r\n\t\tshortDesc: \"The enemy's SP consumption is increased by +1.\",\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.add('-ability', pokemon, 'Unjustness');\r\n\t\t},\r\n\t\tonDeductPP(target, source) {\r\n\t\t\tif (target.isAlly(source)) return;\r\n\t\t\treturn 1;\r\n\t\t},\r\n\t},\r\n\tunwaveringheart: {\r\n\t\tname: \"Unwavering Heart\",\r\n\t\tshortDesc: \"When hit by an Illusion-type skill, damage is nullified and any status ailment is cured.\",\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Illusion') {\r\n\t\t\t\tif(!target.clearStatus()){\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Unwavering Heart');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tunyieldingform: {\r\n\t\tname: \"Unyielding Form\",\r\n\t\tshortDesc: \"Void-type skills are treated as Steel-type skills.\",\r\n\t\tonModifyTypePriority: -1,\r\n\t\tonModifyType(move, pokemon) {\r\n\t\t\tif (move.type === 'Void')  {\r\n\t\t\t\tmove.type = 'Steels';\r\n\t\t\t\tmove.typeChangerBoosted = this.effect;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBasePowerPriority: 23,\r\n\t\tonBasePower(basePower, pokemon, target, move) {\r\n\t\t\tif (move.typeChangerBoosted === this.effect) return this.chainModify(1.3);\r\n\t\t},\r\n\t},\r\n\tuptempo: {\r\n\t\tname: \"Up Tempo\",\r\n\t\tshortDesc: \"Speed increases every turn.\",\r\n\t\tonResidualOrder: 28,\r\n\t\tonResidualSubOrder: 2,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif (pokemon.activeTurns) {\r\n\t\t\t\tthis.boost({spe: 1});\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tusurpation: {\r\n\t\tname: \"Usurpation\",\r\n\t\tshortDesc: \"Inverts the stat changes.\",\r\n\t\tonChangeBoost(boost, target, source, effect) {\r\n\t\t\tlet i: BoostID;\r\n\t\t\tfor (i in boost) {\r\n\t\t\t\tboost[i]! *= -1;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t},\r\n\tvanishingact: {\r\n\t\tname: \"Vanishing Act\",\r\n\t\tshortDesc: \"During heavy fog, evasion is increased.\",\r\n\t\tonModifyAccuracyPriority: -1,\r\n\t\tonModifyAccuracy(accuracy) {\r\n\t\t\tif (typeof accuracy !== 'number') return;\r\n\t\t\tif (this.field.isWeather(['heavyfog'])) {\r\n\t\t\t\tthis.debug('Vanishing Act - decreasing accuracy');\r\n\t\t\t\treturn this.chainModify(0.8);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tvigorous: {\r\n\t\tname: \"Vigorous\",\r\n\t\tshortDesc: \"Takes half the turns to return from stop status.\",\r\n\t\t// Implemented in conditions.js\r\n\t},\r\n\tvisionbonus: {\r\n\t\tname: \"Vision Bonus\",\r\n\t\tshortDesc: \"Boosts the power of Illusion skills by 40%.\",\r\n\t\tonBasePowerPriority: 10,\r\n\t\tonBasePower(relayVar, source, target, move) {\r\n\t\t\tif (move.type === \"Illusion\") {\r\n\t\t\t\tthis.chainModify(1.4);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\twariness: {\r\n\t\tname: \"Wariness\",\r\n\t\tshortDesc: \"Disables skills with 50 or less BP.\",\r\n\t\tonTryHitPriority: 30,\r\n\t\tonTryHit(source, target, move) {\r\n\t\t\tif (source !== target && move.category !== 'Status' && move.basePower <= 50) {\r\n\t\t\t\tthis.add('-immune', source, '[from] ability: Wariness');\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\twarningshot: {\r\n\t\tname: \"Warning Shot\",\r\n\t\tshortDesc: \"Lowers the opponent's SpAtk upon switch in.\",\r\n\t\tonStart(pokemon) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const target of pokemon.side.foe.active) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-ability', pokemon, 'Warning Shot', 'boost');\r\n\t\t\t\t\tactivated = true;\r\n\t\t\t\t}\r\n\t\t\t\tif (target.volatiles['substitute']) {\r\n\t\t\t\t\tthis.add('-immune', target);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.boost({spa: -1}, target, pokemon, null, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\twasteful: {\r\n\t\tname: \"Wasteful\",\r\n\t\tshortDesc: \"Effects of held items are ignored.\",\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.singleEvent('End', pokemon.getItem(), pokemon.itemState, pokemon);\r\n\t\t},\r\n\t},\r\n\tweatherresist: {\r\n\t\tname: \"Weather Resist\",\r\n\t\tshortDesc: \"This Puppet is immune to the effects of weather.\",\r\n\t\tonSwitchIn(pokemon) {\r\n\t\t\tthis.effectState.switchingIn = true;\r\n\t\t},\r\n\t\tonStart(pokemon) {\r\n\t\t\tif (!this.effectState.switchingIn) {\r\n\t\t\t\tthis.add('-ability', pokemon, 'Weather Resist');\r\n\t\t\t\tthis.effectState.switchingIn = false;\r\n\t\t\t}\r\n\t\t\tthis.eachEvent('WeatherChange', this.effect);\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tthis.eachEvent('WeatherChange', this.effect);\r\n\t\t},\r\n\t\tsuppressWeather: true,\r\n\t},\r\n\twerehakutaku: {\r\n\t\tname: \"Were-Hakutaku\",\r\n\t\tshortDesc: \"When Defense Keine HP is less than half your form is changed.\",\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.species.forme !== \"Hakutaku\" && pokemon.hp <= pokemon.baseMaxhp / 2) {\r\n\t\t\t\tpokemon.formeChange(\"Defense Keine-Hakutaku\");\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\twesternexpanse: {\r\n\t\tname: \"Western Expanse\",\r\n\t\tshortDesc: \"During Byakko, 100 acc skills power increases by 20%, no-miss skills power increases by 50%.\",\r\n\t\tonBasePower(relayVar, source, target, move) {\r\n\t\t\tif (this.field.isTerrain(\"byakko\")) {\r\n\t\t\t\tif (move.accuracy === 100) {\r\n\t\t\t\t\tthis.chainModify(1.2);\r\n\t\t\t\t}\r\n\t\t\t\telse if (move.accuracy === true) {\r\n\t\t\t\t\tthis.chainModify(1.5);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\twisdomeye: {\r\n\t\tname: \"Wisdom Eye\",\r\n\t\tshortDesc: \"Attacks ignore the opponent's stat gains other than speed.\",\r\n\t\tonAnyModifyBoost(boosts, pokemon) {\r\n\t\t\tconst unawareUser = this.effectState.target;\r\n\t\t\tif (unawareUser === pokemon) return;\r\n\t\t\tif (unawareUser === this.activePokemon && pokemon === this.activeTarget) {\r\n\t\t\t\tboosts['def'] = 0;\r\n\t\t\t\tboosts['spd'] = 0;\r\n\t\t\t\tboosts['evasion'] = 0;\r\n\t\t\t}\r\n\t\t\tif (pokemon === this.activePokemon && unawareUser === this.activeTarget) {\r\n\t\t\t\tboosts['atk'] = 0;\r\n\t\t\t\tboosts['def'] = 0;\r\n\t\t\t\tboosts['spa'] = 0;\r\n\t\t\t\tboosts['accuracy'] = 0;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tworrywart: {\r\n\t\tname: \"Worrywart\",\r\n\t\tshortDesc: \"When HP is less than half the held charm is used.\",\r\n\t\tonStart(pokemon) {\r\n\t\t\tpokemon.abilityState.gluttony = true;\r\n\t\t},\r\n\t\tonDamage(item, pokemon) {\r\n\t\t\tpokemon.abilityState.gluttony = true;\r\n\t\t},\r\n\t},\r\n\tyatanokagami: {\r\n\t\tname: \"Yata no Kagami\",\r\n\t\tshortDesc: \"Takes half damage when at full HP.\",\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (target.hp === target.baseMaxhp)\r\n\t\t\t\tthis.chainModify(0.5);\r\n\t\t},\r\n\t},\r\n\tzen: {\r\n\t\tname: \"Zen\",\r\n\t\tshortDesc: \"During calm, the user is immune to status ailments and recovers some HP at the end of every turn.\",\r\n\t\tonSetStatus(status, target, source, effect) {\r\n\t\t\tif (this.field.isWeather(\"calm\")) {\r\n\t\t\t\ttarget.clearStatus();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonResidual(target, source, effect) {\r\n\t\t\tif (this.field.isWeather(\"calm\")) {\r\n\t\t\t\ttarget.heal(target.baseMaxhp / 16);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n};\r\n"],
  "mappings": "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",
  "names": ["target"]
}
