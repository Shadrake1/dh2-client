{
  "version": 3,
  "sources": ["../../../../data/mods/gen2expansionpack/scripts.ts"],
  "sourcesContent": ["export const Scripts: ModdedBattleScriptsData = {\r\n\tinherit: 'gen2',\r\n\tgen: 2,\r\n\tinit() {\r\n\t\tconst specialTypes = ['Fire', 'Water', 'Grass', 'Ice', 'Electric', 'Dark', 'Psychic', 'Dragon', 'Fairy'];\r\n\t\tlet newCategory = '';\r\n\t\tfor (const i in this.data.Moves) {\r\n\t\t\tif (!this.data.Moves[i]) console.log(i);\r\n\t\t\tif (this.data.Moves[i].category === 'Status') continue;\r\n\t\t\tnewCategory = specialTypes.includes(this.data.Moves[i].type) ? 'Special' : 'Physical';\r\n\t\t\tif (newCategory !== this.data.Moves[i].category) {\r\n\t\t\t\tthis.modData('Moves', i).category = newCategory;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tteambuilderConfig: {\r\n\t\tspecialTypes: ['Fire', 'Water', 'Grass', 'Electric', 'Ice', 'Psychic', 'Dark', 'Dragon', 'Fairy'],\r\n\t},\r\n\t// Guardia & Mimmeo held items\r\n\tpokemon: {\r\n\t\tinherit: true,\r\n\t\tgetStat(statName, unboosted, unmodified, fastReturn) {\r\n\t\t\t// @ts-ignore - type checking prevents 'hp' from being passed, but we're paranoid\r\n\t\t\tif (statName === 'hp') throw new Error(\"Please read `maxhp` directly\");\r\n\r\n\t\t\t// base stat\r\n\t\t\tlet stat = this.storedStats[statName];\r\n\r\n\t\t\t// Stat boosts.\r\n\t\t\tif (!unboosted) {\r\n\t\t\t\tlet boost = this.boosts[statName];\r\n\t\t\t\tif (boost > 6) boost = 6;\r\n\t\t\t\tif (boost < -6) boost = -6;\r\n\t\t\t\tif (boost >= 0) {\r\n\t\t\t\t\tconst boostTable = [1, 1.5, 2, 2.5, 3, 3.5, 4];\r\n\t\t\t\t\tstat = Math.floor(stat * boostTable[boost]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst numerators = [100, 66, 50, 40, 33, 28, 25];\r\n\t\t\t\t\tstat = Math.floor(stat * numerators[-boost] / 100);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (this.status === 'par' && statName === 'spe') {\r\n\t\t\t\tstat = Math.floor(stat / 4);\r\n\t\t\t}\r\n\r\n\t\t\tif (!unmodified) {\r\n\t\t\t\t// Burn attack drop is checked when you get the attack stat upon switch in and used until switch out.\r\n\t\t\t\tif (this.status === 'brn' && statName === 'atk') {\r\n\t\t\t\t\tstat = Math.floor(stat / 2);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Gen 2 caps stats at 999 and min is 1.\r\n\t\t\tstat = this.battle.clampIntRange(stat, 1, 999);\r\n\t\t\tif (fastReturn) return stat;\r\n\r\n\t\t\t// Screens\r\n\t\t\tif (!unboosted) {\r\n\t\t\t\tif (\r\n\t\t\t\t\t(statName === 'def' && this.side.sideConditions['reflect']) ||\r\n\t\t\t\t\t(statName === 'spd' && this.side.sideConditions['lightscreen'])\r\n\t\t\t\t) {\r\n\t\t\t\t\tstat *= 2;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Handle boosting items\r\n\t\t\tif (\r\n\t\t\t\t(['Cubone', 'Marowak', 'Marowak-Alola', 'Guardia'].includes(this.baseSpecies.name) && this.item === 'thickclub' && statName === 'atk') ||\r\n\t\t\t\t(this.baseSpecies.name === 'Pikachu' && this.item === 'lightball' && statName === 'spa')\r\n\t\t\t) {\r\n\t\t\t\tstat *= 2;\r\n\t\t\t} else if (['Ditto', 'Mimmeo'] .includes(this.baseSpecies.name) && this.item === 'metalpowder' && ['def', 'spd'].includes(statName)) {\r\n\t\t\t\tstat = Math.floor(stat * 1.5);\r\n\t\t\t}\r\n\r\n\t\t\treturn stat;\r\n\t\t},\r\n\t}\r\n};\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,MAAM,UAAmC;AAAA,EAC/C,SAAS;AAAA,EACT,KAAK;AAAA,EACL,OAAO;AACN,UAAM,eAAe,CAAC,QAAQ,SAAS,SAAS,OAAO,YAAY,QAAQ,WAAW,UAAU,OAAO;AACvG,QAAI,cAAc;AAClB,eAAW,KAAK,KAAK,KAAK,OAAO;AAChC,UAAI,CAAC,KAAK,KAAK,MAAM,CAAC;AAAG,gBAAQ,IAAI,CAAC;AACtC,UAAI,KAAK,KAAK,MAAM,CAAC,EAAE,aAAa;AAAU;AAC9C,oBAAc,aAAa,SAAS,KAAK,KAAK,MAAM,CAAC,EAAE,IAAI,IAAI,YAAY;AAC3E,UAAI,gBAAgB,KAAK,KAAK,MAAM,CAAC,EAAE,UAAU;AAChD,aAAK,QAAQ,SAAS,CAAC,EAAE,WAAW;AAAA,MACrC;AAAA,IACD;AAAA,EACD;AAAA,EACA,mBAAmB;AAAA,IAClB,cAAc,CAAC,QAAQ,SAAS,SAAS,YAAY,OAAO,WAAW,QAAQ,UAAU,OAAO;AAAA,EACjG;AAAA;AAAA,EAEA,SAAS;AAAA,IACR,SAAS;AAAA,IACT,QAAQ,UAAU,WAAW,YAAY,YAAY;AAEpD,UAAI,aAAa;AAAM,cAAM,IAAI,MAAM,8BAA8B;AAGrE,UAAI,OAAO,KAAK,YAAY,QAAQ;AAGpC,UAAI,CAAC,WAAW;AACf,YAAI,QAAQ,KAAK,OAAO,QAAQ;AAChC,YAAI,QAAQ;AAAG,kBAAQ;AACvB,YAAI,QAAQ;AAAI,kBAAQ;AACxB,YAAI,SAAS,GAAG;AACf,gBAAM,aAAa,CAAC,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,CAAC;AAC7C,iBAAO,KAAK,MAAM,OAAO,WAAW,KAAK,CAAC;AAAA,QAC3C,OAAO;AACN,gBAAM,aAAa,CAAC,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,EAAE;AAC/C,iBAAO,KAAK,MAAM,OAAO,WAAW,CAAC,KAAK,IAAI,GAAG;AAAA,QAClD;AAAA,MACD;AAEA,UAAI,KAAK,WAAW,SAAS,aAAa,OAAO;AAChD,eAAO,KAAK,MAAM,OAAO,CAAC;AAAA,MAC3B;AAEA,UAAI,CAAC,YAAY;AAEhB,YAAI,KAAK,WAAW,SAAS,aAAa,OAAO;AAChD,iBAAO,KAAK,MAAM,OAAO,CAAC;AAAA,QAC3B;AAAA,MACD;AAGA,aAAO,KAAK,OAAO,cAAc,MAAM,GAAG,GAAG;AAC7C,UAAI;AAAY,eAAO;AAGvB,UAAI,CAAC,WAAW;AACf,YACE,aAAa,SAAS,KAAK,KAAK,eAAe,SAAS,KACxD,aAAa,SAAS,KAAK,KAAK,eAAe,aAAa,GAC5D;AACD,kBAAQ;AAAA,QACT;AAAA,MACD;AAGA,UACE,CAAC,UAAU,WAAW,iBAAiB,SAAS,EAAE,SAAS,KAAK,YAAY,IAAI,KAAK,KAAK,SAAS,eAAe,aAAa,SAC/H,KAAK,YAAY,SAAS,aAAa,KAAK,SAAS,eAAe,aAAa,OACjF;AACD,gBAAQ;AAAA,MACT,WAAW,CAAC,SAAS,QAAQ,EAAG,SAAS,KAAK,YAAY,IAAI,KAAK,KAAK,SAAS,iBAAiB,CAAC,OAAO,KAAK,EAAE,SAAS,QAAQ,GAAG;AACpI,eAAO,KAAK,MAAM,OAAO,GAAG;AAAA,MAC7B;AAEA,aAAO;AAAA,IACR;AAAA,EACD;AACD;",
  "names": []
}
