{
  "version": 3,
  "sources": ["../../../../data/mods/gen9fevgc/abilities.ts"],
  "sourcesContent": ["export const Abilities: {[k: string]: ModdedAbilityData} = {\r\n\tslyslime: {\r\n\t\tonModifyMove(move) {\r\n\t\t\tmove.infiltrates = true;\r\n\t\t},\r\n\t\tonSourceDamagingHit(damage, target, source, move) {\r\n         if (target.hasAbility('shielddust') || target.hasItem('covertcloak')) return;\r\n\t\t\tfor (const sideCondition of ['reflect', 'lightscreen', 'auroraveil']) {\r\n\t\t\t\tfor (const side of [source.side.foeSidesWithConditions()]) {\r\n            \tif (target.volatiles['substitute'] || side.getSideCondition(sideCondition)) {\r\n                \t\tthis.add('-ability', source, 'Sly Slime');\r\n                \t\tthis.boost({spe: -1}, target, source, null, true);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Sly Slime\",\r\n\t\tshortDesc: \"User's moves ignore screens and Substitute. -1 Speed to hit foes behind screens or Substitute.\",\r\n\t},\r\n\tsappyjest: {\r\n\t\tonModifyPriority(priority, pokemon, target, move) {\r\n\t\t\tif (move?.category === 'Status') {\r\n\t\t\t\tmove.pranksterBoosted = true; // add dark immunity in scripts\r\n\t\t\t\treturn priority + 1;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryHit(pokemon, target, move) {\r\n\t\t\tif (move.priority > 0.1 && target !== pokemon) {\r\n\t\t\t\tthis.add('-immune', pokemon, '[from] ability: Sappy Jest');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Sappy Jest\",\r\n\t\tshortDesc: \"User's status moves have +1 priority. User is immune to priority moves.\",\r\n\t},\r\n\tknightseye: {\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (source && target === source) return;\r\n\t\t\tif (boost.accuracy && boost.accuracy < 0) {\r\n\t\t\t\tdelete boost.accuracy;\r\n\t\t\t\tif (!(effect as ActiveMove).secondaries) {\r\n\t\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"accuracy\", \"[from] ability: Knight\\'s Eye\", \"[of] \" + target);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyMove(move) {\r\n\t\t\tmove.ignoreEvasion = true;\r\n\t\t},\r\n\t\tonCriticalHit: false,\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Knight's Eye\",\r\n\t\tshortDesc: \"Keen Eye + Shell Armor\",\r\n\t},\r\n\trootsnap: {\r\n\t\tonModifyMove(move, attacker, defender) {\r\n\t\t\t\tif (defender.hasAbility(['dryskin', 'flashfire', 'sapsipper', 'lightningrod', 'motordrive', 'stormdrain', 'voltabsorb',\r\n\t\t\t\t\t'waterabsorb', 'eartheater', 'sappyjest', 'heatblade', 'eerieflames', 'mindalign', 'nightlyjokes', 'levitate', 'leafcoat',\r\n\t\t\t\t\t'friendlyprank', 'bulletproof', 'soundproof', 'wellbakedbody', 'clumpingup', 'windrider', 'wonderguard', 'divegoggles',\r\n\t\t\t\t\t'smokeabsorb', 'sandproof', 'pyrotechnic', 'smelting', 'goodasgold', 'owntides', 'sturdyfire', 'speedyfire', 'ghoulfire',\r\n\t\t\t\t\t'clueless', 'sirocco', 'sunlitflight', 'lithoproof', 'shockhorror', 'respark', 'hydrophillic', 'bulletveil', 'rekindle',\r\n\t\t\t\t\t'airdrive', 'winddrive', 'windenergy', 'litnitwit'])) {\r\n\t\t\t\t\t\tmove.ignoreAbility = true;\r\n\t\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Root Snap\",\r\n\t\tshortDesc: \"This Pokemon's moves ignore ability-based immunities\",\r\n\t},\r\n\thydrovision: {\r\n\t\tonResidualOrder: 5,\r\n\t\tonResidualSubOrder: 3,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif (pokemon.status && ['raindance', 'primordialsea'].includes(pokemon.effectiveWeather())) {\r\n\t\t\t\tthis.debug('hydration');\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Hydrovision');\r\n\t\t\t\tpokemon.cureStatus();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyMove(move) {\r\n\t\t\tmove.ignoreEvasion = true;\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Hydrovision\",\r\n\t\tshortDesc: \"Keen Eye + Hydration\",\r\n\t},\r\n\tgoogetter: {\r\n\t\tonAfterEachBoost(boost, target, source, effect) {\r\n\t\t\tif (!source || target.isAlly(source)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet statsLowered = false;\r\n\t\t\tlet i: BoostID;\r\n\t\t\tfor (i in boost) {\r\n\t\t\t\tif (boost[i]! < 0) {\r\n\t\t\t\t\tstatsLowered = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (statsLowered) {\r\n\t\t\t\tthis.boost({spa: 2}, target, target, null, false, true);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (this.checkMoveMakesContact(move, source, target, true)) {\r\n\t\t\t\tthis.add('-ability', target, 'Goo-Getter');\r\n\t\t\t\tthis.boost({spe: 1}, target, target, null, true);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Goo-Getter\",\r\n\t\tshortDesc: \"This Pokemon gets +2 SpA if a foe lowers its stats and +1 Spe if hit by contact.\",\r\n\t},\r\n\trestlessspeed: {\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.status === 'slp') {\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Restless Speed');\r\n\t\t\t\tpokemon.cureStatus();\r\n\t\t\t\tthis.boost({spe: 1}, pokemon, pokemon, null, false, true);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSetStatus(status, target, source, effect) {\r\n\t\t\tif (status.id !== 'slp') return;\r\n\t\t\tif ((effect as Move)?.status) {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Restless Speed');\r\n\t\t\t}\r\n\t\t\tthis.boost({spe: 1}, target, target, null, false, true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonTryAddVolatile(status, target) {\r\n\t\t\tif (status.id === 'yawn' || status.id === 'flinch') {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Restless Speed');\r\n\t\t\t\tthis.boost({spe: 1}, target, target, null, false, true);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Restless Speed\",\r\n\t\tshortDesc: \"Can't be flinched or put to sleep. +1 Speed if either is attempted.\",\r\n\t},\r\n\thyperfocus: {\r\n\t\tonTryAddVolatile(status, pokemon) {\r\n\t\t\tif (status.id === 'flinch') return null;\r\n\t\t},\r\n\t\tonModifyCritRatio(critRatio) {\r\n\t\t\treturn critRatio + 1;\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (boost.atk && ['Intimidate', 'Underestimate', 'Migrate', 'Incorporate', 'Hunger Fate', 'Eliminate', 'Dominate', 'Obliterate',\r\n\t\t\t\t  'Sea Monster', 'Inflame', 'Brave Look', 'Venom Glare'].includes(effect.name)) {\r\n\t\t\t\tdelete boost.atk;\r\n\t\t\t\tthis.add('-fail', target, 'unboost', 'Attack', '[from] ability: Hyperfocus', '[of] ' + target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonCriticalHit: false,\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Hyperfocus\",\r\n\t\tshortDesc: \"This Pokemon's crit ratio is increased by 1 stage. Cannot be struck by a crit or flinched.\",\r\n\t},\r\n\theroego: {\r\n\t\tonSourceAfterFaint(length, target, source, effect) {\r\n\t\t\tif (effect && effect.effectType === 'Move') {\r\n\t\t\t\tthis.boost({atk: length}, source);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (move.type === 'Dark') {\r\n\t\t\t\tthis.boost({atk: 1});\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Hero Ego\",\r\n\t\tshortDesc: \"Justified + Moxie\",\r\n\t},\r\n\tmagicsurge: {\r\n\t\tonStart(source) {\r\n\t\t\tthis.field.setTerrain('mistyterrain');\r\n\t\t},\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Water' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Magic Surge boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpAPriority: 5,\r\n\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Water' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Magic Surge boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Magic Surge\",\r\n\t\tshortDesc: \"Torrent + Misty Surge\",\r\n\t},\r\n\tneutralmatch: {\r\n\t\tonAfterEachBoost(boost, target, source, effect) {\r\n\t\t\tif (!source || target.isAlly(source)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet statsLowered = false;\r\n\t\t\tlet i: BoostID;\r\n\t\t\tfor (i in boost) {\r\n\t\t\t\tif (boost[i]! < 0) {\r\n\t\t\t\t\tstatsLowered = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (statsLowered) {\r\n\t\t\t\tthis.boost({spa: 2}, target, target, null, false, true);\r\n\t\t\t}\r\n\t\t},\r\n\t\t// add ngas functionality in scripts\r\n\t\tonPreStart(pokemon) {\r\n\t\t\tthis.add('-ability', pokemon, 'Neutral Match');\r\n\t\t\tpokemon.abilityState.ending = false;\r\n\t\t\tconst strongWeathers = ['desolateland', 'primordialsea', 'deltastream'];\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target.hasItem('Ability Shield')) {\r\n\t\t\t\t\tthis.add('-block', target, 'item: Ability Shield');\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif (target.volatiles['commanding']) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif (target.illusion) {\r\n\t\t\t\t\tthis.singleEvent('End', this.dex.abilities.get('Illusion'), target.abilityState, target, pokemon, 'neutralmatch');\r\n\t\t\t\t}\r\n\t\t\t\tif (target.volatiles['slowstart']) {\r\n\t\t\t\t\tdelete target.volatiles['slowstart'];\r\n\t\t\t\t\tthis.add('-end', target, 'Slow Start', '[silent]');\r\n\t\t\t\t}\r\n\t\t\t\tif (strongWeathers.includes(target.getAbility().id)) {\r\n\t\t\t\t\tthis.singleEvent('End', this.dex.abilities.get(target.getAbility().id), target.abilityState, target, pokemon, 'neutralmatch');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(source) {\r\n\t\t\tif (source.transformed) return;\r\n\t\t\tfor (const pokemon of this.getAllActive()) {\r\n\t\t\t\tif (pokemon !== source && pokemon.hasAbility('Neutral Match')) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.add('-end', source, 'ability: Neutral Match');\r\n\t\t\tif (source.abilityState.ending) return;\r\n\t\t\tsource.abilityState.ending = true;\r\n\t\t\tconst sortedActive = this.getAllActive();\r\n\t\t\tthis.speedSort(sortedActive);\r\n\t\t\tfor (const pokemon of sortedActive) {\r\n\t\t\t\tif (pokemon !== source) {\r\n\t\t\t\t\tif (pokemon.getAbility().flags['cantsuppress'] || pokemon.hasItem('abilityshield')) continue;\r\n\t\t\t\t\tthis.singleEvent('Start', pokemon.getAbility(), pokemon.abilityState, pokemon);\r\n\t\t\t\t\tif (pokemon.ability === \"gluttony\") {\r\n\t\t\t\t\t\tpokemon.abilityState.gluttony = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, notransform: 1},\r\n\t\tname: \"Neutral Match\",\r\n\t\tshortDesc: \"Competitive + Neutralizing Gas\",\r\n\t},\r\n\tfocusfalls: {\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Water' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Magic Surge boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpAPriority: 5,\r\n\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Water' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Magic Surge boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryAddVolatile(status, pokemon) {\r\n\t\t\tif (status.id === 'flinch') return null;\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (boost.atk && ['Intimidate', 'Underestimate', 'Migrate', 'Incorporate', 'Hunger Fate', 'Eliminate', 'Dominate', 'Obliterate',\r\n\t\t\t\t  'Sea Monster', 'Inflame', 'Brave Look', 'Venom Glare'].includes(effect.name)) {\r\n\t\t\t\tdelete boost.atk;\r\n\t\t\t\tthis.add('-fail', target, 'unboost', 'Attack', '[from] ability: Focus Falls', '[of] ' + target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Focus Falls\",\r\n\t\tshortDesc: \"Torrent + Inner Focus\",\r\n\t},\r\n\tarmorsurge: {\r\n\t\tonStart(source) {\r\n\t\t\tthis.field.setTerrain('psychicterrain');\r\n\t\t},\r\n\t\tonCriticalHit: false,\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Armor Surge\",\r\n\t\tshortDesc: \"Shell Armor + Psychic Surge\",\r\n\t},\r\n\tdivegoggles: {\r\n\t\tonModifyDamage(damage, source, target, move) {\r\n\t\t\tif (target.getMoveHitData(move).typeMod < 0) {\r\n\t\t\t\tthis.debug('Dive Goggles boost');\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Water') {\r\n\t\t\t\tif (!this.heal(target.baseMaxhp / 4)) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Dive Goggles');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Dive Goggles\",\r\n\t\tshortDesc: \"Tinted Lens + Water Absorb\",\r\n\t},\r\n\thighenergy: {\r\n\t\tonAnyTryMove(target, source, move) {\r\n\t\t\tif (move.status && move.status === 'slp') {\r\n\t\t\t\tthis.attrLastMove('[still]');\r\n\t\t\t\tthis.add('cant', this.effectState.target, 'ability: High Energy', move, '[of] ' + target);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"High Energy\",\r\n\t\tshortDesc: \"Prevents the use of sleep-inducing moves while the user is active.\",\r\n\t},\r\n\tstormysight: {\r\n\t\tonStart(source) {\r\n\t\t\tfor (const action of this.queue) {\r\n\t\t\t\tif (action.choice === 'runPrimal') {\r\n\t\t\t\t\tif (action.pokemon === source && source.species.id === 'kyogre') return;\r\n\t\t\t\t} else if (action.choice !== 'runSwitch') break;\r\n\t\t\t}\r\n\t\t\tthis.field.setWeather('raindance');\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (source && target === source) return;\r\n\t\t\tif (boost.accuracy && boost.accuracy < 0) {\r\n\t\t\t\tdelete boost.accuracy;\r\n\t\t\t\tif (!(effect as ActiveMove).secondaries) {\r\n\t\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"accuracy\", \"[from] ability: Stormy Sight\", \"[of] \" + target);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyMove(move) {\r\n\t\t\tmove.ignoreEvasion = true;\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Stormy Sight\",\r\n\t\tshortDesc: \"Keen Eye + Drizzle\",\r\n\t},\r\n\tsmokeabsorb: {\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (source && target === source) return;\r\n\t\t\tlet showMsg = false;\r\n\t\t\tlet i: BoostID;\r\n\t\t\tfor (i in boost) {\r\n\t\t\t\tif (boost[i]! < 0) {\r\n\t\t\t\t\tdelete boost[i];\r\n\t\t\t\t\tshowMsg = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (showMsg && !(effect as ActiveMove).secondaries && effect.id !== 'octolock') {\r\n\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"[from] ability: Smoke Absorb\", \"[of] \" + target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Water') {\r\n\t\t\t\tif (!this.heal(target.baseMaxhp / 4)) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Smoke Absorb');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Smoke Absorb\",\r\n\t\tshortDesc: \"White Smoke + Water Absorb\",\r\n\t},\r\n\tsolarradiation: {\r\n\t\tonStart(source) {\r\n\t\t\tfor (const action of this.queue) {\r\n\t\t\t\tif (action.choice === 'runPrimal') {\r\n\t\t\t\t\t\tif (action.pokemon === source && source.species.id === 'groudon') return;\r\n\t\t\t\t} else if (action.choice !== 'runSwitch') break;\r\n\t\t\t}\r\n\t\t\tthis.field.setWeather('sunnyday');\r\n\t\t},\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (this.checkMoveMakesContact(move, source, target) && this.randomChance(3, 10)) {\r\n\t\t\t\tsource.trySetStatus('psn', target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Solar Radiation\",\r\n\t\tshortDesc: \"Drought + Poison Point\",\r\n\t},\r\n\tdaftshield: {\r\n\t\tonAnyModifyBoost(boosts, pokemon) {\r\n\t\t\tconst unawareUser = this.effectState.target;\r\n\t\t\tif (unawareUser === pokemon) return;\r\n\t\t\tif (unawareUser === this.activePokemon) {\r\n\t\t\t\tif (pokemon === this.activeTarget) {\r\n\t\t\t\t\tboosts['def'] = 0;\r\n\t\t\t\t\tboosts['spd'] = 0;\r\n\t\t\t\t\tboosts['evasion'] = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (pokemon === this.activePokemon && unawareUser === this.activeTarget) {\r\n\t\t\t\tboosts['atk'] = 0;\r\n\t\t\t\tboosts['def'] = 0;\r\n\t\t\t\tboosts['spa'] = 0;\r\n\t\t\t\tboosts['accuracy'] = 0;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonCriticalHit: false,\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Daft Shield\",\r\n\t\tshortDesc: \"Shell Armor + Unaware\",\r\n\t},\r\n\tforbiddengarden: {\r\n\t\tonPreStart(pokemon) {\r\n\t\t\tthis.add('-ability', pokemon, 'Forbidden Garden');\r\n\t\t\tthis.effectState.unnerved = true;\r\n\t\t},\r\n\t\tonStart(pokemon) {\r\n\t\t\tif (this.effectState.unnerved) return;\r\n\t\t\tthis.add('-ability', pokemon, 'Forbidden Garden');\r\n\t\t\tthis.effectState.unnerved = true;\r\n\t\t},\r\n\t\tonEnd() {\r\n\t\t\tthis.effectState.unnerved = false;\r\n\t\t},\r\n\t\tonFoeTryEatItem() {\r\n\t\t\treturn !this.effectState.unnerved;\r\n\t\t},\r\n\t\tonFoeTryMove(target, source, move) {\r\n\t\t\tif (move.type === 'Grass') {\r\n\t\t\t\tthis.attrLastMove('[still]');\r\n\t\t\t\tthis.add('cant', this.effectState.target, 'ability: Forbidden Garden', move, '[of] ' + target);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Forbidden Garden\",\r\n\t\tshortDesc: \"While this Pokemon is active, opposing Pokemon can't use Grass moves or Berries.\",\r\n\t},\r\n\tsandproof: {\r\n\t\tonStart(source) {\r\n\t\t\tthis.field.setWeather('sandstorm');\r\n\t\t},\r\n\t\tonTryHit(pokemon, target, move) {\r\n\t\t\tif (move.flags['bullet']) {\r\n\t\t\t\tthis.add('-immune', pokemon, '[from] ability: Sandproof');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Sandproof\",\r\n\t\tshortDesc: \"Sand Stream + Bulletproof\",\r\n\t},\r\n\tcryowarning: {\r\n\t\tonStart(source) {\r\n\t\t\tthis.field.setWeather('snow');\r\n\t\t},\r\n\t\tonWeather(target, source, effect) {\r\n\t\t\tif (effect.id === 'hail' || effect.id === 'snow') {\r\n\t\t\t\tthis.heal(target.baseMaxhp / 16);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonImmunity(type, pokemon) {\r\n\t\t\tif (type === 'hail') return false;\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Cryowarning\",\r\n\t\tshortDesc: \"Snow Warning + Ice Body\",\r\n\t},\r\n\ttundraveil: {\r\n\t\tonImmunity(type, pokemon) {\r\n\t\t\tif (type === 'sandstorm') return false;\r\n\t\t},\r\n\t\tonModifyAccuracyPriority: -1,\r\n\t\tonModifyAccuracy(accuracy) {\r\n\t\t\tif (typeof accuracy !== 'number') return;\r\n\t\t\tif (this.field.isWeather(['hail', 'snow', 'sandstorm'])) {\r\n\t\t\t\tthis.debug('Tundra Veil - decreasing accuracy');\r\n\t\t\t\treturn this.chainModify([3277, 4096]);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Tundra Veil\",\r\n\t\tshortDesc: \"Snow Cloak + Sand Veil\",\r\n\t},\r\n\ttundrarush: {\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (this.field.isWeather(['hail', 'snow', 'sandstorm'])) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Tundra Rush\",\r\n\t\tshortDesc: \"Slush Rush + Sand Rush\",\r\n\t},\r\n\tnightvision: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tfor (const target of pokemon.foes()) {\r\n\t\t\t\tif (target.item) {\r\n\t\t\t\t\tthis.add('-item', target, target.getItem().name, '[from] ability: Night Vision', '[of] ' + pokemon, '[identify]');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyMove(move) {\r\n\t\t\tmove.stab = 2;\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Night Vision\",\r\n\t\tshortDesc: \"Adaptability + Frisk\",\r\n\t},\r\n\tmalware: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.add('-ability', pokemon, 'Malware');\r\n\t\t\tthis.add('-message', `${pokemon.name}'s malicious code exerts pressure!`);\r\n\t\t\tlet totaldef = 0;\r\n\t\t\tlet totalspd = 0;\r\n\t\t\tfor (const target of pokemon.foes()) {\r\n\t\t\t\ttotaldef += target.getStat('def', false, true);\r\n\t\t\t\ttotalspd += target.getStat('spd', false, true);\r\n\t\t\t}\r\n\t\t\tif (totaldef && totaldef >= totalspd) {\r\n\t\t\t\tthis.boost({spa: 1});\r\n\t\t\t} else if (totalspd) {\r\n\t\t\t\tthis.boost({atk: 1});\r\n\t\t\t}\r\n\t\t},\r\n\t\tonDeductPP(target, source) {\r\n\t\t\tif (target.isAlly(source)) return;\r\n\t\t\treturn 1;\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Malware\",\r\n\t\tshortDesc: \"Download + Pressure\",\r\n\t},\r\n\tquickdelivery: {\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (['sunnyday', 'desolateland'].includes(pokemon.effectiveWeather())) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonStart(pokemon) { // double-check items.ts for implementation\r\n\t\t\tpokemon.abilityState.gluttony = true;\r\n\t\t},\r\n\t\tonDamage(item, pokemon) {\r\n\t\t\tpokemon.abilityState.gluttony = true;\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Quick Delivery\",\r\n\t\tshortDesc: \"Chlorophyll + Gluttony\",\r\n\t},\r\n\tfastvenom: {\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (['sunnyday', 'desolateland'].includes(pokemon.effectiveWeather())) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (this.checkMoveMakesContact(move, source, target) && !source.status && source.runStatusImmunity('powder')) {\r\n\t\t\t\tconst r = this.random(100);\r\n\t\t\t\tif (r < 11) {\r\n\t\t\t\t\tsource.setStatus('slp', target);\r\n\t\t\t\t} else if (r < 21) {\r\n\t\t\t\t\tsource.setStatus('par', target);\r\n\t\t\t\t} else if (r < 30) {\r\n\t\t\t\t\tsource.setStatus('psn', target);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Fast Venom\",\r\n\t\tshortDesc: \"Chlorophyll + Effect Spore\",\r\n\t},\r\n\toverbloom: {\r\n\t\tonAllyTryBoost(boost, target, source, effect) {\r\n\t\t\tif ((source && target === source) || !target.hasType('Grass')) return;\r\n\t\t\tlet showMsg = false;\r\n\t\t\tlet i: BoostID;\r\n\t\t\tfor (i in boost) {\r\n\t\t\t\tif (boost[i]! < 0) {\r\n\t\t\t\t\tdelete boost[i];\r\n\t\t\t\t\tshowMsg = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (showMsg && !(effect as ActiveMove).secondaries) {\r\n\t\t\t\tconst effectHolder = this.effectState.target;\r\n\t\t\t\tthis.add('-block', target, 'ability: Overbloom', '[of] ' + effectHolder);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAllySetStatus(status, target, source, effect) {\r\n\t\t\tif (target.hasType('Grass') && source && target !== source && effect && effect.id !== 'yawn') {\r\n\t\t\t\tthis.debug('interrupting setStatus with Flower Veil');\r\n\t\t\t\tif (effect.name === 'Synchronize' || (effect.effectType === 'Move' && !effect.secondaries)) {\r\n\t\t\t\t\tconst effectHolder = this.effectState.target;\r\n\t\t\t\t\tthis.add('-block', target, 'ability: Overbloom', '[of] ' + effectHolder);\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAllyTryAddVolatile(status, target) {\r\n\t\t\tif (target.hasType('Grass') && status.id === 'yawn') {\r\n\t\t\t\tthis.debug('Flower Veil blocking yawn');\r\n\t\t\t\tconst effectHolder = this.effectState.target;\r\n\t\t\t\tthis.add('-block', target, 'ability: Overbloom', '[of] ' + effectHolder);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Grass' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Overbloom boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpAPriority: 5,\r\n\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Grass' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Overbloom boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Overbloom\",\r\n\t\tshortDesc: \"Flower Veil + Overgrow\",\r\n\t},\r\n\tteamwork: {\r\n\t\tonAllyAfterUseItem(item, pokemon) {\r\n\t\t\tif (pokemon.switchFlag) return;\r\n\t\t\tconst source = this.effectState.target;\r\n\t\t\tconst myItem = source.takeItem();\r\n\t\t\tif (!myItem) return;\r\n\t\t\tif (\r\n\t\t\t\t!this.singleEvent('TakeItem', myItem, source.itemState, pokemon, source, this.effect, myItem) ||\r\n\t\t\t\t!pokemon.setItem(myItem)\r\n\t\t\t) {\r\n\t\t\t\tsource.item = myItem.id;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.add('-activate', source, 'ability: Teamwork', myItem, '[of] ' + pokemon);\r\n\t\t},\r\n\t\tonSetStatus(status, target, source, effect) {\r\n\t\t\tif (['sunnyday', 'desolateland'].includes(target.effectiveWeather())) {\r\n\t\t\t\tif ((effect as Move)?.status) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Teamwork');\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryAddVolatile(status, target) {\r\n\t\t\tif (status.id === 'yawn' && ['sunnyday', 'desolateland'].includes(target.effectiveWeather())) {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Teamwork');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Teamwork\",\r\n\t\tshortDesc: \"Symbiosis + Leaf Guard\",\r\n\t},\r\n\tpyrotechnic: {\r\n\t\tonBasePowerPriority: 30,\r\n\t\tonBasePower(basePower, attacker, defender, move) {\r\n\t\t\tconst basePowerAfterMultiplier = this.modify(basePower, this.event.modifier);\r\n\t\t\tthis.debug('Base Power: ' + basePowerAfterMultiplier);\r\n\t\t\tif (basePowerAfterMultiplier <= 60) {\r\n\t\t\t\tthis.debug('Pyrotechnic boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Fire') {\r\n\t\t\t\tmove.accuracy = true;\r\n\t\t\t\tif (!target.addVolatile('pyrotechnic')) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Pyrotechnic');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tpokemon.removeVolatile('pyrotechnic');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true,\r\n\t\t\tonStart(target) {\r\n\t\t\t\tthis.add('-start', target, 'ability: Pyrotechnic');\r\n\t\t\t},\r\n\t\t\tonModifyAtkPriority: 5,\r\n\t\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\t\tif (move.type === 'Fire' && attacker.hasAbility('pyrotechnic')) {\r\n\t\t\t\t\tthis.debug('Pyrotechnic boost');\r\n\t\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonModifySpAPriority: 5,\r\n\t\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\t\tif (move.type === 'Fire' && attacker.hasAbility('pyrotechnic')) {\r\n\t\t\t\t\tthis.debug('Pyrotechnic boost');\r\n\t\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonEnd(target) {\r\n\t\t\t\tthis.add('-end', target, 'ability: Pyrotechnic', '[silent]');\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Pyrotechnic\",\r\n\t\tshortDesc: \"Flash Fire + Technician\",\r\n\t},\r\n\tlightarmor: {\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (move.category === 'Physical') {\r\n\t\t\t\tthis.boost({def: -1, spe: 2}, target, target);\r\n\t\t\t\ttarget.weighthg = Math.max(1, target.weighthg / 2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Light Armor\",\r\n\t\tshortDesc: \"If hit by a physical move, -1 Def, +2 Spe, halved weight.\",\r\n\t},\r\n\tstrongarmor: {\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (move.category === 'Physical') {\r\n\t\t\t\tthis.boost({def: -1, spe: 2}, target, target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyMove(move, pokemon) {\r\n\t\t\tif (move.secondaries) {\r\n\t\t\t\tdelete move.secondaries;\r\n\t\t\t\tdelete move.self;\r\n\t\t\t\tif (move.id === 'clangoroussoulblaze') delete move.selfBoost;\r\n\t\t\t\t// remember to add lo recoil immunity to sheer force clones\r\n\t\t\t\tmove.hasSheerForce = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBasePowerPriority: 21,\r\n\t\tonBasePower(basePower, pokemon, target, move) {\r\n\t\t\tif (move.hasSheerForce) return this.chainModify([5325, 4096]);\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Strong Armor\",\r\n\t\tshortDesc: \"Weak Armor + Sheer Force\", \r\n\t},\r\n\theatblade: {\r\n\t\tonBasePowerPriority: 19,\r\n\t\tonBasePower(basePower, attacker, defender, move) {\r\n\t\t\tif (move.flags['slicing']) {\r\n\t\t\t\tthis.debug('Heatblade boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryHit(pokemon, target, move) {\r\n\t\t\tif (move.flags['slicing']) {\r\n\t\t\t\tthis.add('-immune', pokemon, '[from] ability: Heatblade');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Heatblade\",\r\n\t\tshortDesc: \"User's slicing moves deal 1.5x damage. User is immune to slicing moves.\", \r\n\t},\r\n\tunderestimate: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const target of pokemon.adjacentFoes()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-ability', pokemon, 'Underestimate', 'boost');\r\n\t\t\t\t\tactivated = true;\r\n\t\t\t\t}\r\n\t\t\t\tif (target.volatiles['substitute']) {\r\n\t\t\t\t\tthis.add('-immune', target);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.boost({atk: -1}, target, pokemon, null, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBasePowerPriority: 23,\r\n\t\tonBasePower(basePower, attacker, defender, move) {\r\n\t\t\tif (move.recoil || move.hasCrashDamage) {\r\n\t\t\t\tthis.debug('Underestimate boost');\r\n\t\t\t\treturn this.chainModify([4915, 4096]);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Underestimate\",\r\n\t\tshortDesc: \"Intimidate + Reckless\", \r\n\t},\r\n\tmigrate: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const target of pokemon.adjacentFoes()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-ability', pokemon, 'Migrate', 'boost');\r\n\t\t\t\t\tactivated = true;\r\n\t\t\t\t}\r\n\t\t\t\tif (target.volatiles['substitute']) {\r\n\t\t\t\t\tthis.add('-immune', target);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.boost({atk: -1}, target, pokemon, null, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, pokemon) {\r\n\t\t\tif (pokemon.status) {\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Migrate\",\r\n\t\tshortDesc: \"Intimidate + Guts\", // add guts burn immunity to scripts\r\n\t},\r\n\tseizethemoment: {\r\n\t\t// placeholder\r\n\t\tflags: {},\r\n\t\tname: \"Seize the Moment\",\r\n\t\tshortDesc: \"(Placeholder) If a screen is set on the foe's side of the field, it is also set on this Pokemon's side of the field.\",\r\n\t},\r\n\tsafeentry: {\r\n\t\tonSetStatus(status, target, source, effect) {\r\n\t\t\tif (!target.activeTurns) {\r\n\t\t\t\tif ((effect as Move)?.status) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Safe Entry');\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Safe Entry\",\r\n\t\tshortDesc: \"This Pokemon cannot be inflicted with status when switching in.\",\r\n\t},\r\n\tspeeddemon: {\r\n\t\tonResidualOrder: 28,\r\n\t\tonResidualSubOrder: 2,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif (pokemon.activeTurns) {\r\n\t\t\t\tthis.boost({spe: 1});\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (['sunnyday', 'desolateland'].includes(pokemon.effectiveWeather())) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Speed Demon\",\r\n\t\tshortDesc: \"Speed Boost + Chlorophyll\",\r\n\t},\r\n\tpestilence: {\r\n\t\tonBasePowerPriority: 24,\r\n\t\tonBasePower(basePower, attacker, defender, move) {\r\n\t\t\tif (defender.hasType('Bug')) {\r\n\t\t\t\tthis.debug('Pestilence weaken');\r\n\t\t\t\treturn this.chainModify(0.75);\r\n\t\t\t}\r\n\t\t\tthis.debug('Pestilence boost');\r\n\t\t\treturn this.chainModify(1.25);\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Pestilence\",\r\n\t\tshortDesc: \"This Pokemon's attacks do 1.25x damage to non-Bug targets; 0.75x on Bugs.\",\r\n\t},\r\n\tbreakingcharacter: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.add('-ability', pokemon, 'Breaking Character');\r\n\t\t\tthis.add('-message', `${pokemon.name} is breaking character!`);\r\n\t\t},\r\n\t\tonModifyMove(move) {\r\n\t\t\tmove.ignoreAbility = true;\r\n\t\t},\r\n\t\tonSourceAfterFaint(length, target, source, effect) {\r\n\t\t\tif (effect && effect.effectType === 'Move') {\r\n\t\t\t\tthis.boost({atk: length}, source);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Breaking Character\",\r\n\t\tshortDesc: \"Mold Breaker + Moxie\",\r\n\t},\r\n\tunsettling: {\r\n\t\tonPreStart(pokemon) {\r\n\t\t\tthis.add('-ability', pokemon, 'Unsettling');\r\n\t\t\tthis.effectState.unnerved = true;\r\n\t\t},\r\n\t\tonStart(pokemon) {\r\n\t\t\tif (this.effectState.unnerved) return;\r\n\t\t\tthis.add('-ability', pokemon, 'Unsettling');\r\n\t\t\tthis.effectState.unnerved = true;\r\n\t\t},\r\n\t\tonEnd() {\r\n\t\t\tthis.effectState.unnerved = false;\r\n\t\t},\r\n\t\tonFoeTryEatItem() {\r\n\t\t\treturn !this.effectState.unnerved;\r\n\t\t},\r\n\t\tflags: {}, // add burn immunity in scripts.ts\r\n\t\tname: \"Unsettling\",\r\n\t\tshortDesc: \"While this Pokemon is active, foes can't eat berries. Ignores burn Attack drop.\",\r\n\t},\r\n\tkelppower: {\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (['Water', 'Grass'].includes(move.type) && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Kelp Power boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpAPriority: 5,\r\n\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (['Water', 'Grass'].includes(move.type) && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Kelp Power boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Kelp Power\",\r\n\t\tshortDesc: \"Torrent + Overgrow\",\r\n\t},\r\n\tprideful: {\r\n\t\tonModifyMovePriority: -5,\r\n\t\tonModifyMove(move) {\r\n\t\t\tmove.ignoreImmunity ||= {};\r\n\t\t\tif (move.ignoreImmunity !== true) {\r\n\t\t\t\tmove.ignoreImmunity['Fighting'] = true;\r\n\t\t\t\tmove.ignoreImmunity['Normal'] = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceAfterFaint(length, target, source, effect) {\r\n\t\t\tif (effect && effect.effectType === 'Move') {\r\n\t\t\t\tthis.boost({atk: length}, source);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (boost.atk && ['Intimidate', 'Underestimate', 'Migrate', 'Incorporate', 'Hunger Fate', 'Eliminate', 'Dominate', 'Obliterate',\r\n\t\t\t\t  'Sea Monster', 'Inflame', 'Brave Look', 'Venom Glare'].includes(effect.name)) {\r\n\t\t\t\tdelete boost.atk;\r\n\t\t\t\tthis.add('-fail', target, 'unboost', 'Attack', '[from] ability: Prideful', '[of] ' + target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Prideful\",\r\n\t\tshortDesc: \"Scrappy + Moxie\",\r\n\t},\r\n\tsmelting: {\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (move.category === 'Status' && target !== source) {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Smelting');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tif (target !== source && move.type === 'Fire') {\r\n\t\t\t\tmove.accuracy = true;\r\n\t\t\t\tif (!target.addVolatile('smelting')) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Smelting');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tpokemon.removeVolatile('smelting');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true,\r\n\t\t\tonStart(target) {\r\n\t\t\t\tthis.add('-start', target, 'ability: Smelting');\r\n\t\t\t},\r\n\t\t\tonModifyAtkPriority: 5,\r\n\t\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\t\tif (move.type === 'Fire' && attacker.hasAbility('smelting')) {\r\n\t\t\t\t\tthis.debug('Smelting boost');\r\n\t\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonModifySpAPriority: 5,\r\n\t\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\t\tif (move.type === 'Fire' && attacker.hasAbility('smelting')) {\r\n\t\t\t\t\tthis.debug('Smelting boost');\r\n\t\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonEnd(target) {\r\n\t\t\t\tthis.add('-end', target, 'ability: Smelting', '[silent]');\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Smelting\",\r\n\t\tshortDesc: \"Good as Gold + Flash Fire\",\r\n\t},\r\n\tdowninflames: {\r\n\t\tonBasePowerPriority: 23,\r\n\t\tonBasePower(basePower, attacker, defender, move) {\r\n\t\t\tif (move.recoil || move.hasCrashDamage) {\r\n\t\t\t\tthis.debug('Down In Flames boost');\r\n\t\t\t\treturn this.chainModify([4915, 4096]);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Fire' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Down In Flames boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpAPriority: 5,\r\n\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Fire' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Down In Flames boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Down In Flames\",\r\n\t\tshortDesc: \"Reckless + Blaze\",\r\n\t},\r\n\tfromashes: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tfor (const target of pokemon.foes()) {\r\n\t\t\t\tif (target.item) {\r\n\t\t\t\t\tthis.add('-item', target, target.getItem().name, '[from] ability: From Ashes', '[of] ' + pokemon, '[identify]');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tpokemon.heal(pokemon.baseMaxhp / 3);\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"From Ashes\",\r\n\t\tshortDesc: \"Regenerator + Frisk\",\r\n\t},\r\n\tbubbleburster: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.add('-ability', pokemon, 'Bubble Burster');\r\n\t\t\tthis.add('-message', `${pokemon.name} bursts the foe's bubble!`);\r\n\t\t},\r\n\t\tonModifyMove(move) {\r\n\t\t\tmove.ignoreAbility = true;\r\n\t\t},\r\n\t\tonSourceModifyAtkPriority: 5,\r\n\t\tonSourceModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Fire') {\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceModifySpAPriority: 5,\r\n\t\tonSourceModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Fire') {\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Water') {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Water') {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.status === 'brn') {\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Bubble Burster');\r\n\t\t\t\tpokemon.cureStatus();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSetStatus(status, target, source, effect) {\r\n\t\t\tif (status.id !== 'brn') return;\r\n\t\t\tif ((effect as Move)?.status) {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Bubble Burster');\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Bubble Burster\",\r\n\t\tshortDesc: \"Mold Breaker + Water Bubble\",\r\n\t},\r\n\towntides: {\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.volatiles['confusion']) {\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Own Tides');\r\n\t\t\t\tpokemon.removeVolatile('confusion');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryAddVolatile(status, pokemon) {\r\n\t\t\tif (status.id === 'confusion') return null;\r\n\t\t},\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Water') {\r\n\t\t\t\tif (!this.heal(target.baseMaxhp / 4)) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Own Tides');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonHit(target, source, move) {\r\n\t\t\tif (move?.volatileStatus === 'confusion') {\r\n\t\t\t\tthis.add('-immune', target, 'confusion', '[from] ability: Own Tides');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (boost.atk && ['Intimidate', 'Underestimate', 'Migrate', 'Incorporate', 'Hunger Fate', 'Eliminate', 'Dominate', 'Obliterate',\r\n\t\t\t\t  'Sea Monster', 'Inflame', 'Brave Look', 'Venom Glare'].includes(effect.name)) {\r\n\t\t\t\tdelete boost.atk;\r\n\t\t\t\tthis.add('-fail', target, 'unboost', 'Attack', '[from] ability: Own Tides', '[of] ' + target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Own Tides\",\r\n\t\tshortDesc: \"Own Tempo + Water Absorb\",\r\n\t},\r\n\tsaltwatersauna: {\r\n\t\tonSetStatus(status, target, source, effect) {\r\n\t\t\tif ((effect as Move)?.status) {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Saltwater Sauna');\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonTryAddVolatile(status, target) {\r\n\t\t\tif (status.id === 'yawn') {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Saltwater Sauna');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceModifyAtkPriority: 6,\r\n\t\tonSourceModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (['Water', 'Fire', 'Ghost'].includes(move.type)) {\r\n\t\t\t\tthis.debug('Saltwater Sauna weaken');\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceModifySpAPriority: 5,\r\n\t\tonSourceModifySpA(spa, attacker, defender, move) {\r\n\t\t\tif (['Water', 'Fire', 'Ghost'].includes(move.type)) {\r\n\t\t\t\tthis.debug('Saltwater Sauna weaken');\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Saltwater Sauna\",\r\n\t\tshortDesc: \"Ghost/Fire/Water-type moves against this Pokemon deal 0.5x damage; can't be statused.\",\r\n\t},\r\n\tobsidianbody: {\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (this.checkMoveMakesContact(move, source, target) && this.randomChance(3, 10)) {\r\n\t\t\t\tsource.trySetStatus('brn', target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (source && target === source) return;\r\n\t\t\tlet showMsg = false;\r\n\t\t\tlet i: BoostID;\r\n\t\t\tfor (i in boost) {\r\n\t\t\t\tif (boost[i]! < 0) {\r\n\t\t\t\t\tdelete boost[i];\r\n\t\t\t\t\tshowMsg = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (showMsg && !(effect as ActiveMove).secondaries && effect.id !== 'octolock') {\r\n\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"[from] ability: Obsidian Body\", \"[of] \" + target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.status === 'brn') {\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Obsidian Body');\r\n\t\t\t\tpokemon.cureStatus();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSetStatus(status, target, source, effect) {\r\n\t\t\tif (status.id !== 'brn') return;\r\n\t\t\tif ((effect as Move)?.status) {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Obsidian Body');\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Obsidian Body\",\r\n\t\tshortDesc: \"Pokemon making contact have a 30% chance to be burnt. Foes can't lower this Pokemon's stats or burn it.\",\r\n\t},\r\n\tsturdyfire: {\r\n\t\tonTryHit(pokemon, target, move) {\r\n\t\t\tif (move.ohko) {\r\n\t\t\t\tthis.add('-immune', pokemon, '[from] ability: Sturdy Fire');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tif (target !== source && move.type === 'Fire') {\r\n\t\t\t\tmove.accuracy = true;\r\n\t\t\t\tif (!target.addVolatile('sturdyfire')) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Sturdy Fire');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonDamagePriority: -30,\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (target.hp === target.maxhp && damage >= target.hp && effect && effect.effectType === 'Move') {\r\n\t\t\t\tthis.add('-ability', target, 'Sturdy Fire');\r\n\t\t\t\treturn target.hp - 1;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tpokemon.removeVolatile('sturdyfire');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true, \r\n\t\t\tonStart(target) {\r\n\t\t\t\tthis.add('-start', target, 'ability: Sturdy Fire');\r\n\t\t\t},\r\n\t\t\tonModifyAtkPriority: 5,\r\n\t\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\t\tif (move.type === 'Fire' && attacker.hasAbility('sturdyfire')) {\r\n\t\t\t\t\tthis.debug('Sturdy Fire boost');\r\n\t\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonModifySpAPriority: 5,\r\n\t\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\t\tif (move.type === 'Fire' && attacker.hasAbility('sturdyfire')) {\r\n\t\t\t\t\tthis.debug('Sturdy Fire boost');\r\n\t\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonEnd(target) {\r\n\t\t\t\tthis.add('-end', target, 'ability: Sturdy Fire', '[silent]');\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Sturdy Fire\",\r\n\t\tshortDesc: \"Sturdy + Flash Fire\",\r\n\t},\r\n\tdeeptoxin: {\r\n\t\tonModifyMove(move) {\r\n\t\t\tmove.infiltrates = true;\r\n\t\t},\r\n\t\t// implement corrosion effect in scripts.ts\r\n\t\tflags: {},\r\n\t\tname: \"Deep Toxin\",\r\n\t\tshortDesc: \"Corrosion + Infiltrator\",\r\n\t},\r\n\tclueless: {\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && target.isAlly(source) && move.category !== 'Status') {\r\n\t\t\t\tthis.add('-activate', target, 'ability: Clueless');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tif (move.id === 'attract' || move.id === 'captivate' || move.id === 'taunt') {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Clueless');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.volatiles['attract']) {\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Clueless');\r\n\t\t\t\tpokemon.removeVolatile('attract');\r\n\t\t\t\tthis.add('-end', pokemon, 'move: Attract', '[from] ability: Clueless');\r\n\t\t\t}\r\n\t\t\tif (pokemon.volatiles['taunt']) {\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Clueless');\r\n\t\t\t\tpokemon.removeVolatile('taunt');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonImmunity(type, pokemon) {\r\n\t\t\tif (type === 'attract') return false;\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (boost.atk && ['Intimidate', 'Underestimate', 'Migrate', 'Incorporate', 'Hunger Fate', 'Eliminate', 'Dominate', 'Obliterate',\r\n\t\t\t\t  'Sea Monster', 'Inflame', 'Brave Look', 'Venom Glare'].includes(effect.name)) {\r\n\t\t\t\tdelete boost.atk;\r\n\t\t\t\tthis.add('-fail', target, 'unboost', 'Attack', '[from] ability: Clueless', '[of] ' + target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Clueless\",\r\n\t\tshortDesc: \"Oblivious + Telepathy\",\r\n\t},\r\n\teerieflames: {\r\n\t\tonTryHitPriority: 1,\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target === source || move.hasBounced || !move.flags['reflectable']) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst newMove = this.dex.getActiveMove(move.id);\r\n\t\t\tnewMove.hasBounced = true;\r\n\t\t\tnewMove.pranksterBoosted = false;\r\n\t\t\tthis.actions.useMove(newMove, target, source);\r\n\t\t\ttarget.addVolatile('eerieflame');\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\tonAllyTryHitSide(target, source, move) {\r\n\t\t\tif (target.isAlly(source) || move.hasBounced || !move.flags['reflectable']) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst newMove = this.dex.getActiveMove(move.id);\r\n\t\t\tnewMove.hasBounced = true;\r\n\t\t\tnewMove.pranksterBoosted = false;\r\n\t\t\tthis.actions.useMove(newMove, this.effectState.target, source);\r\n\t\t\ttarget.addVolatile('eerieflame');\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tduration: 1,\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Eerie Flames\",\r\n\t\tshortDesc: \"Bounces back certain status moves. Flash Fire boost when it does.\",\r\n\t},\r\n\tguardsup: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tfor (const target of pokemon.foes()) {\r\n\t\t\t\tfor (const moveSlot of target.moveSlots) {\r\n\t\t\t\t\tconst move = this.dex.moves.get(moveSlot.move);\r\n\t\t\t\t\tif (['reflect', 'lightscreen', 'auroraveil', 'substitute'].includes(move.id)) {\r\n\t\t\t\t\t\tthis.add('-ability', pokemon, 'Guards Up');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Guards Up\",\r\n\t\tshortDesc: \"This Pokemon shudders if any foe has Reflect/Light Screen/Aurora Veil/Substitute.\",\r\n\t},\r\n\thealingburns: {\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tfor (const allyActive of target.adjacentAllies()) {\r\n\t\t\t\tif (this.checkMoveMakesContact(move, source, allyActive) && allyActive.status && this.randomChance(3, 10)) {\r\n\t\t\t\t\tthis.add('-activate', target, 'ability: Healing Burns');\r\n\t\t\t\t\tallyActive.cureStatus();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonResidualOrder: 5,\r\n\t\tonResidualSubOrder: 3,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tfor (const allyActive of pokemon.adjacentAllies()) {\r\n\t\t\t\tif (allyActive.status && this.randomChance(3, 10)) {\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Healing Burns');\r\n\t\t\t\t\tallyActive.cureStatus();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Healing Burns\",\r\n\t\tshortDesc: \"30% chance to heal ally's status each turn or if they get hit by a contact move.\",\r\n\t},\r\n\tsmellytouch: {\r\n\t\tonSourceDamagingHit(damage, target, source, move) {\r\n\t\t\tif (target.hasAbility('shielddust') || target.hasItem('covertcloak')) return;\r\n\t\t\tconst targetAbility = target.getAbility();\r\n\t\t\tif (targetAbility.flags['cantsuppress'] || targetAbility.id === 'smellytouch') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (this.checkMoveMakesContact(move, target, source) && this.randomChance(3, 10)) {\r\n\t\t\t\tconst oldAbility = target.setAbility('smellytouch', source);\r\n\t\t\t\tif (oldAbility) {\r\n\t\t\t\t\tthis.add('-activate', source, 'ability: Smelly Touch', this.dex.abilities.get(oldAbility).name, '[of] ' + target);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Smelly Touch\",\r\n\t\tshortDesc: \"This Pokemon's contact moves have a 30% chance of replacing the target's ability with Smelly Touch.\",\r\n\t},\r\n\tberryfeast: {\r\n\t\tonStart(pokemon) { // add gluttony effects in items.ts\r\n\t\t\tpokemon.abilityState.gluttony = true;\r\n\t\t},\r\n\t\tonDamage(item, pokemon) {\r\n\t\t\tpokemon.abilityState.gluttony = true;\r\n\t\t},\r\n\t\tonAfterUseItem(item, pokemon) {\r\n\t\t\tif (pokemon !== this.effectState.target) return;\r\n\t\t\tpokemon.addVolatile('berryfeast');\r\n\t\t},\r\n\t\tonTakeItem(item, pokemon) {\r\n\t\t\tpokemon.addVolatile('berryfeast');\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tpokemon.removeVolatile('berryfeast');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tonModifySpe(spe, pokemon) {\r\n\t\t\t\tif (!pokemon.item && !pokemon.ignoringAbility()) {\r\n\t\t\t\t\treturn this.chainModify(2);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Berry Feast\",\r\n\t\tshortDesc: \"Gluttony + Unburden\",\r\n\t},\r\n\tthickpressure: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.add('-ability', pokemon, 'Thick Pressure');\r\n\t\t},\r\n\t\tonDeductPP(target, source) {\r\n\t\t\tif (target.isAlly(source)) return;\r\n\t\t\treturn 1;\r\n\t\t},\r\n\t\tonSourceModifyAtkPriority: 6,\r\n\t\tonSourceModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Ice' || move.type === 'Fire') {\r\n\t\t\t\tthis.debug('Thick Pressure weaken');\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceModifySpAPriority: 5,\r\n\t\tonSourceModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Ice' || move.type === 'Fire') {\r\n\t\t\t\tthis.debug('Thick Pressure weaken');\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Thick Pressure\",\r\n\t\tshortDesc: \"Thick Fat + Pressure\",\r\n\t},\r\n\tincorporate: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const target of pokemon.adjacentFoes()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-ability', pokemon, 'Incorporate', 'boost');\r\n\t\t\t\t\tactivated = true;\r\n\t\t\t\t}\r\n\t\t\t\tif (target.volatiles['substitute']) {\r\n\t\t\t\t\tthis.add('-immune', target);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.boost({atk: -1}, target, pokemon, null, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryAddVolatile(status, pokemon) {\r\n\t\t\tif (status.id === 'flinch') return null;\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (boost.atk && ['Intimidate', 'Underestimate', 'Migrate', 'Incorporate', 'Hunger Fate', 'Eliminate', 'Dominate', 'Obliterate',\r\n\t\t\t\t  'Sea Monster', 'Inflame', 'Brave Look', 'Venom Glare'].includes(effect.name)) {\r\n\t\t\t\tdelete boost.atk;\r\n\t\t\t\tthis.add('-fail', target, 'unboost', 'Attack', '[from] ability: Incorporate', '[of] ' + target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Incorporate\",\r\n\t\tshortDesc: \"Intimidate + Inner Focus\",\r\n\t},\r\n\titemmeddler: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tfor (const target of pokemon.foes()) {\r\n\t\t\t\tconst source = pokemon.allies()[0];\r\n\t\t\t\tif (target.item) {\r\n\t\t\t\t\tthis.add('-item', target, target.getItem().name, '[from] ability: Item Meddler', '[of] ' + pokemon, '[identify]');\r\n\t\t\t\t\tif (!source.item) {\r\n\t\t\t\t\t\tconst myItem = target.getItem().name;\r\n\t\t\t\t\t\tif (!myItem) return;\r\n\t\t\t\t\t\tif (!pokemon.setItem(myItem)) {\r\n\t\t\t\t\t\t\tsource.item = myItem.id;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.add('-activate', source, 'ability: Item Meddler', myItem, '[of] ' + pokemon);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Item Meddler\",\r\n\t\tshortDesc: \"Identifies all foes' items and gives one to its ally if they don't have one.\",\r\n\t},\r\n\tmindalign: {\r\n\t\tonTryHitPriority: 1,\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && (move.type === 'Grass' || (target.isAlly(source) && move.category !== 'Status'))) {\r\n\t\t\t\tif (!this.boost({atk: 1})) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Mind Align');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAllyTryHitSide(target, source, move) {\r\n\t\t\tif (source === this.effectState.target || !target.isAlly(source)) return;\r\n\t\t\tif (move.type === 'Grass') {\r\n\t\t\t\tthis.boost({atk: 1}, this.effectState.target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Mind Align\",\r\n\t\tshortDesc: \"Attack is raised 1 stage if hit by a Grass move or ally's moves; Grass & Ally move immunity.\",\r\n\t},\r\n\tscavenge: {\r\n\t\tshortDesc: \"This Pokemon's heals 33% of its HP after KOing a foe or eating a berry.\",\r\n\t\tonSourceAfterFaint(length, target, source, effect) {\r\n\t\t\tif (effect && effect.effectType === 'Move') {\r\n\t\t\t\tthis.add('-activate', source, 'ability: Scavenge');\r\n\t\t\t\tthis.heal(length * source.baseMaxhp / 3, source, source, effect);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEatItem(item, pokemon) {\r\n\t\t\tthis.heal(pokemon.baseMaxhp / 3);\r\n\t\t},\r\n\t\tname: \"Scavenge\",\r\n\t\trating: 3.5,\r\n\t},\r\n\thungerfate: {\r\n\t\tonStart(pokemon) { // add gluttony effects later\r\n\t\t\tpokemon.abilityState.gluttony = true;\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const target of pokemon.adjacentFoes()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-ability', pokemon, 'Incorporate', 'boost');\r\n\t\t\t\t\tactivated = true;\r\n\t\t\t\t}\r\n\t\t\t\tif (target.volatiles['substitute']) {\r\n\t\t\t\t\tthis.add('-immune', target);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.boost({atk: -1}, target, pokemon, null, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonDamage(item, pokemon) {\r\n\t\t\tpokemon.abilityState.gluttony = true;\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Hunger Fate\",\r\n\t\tshortDesc: \"Intimidate + Gluttony\",\r\n\t},\r\n\tparroting: {\r\n\t\t// implement dancer effects in scripts\r\n\t\tonSourceModifyDamage(damage, source, target, move) {\r\n\t\t\tif (move.flags['sound'] || move.flags['dance']) {\r\n\t\t\t\tthis.debug('Parroting weaken');\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Parroting\",\r\n\t\tshortDesc: \"Uses a dance or sound move after another Pokemon does. Takes 0.5x damage from dance and sound moves.\",\r\n\t},\r\n\ttelescopicsight: {\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (source && target === source) return;\r\n\t\t\tif (boost.accuracy && boost.accuracy < 0) {\r\n\t\t\t\tdelete boost.accuracy;\r\n\t\t\t\tif (!(effect as ActiveMove).secondaries) {\r\n\t\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"accuracy\", \"[from] ability: Telescopic Sight\", \"[of] \" + target);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyMove(move) {\r\n\t\t\tmove.ignoreEvasion = true;\r\n\t\t},\r\n\t\tonModifyDamage(damage, source, target, move) {\r\n\t\t\tif (target.getMoveHitData(move).crit) {\r\n\t\t\t\tthis.debug('Telescopic Sight boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Telescopic Sight\",\r\n\t\tshortDesc: \"Keen Eye + Sniper\",\r\n\t},\r\n\tslowbugs: {\r\n\t\tonFractionalPriorityPriority: -1,\r\n\t\tonFractionalPriority(priority, pokemon, target, move) {\r\n\t\t\tif (move.type === 'Bug') {\r\n\t\t\t\treturn -0.1;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Bug') {\r\n\t\t\t\tthis.debug('Slow Bugs boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpAPriority: 5,\r\n\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Bug') {\r\n\t\t\t\tthis.debug('Slow Bugs boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Slow Bugs\",\r\n\t\tshortDesc: \"User's Bug moves deal 1.5x damage, but move last in their priority bracket.\",\r\n\t},\r\n\tnightlyjokes: {\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (move.category === 'Status' && target !== source) {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Nightly Jokes');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyPriority(priority, pokemon, target, move) {\r\n\t\t\tif (move?.category === 'Status') {\r\n\t\t\t\tmove.pranksterBoosted = true; // add dark-type prankster immunity in scripts\r\n\t\t\t\treturn priority + 1;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Nightly Jokes\",\r\n\t\tshortDesc: \"This Pokemon is immune to status moves and its own have +1 priority.\",\r\n\t},\r\n\tsupercharmingsyrup: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tif (pokemon.syrupTriggered) return;\r\n\t\t\tpokemon.syrupTriggered = true;\r\n\t\t\tthis.add('-ability', pokemon, 'Supercharming Syrup');\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const target of pokemon.adjacentFoes()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-ability', pokemon, 'Supersweet Syrup', 'boost');\r\n\t\t\t\t\tactivated = true;\r\n\t\t\t\t\tthis.add('-ability', pokemon, 'Supercharming Syrup', '[silent]');\r\n\t\t\t\t}\r\n\t\t\t\tif (target.volatiles['substitute']) {\r\n\t\t\t\t\tthis.add('-immune', target);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.boost({evasion: -1}, target, pokemon, null, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (this.checkMoveMakesContact(move, source, target) && this.randomChance(3, 10)) {\r\n\t\t\t\tthis.add('-ability', target, 'Supercharming Syrup');\r\n\t\t\t\tthis.boost({evasion: -1}, source, target, null, true);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Supercharming Syrup\",\r\n\t\tshortDesc: \"Lowers the foe's evasiveness on switch once per battle. 30% chance to lower the evasiveness of foes making contact.\",\r\n\t},\r\n\tmagicsticks: {\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (effect.effectType !== 'Move') {\r\n\t\t\t\tif (effect.effectType === 'Ability') this.add('-activate', source, 'ability: ' + effect.name);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTakeItem(item, pokemon, source) {\r\n\t\t\tif (!this.activeMove) throw new Error(\"Battle.activeMove is null\");\r\n\t\t\tif (!pokemon.hp || pokemon.item === 'stickybarb') return;\r\n\t\t\tif ((source && source !== pokemon) || this.activeMove.id === 'knockoff') {\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Magic Sticks');\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Magic Sticks\",\r\n\t\tshortDesc: \"Sticky Hold + Magic Guard\",\r\n\t},\r\n\trecollect: {\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tpokemon.heal(pokemon.baseMaxhp / 3);\r\n\t\t},\r\n\t\tonAnyModifyBoost(boosts, pokemon) {\r\n\t\t\tconst unawareUser = this.effectState.target;\r\n\t\t\tif (unawareUser === pokemon) return;\r\n\t\t\tif (unawareUser === this.activePokemon) {\r\n\t\t\t\tif (pokemon === this.activeTarget) {\r\n\t\t\t\t\tboosts['def'] = 0;\r\n\t\t\t\t\tboosts['spd'] = 0;\r\n\t\t\t\t\tboosts['evasion'] = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (pokemon === this.activePokemon && unawareUser === this.activeTarget) {\r\n\t\t\t\tboosts['atk'] = 0;\r\n\t\t\t\tboosts['def'] = 0;\r\n\t\t\t\tboosts['spa'] = 0;\r\n\t\t\t\tboosts['accuracy'] = 0;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Recollect\",\r\n\t\tshortDesc: \"Regenerator + Unaware\",\r\n\t},\r\n\tsurgeoneye: {\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tpokemon.heal(pokemon.baseMaxhp / 3);\r\n\t\t},\r\n\t\tonBasePowerPriority: 21,\r\n\t\tonBasePower(basePower, pokemon) {\r\n\t\t\tfor (const target of this.getAllActive()) {\r\n\t\t\t\tif (target !== pokemon && this.queue.willMove(target)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.debug('Surgeon Eye boost');\r\n\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Surgeon Eye\",\r\n\t\tshortDesc: \"Regenerator + Analytic\",\r\n\t},\r\n\tneutralpolarity: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tfor (const foe of pokemon.adjacentFoes()) {\r\n\t\t\t\tif (foe.hasType('Steel')) {\r\n\t\t\t\t\tfoe.clearBoosts();\r\n\t\t\t\t\tthis.add('-clearboost', foe, '[from] ability: Neutral Polarity', '[of] ' + pokemon);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Neutral Polarity\",\r\n\t\tshortDesc: \"On switch-in, opposing Steel-types have their stat changes reset.\",\r\n\t},\r\n\ttoughbrains: {\r\n\t\tonTryHit(pokemon, target, move) {\r\n\t\t\tif (move.ohko) {\r\n\t\t\t\tthis.add('-immune', pokemon, '[from] ability: Tough Brains');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonDamagePriority: -30,\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (target.hp === target.maxhp && damage >= target.hp && effect && effect.effectType === 'Move') {\r\n\t\t\t\tthis.add('-ability', target, 'Tough Brains');\r\n\t\t\t\treturn target.hp - 1;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.volatiles['confusion']) {\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Tough Brains');\r\n\t\t\t\tpokemon.removeVolatile('confusion');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryAddVolatile(status, pokemon) {\r\n\t\t\tif (status.id === 'confusion') return null;\r\n\t\t},\r\n\t\tonHit(target, source, move) {\r\n\t\t\tif (move?.volatileStatus === 'confusion') {\r\n\t\t\t\tthis.add('-immune', target, 'confusion', '[from] ability: Tough Brains');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (boost.atk && ['Intimidate', 'Underestimate', 'Migrate', 'Incorporate', 'Hunger Fate', 'Eliminate', 'Dominate', 'Obliterate',\r\n\t\t\t\t  'Sea Monster', 'Inflame', 'Brave Look', 'Venom Glare'].includes(effect.name)) {\r\n\t\t\t\tdelete boost.atk;\r\n\t\t\t\tthis.add('-fail', target, 'unboost', 'Attack', '[from] ability: Tough Brains', '[of] ' + target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Tough Brains\",\r\n\t\tshortDesc: \"Sturdy + Own Tempo\",\r\n\t},\r\n\tallseeing: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tfor (const target of pokemon.foes()) {\r\n\t\t\t\tif (target.item) {\r\n\t\t\t\t\tthis.add('-item', target, target.getItem().name, '[from] ability: All-Seeing', '[of] ' + pokemon, '[identify]');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyInvulnerabilityPriority: 1,\r\n\t\tonAnyInvulnerability(target, source, move) {\r\n\t\t\tif (move && (source === this.effectState.target || target === this.effectState.target)) return 0;\r\n\t\t},\r\n\t\tonAnyAccuracy(accuracy, target, source, move) {\r\n\t\t\tif (move && (source === this.effectState.target || target === this.effectState.target)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn accuracy;\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"All-Seeing\",\r\n\t\tshortDesc: \"Frisk + No Guard\",\r\n\t},\r\n\ttuffclaws: {\r\n\t\tonBasePowerPriority: 21,\r\n\t\tonBasePower(basePower, attacker, defender, move) {\r\n\t\t\tif (move.flags['contact']) {\r\n\t\t\t\treturn this.chainModify([4915, 4096]);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Tuff Claws\",\r\n\t\trating: 3,\r\n\t\tshortDesc: \"This Pokemon's contact moves deal 1.2x damage.\",\r\n\t},\r\n\tmalfunction: {\r\n\t\tonAfterEachBoost(boost, target, source, effect) {\r\n\t\t\tif (!source || target.isAlly(source)) {\r\n\t\t\t\tif (effect.id === 'stickyweb') {\r\n\t\t\t\t\tthis.hint(\"Court Change Sticky Web counts as lowering your own Speed, and Malfunction only affects stats lowered by foes.\", true, source.side);\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet i: BoostID;\r\n\t\t\tfor (i in boost) {\r\n\t\t\t\tif (boost[i]! < 0) {\r\n\t\t\t\t\tsource.addVolatile('embargo');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Malfunction\",\r\n\t\tshortDesc: \"Foes that lower this Pokemon's stats lose the effects of their item until they switch out.\",\r\n\t},\r\n\tsirocco: {\r\n\t\tonModifyMove(move, pokemon) {\r\n\t\t\tif (move.secondaries) {\r\n\t\t\t\tdelete move.secondaries;\r\n\t\t\t\tdelete move.self;\r\n\t\t\t\tif (move.id === 'clangoroussoulblaze') delete move.selfBoost;\r\n\t\t\t\tmove.hasSheerForce = true;\r\n\t\t\t}\r\n\t\t}, // add life orb damaging immunity in scripts\r\n\t\tonBasePowerPriority: 21,\r\n\t\tonBasePower(basePower, pokemon, target, move) {\r\n\t\t\tif (move.hasSheerForce) return this.chainModify([5325, 4096]);\r\n\t\t},\r\n\t\tonStart(pokemon) {\r\n\t\t\tif (pokemon.side.sideConditions['tailwind']) {\r\n\t\t\t\tthis.boost({atk: 1}, pokemon, pokemon);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.flags['wind']) {\r\n\t\t\t\tif (!this.boost({atk: 1}, target, target)) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Sirocco');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAllySideConditionStart(target, source, sideCondition) {\r\n\t\t\tconst pokemon = this.effectState.target;\r\n\t\t\tif (sideCondition.id === 'tailwind') {\r\n\t\t\t\tthis.boost({atk: 1}, pokemon, pokemon);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Sirocco\",\r\n\t\tshortDesc: \"Sheer Force + Wind Rider\",\r\n\t},\r\n\tsunbathe: {\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (['sunnyday', 'desolateland'].includes(pokemon.effectiveWeather())) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceModifyAccuracyPriority: -1,\r\n\t\tonSourceModifyAccuracy(accuracy) {\r\n\t\t\tif (typeof accuracy !== 'number') return;\r\n\t\t\tif (this.field.isWeather('sunnyday') || this.field.isWeather('desolateland')) {\r\n\t\t\t\tthis.debug('sunbathe - enhancing accuracy');\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Sun Bathe\",\r\n\t\tshortDesc: \"In Sun, this Pokemon's Speed and Accuracy are doubled.\",\r\n\t},\r\n\tcombative: {\r\n\t\tonAfterEachBoost(boost, target, source, effect) {\r\n\t\t\tif (!source || target.isAlly(source)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet statsLowered = false;\r\n\t\t\tlet i: BoostID;\r\n\t\t\tfor (i in boost) {\r\n\t\t\t\tif (boost[i]! < 0) {\r\n\t\t\t\t\tstatsLowered = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (statsLowered) {\r\n\t\t\t\tthis.boost({atk: 2}, target, target, null, false, true);\r\n\t\t\t\tif (target.item || target.switchFlag || target.forceSwitchFlag || source.switchFlag === true) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst yourItem = source.takeItem(target);\r\n\t\t\t\tif (!yourItem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!target.setItem(yourItem)) {\r\n\t\t\t\t\tsource.item = yourItem.id;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.add('-enditem', source, yourItem, '[silent]', '[from] ability: Combative', '[of] ' + source);\r\n\t\t\t\tthis.add('-item', target, yourItem, '[from] ability: Combative', '[of] ' + source);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Combative\",\r\n\t\tshortDesc: \"If a foe lowers this Pokemon's stats, this Pokemon steals its item and gains +2 Attack.\",\r\n\t},\r\n\teliminate: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const target of pokemon.adjacentFoes()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-ability', pokemon, 'Eliminate', 'boost');\r\n\t\t\t\t\tactivated = true;\r\n\t\t\t\t}\r\n\t\t\t\tif (target.volatiles['substitute']) {\r\n\t\t\t\t\tthis.add('-immune', target);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.boost({atk: -1}, target, pokemon, null, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (source && target === source) return;\r\n\t\t\tif (boost.atk && boost.atk < 0) {\r\n\t\t\t\tdelete boost.atk;\r\n\t\t\t\tif (!(effect as ActiveMove).secondaries) {\r\n\t\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"Attack\", \"[from] ability: Eliminate\", \"[of] \" + target);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Eliminate\",\r\n\t\tshortDesc: \"Effects of Intimidate and Hyper Cutter.\",\r\n\t},\r\n\toasislunch: {\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (this.field.isWeather('sandstorm')) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonImmunity(type, pokemon) {\r\n\t\t\tif (type === 'sandstorm') return false;\r\n\t\t},\r\n\t\tonEatItem(item, pokemon) {\r\n\t\t\tif (item.isBerry && pokemon.addVolatile('oasislunch')) {\r\n\t\t\t\tpokemon.volatiles['oasislunch'].berry = item;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tdelete pokemon.volatiles['oasislunch'];\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true,\r\n\t\t\tduration: 2,\r\n\t\t\tonRestart() {\r\n\t\t\t\tthis.effectState.duration = 2;\r\n\t\t\t},\r\n\t\t\tonResidualOrder: 28,\r\n\t\t\tonResidualSubOrder: 2,\r\n\t\t\tonEnd(pokemon) {\r\n\t\t\t\tif (pokemon.hp) {\r\n\t\t\t\t\tconst item = this.effectState.berry;\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Oasis Lunch');\r\n\t\t\t\t\tthis.add('-enditem', pokemon, item.name, '[eat]');\r\n\t\t\t\t\tif (this.singleEvent('Eat', item, null, pokemon, null, null)) {\r\n\t\t\t\t\t\tthis.runEvent('EatItem', pokemon, null, null, item);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (item.onEat) pokemon.ateBerry = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Oasis Lunch\",\r\n\t\tshortDesc: \"Cud Chew + Sand Rush\",\r\n\t},\r\n\tfightingfury: {\r\n\t\tonFlinch(pokemon) {\r\n\t\t\tthis.boost({atk: 1});\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Fighting Fury\",\r\n\t\tshortDesc: \"If this Pokemon flinches, it gains +1 Attack.\",\r\n\t},\r\n\tdominate: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const target of pokemon.adjacentFoes()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-ability', pokemon, 'Dominate', 'boost');\r\n\t\t\t\t\tactivated = true;\r\n\t\t\t\t}\r\n\t\t\t\tif (target.volatiles['substitute']) {\r\n\t\t\t\t\tthis.add('-immune', target);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.boost({atk: -1}, target, pokemon, null, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyInvulnerabilityPriority: 1,\r\n\t\tonAnyInvulnerability(target, source, move) {\r\n\t\t\tif (move && (source === this.effectState.target || target === this.effectState.target)) return 0;\r\n\t\t},\r\n\t\tonAnyAccuracy(accuracy, target, source, move) {\r\n\t\t\tif (move && (source === this.effectState.target || target === this.effectState.target)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn accuracy;\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Dominate\",\r\n\t\tshortDesc: \"Intimidate + No Guard\",\r\n\t},\r\n\tnightsnack: {\r\n\t\tonEatItem(item, pokemon) {\r\n\t\t\tif (item.isBerry && pokemon.addVolatile('nightsnack')) {\r\n\t\t\t\tpokemon.volatiles['nightsnack'].berry = item;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tdelete pokemon.volatiles['nightsnack'];\r\n\t\t},\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.status === 'slp') {\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Night Snack');\r\n\t\t\t\tpokemon.cureStatus();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSetStatus(status, target, source, effect) {\r\n\t\t\tif (status.id !== 'slp') return;\r\n\t\t\tif ((effect as Move)?.status) {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Night Snack');\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonTryAddVolatile(status, target) {\r\n\t\t\tif (status.id === 'yawn') {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Night Snack');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true,\r\n\t\t\tduration: 2,\r\n\t\t\tonRestart() {\r\n\t\t\t\tthis.effectState.duration = 2;\r\n\t\t\t},\r\n\t\t\tonResidualOrder: 28,\r\n\t\t\tonResidualSubOrder: 2,\r\n\t\t\tonEnd(pokemon) {\r\n\t\t\t\tif (pokemon.hp) {\r\n\t\t\t\t\tconst item = this.effectState.berry;\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Night Snack');\r\n\t\t\t\t\tthis.add('-enditem', pokemon, item.name, '[eat]');\r\n\t\t\t\t\tif (this.singleEvent('Eat', item, null, pokemon, null, null)) {\r\n\t\t\t\t\t\tthis.runEvent('EatItem', pokemon, null, null, item);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (item.onEat) pokemon.ateBerry = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Night Snack\",\r\n\t\tshortDesc: \"Cud Chew + Insomnia\",\r\n\t},\r\n\trustlerage: {\r\n\t\tonHit(target, source, move) {\r\n\t\t\tif (!target.hp) return;\r\n\t\t\tif (move?.effectType === 'Move' && target.getMoveHitData(move).crit) {\r\n\t\t\t\tthis.boost({atk: 12}, target, target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (source && target === source) return;\r\n\t\t\tif (boost.atk && boost.atk < 0) {\r\n\t\t\t\tdelete boost.atk;\r\n\t\t\t\tif (!(effect as ActiveMove).secondaries) {\r\n\t\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"Attack\", \"[from] ability: Rustle Rage\", \"[of] \" + target);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Rustle Rage\",\r\n\t\tshortDesc: \"Effects of Anger Point and Hyper Cutter.\",\r\n\t},\r\n\tobliterate: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const target of pokemon.adjacentFoes()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-ability', pokemon, 'Obliterate', 'boost');\r\n\t\t\t\t\tactivated = true;\r\n\t\t\t\t}\r\n\t\t\t\tif (target.volatiles['substitute']) {\r\n\t\t\t\t\tthis.add('-immune', target);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.boost({atk: -1}, target, pokemon, null, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBasePowerPriority: 21,\r\n\t\tonBasePower(basePower, attacker, defender, move) {\r\n\t\t\tif (move.flags['contact']) {\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Obliterate\",\r\n\t\tshortDesc: \"Intimidate + Tough Claws\",\r\n\t},\r\n\tleafcoat: {\r\n\t\tonImmunity(type, pokemon) {\r\n\t\t\tif (type === 'sandstorm' || type === 'hail' || type === 'powder') return false;\r\n\t\t},\r\n\t\tonSetStatus(status, target, source, effect) {\r\n\t\t\tif ((effect as Move)?.status) {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Leaf Coat');\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonTryHitPriority: 1,\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (move.flags['powder'] && target !== source && this.dex.getImmunity('powder', target)) {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Leaf Coat');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Leaf Coat\",\r\n\t\tshortDesc: \"This Pokemon is immune to status conditions, powder moves, weather damage, and Effect Spore.\",\r\n\t},\r\n\tunfiltered: {\r\n\t\tonSourceModifyDamage(damage, source, target, move) {\r\n\t\t\tif (target.getMoveHitData(move).typeMod > 0) {\r\n\t\t\t\tthis.debug('Unfiltered neutralize');\r\n\t\t\t\treturn this.chainModify(0.75);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonChangeBoost(boost, target, source, effect) {\r\n\t\t\tif (effect && effect.id === 'zpower') return;\r\n\t\t\tlet i: BoostID;\r\n\t\t\tfor (i in boost) {\r\n\t\t\t\tboost[i]! *= -1;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Unfiltered\",\r\n\t\tshortDesc: \"Contrary + Filter\",\r\n\t},\r\n\tclumpingup: {\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Water') {\r\n\t\t\t\tif (this.boost({def: 2})) {\r\n\t\t\t\t\tthis.heal(target.baseMaxhp / 4);\r\n\t\t\t\t} else if (!this.heal(target.baseMaxhp / 4)) {\r\n\t\t\t\t\t//Heal is attempted regardless of whether defense boost goes through\r\n\t\t\t\t\t//The message shows up if neither the defense boost nor the healing goes through\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Clumping Up');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Clumping Up\",\r\n\t\tshortDesc: \"Water Compaction + Water Absorb\",\r\n\t},\r\n\tdissolution: {\r\n\t\tonModifyAccuracyPriority: -1,\r\n\t\tonModifyAccuracy(accuracy) {\r\n\t\t\tif (typeof accuracy === 'number' && this.field.isWeather('raindance')) {\r\n\t\t\t\tthis.debug('Dissolution - decreasing accuracy');\r\n\t\t\t\treturn this.chainModify([3277, 4096]);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Dissolution\",\r\n\t\tshortDesc: \"If Rain is active, this Pokemon's evasiveness is 1.25x.\",\r\n\t},\r\n\thydrostaticpressure: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.add('-ability', pokemon, 'Hydrostatic Pressure');\r\n\t\t},\r\n\t\tonDeductPP(target, source) {\r\n\t\t\tif (target.isAlly(source)) return;\r\n\t\t\treturn 1;\r\n\t\t},\r\n\t\tonBasePowerPriority: 19,\r\n\t\tonBasePower(basePower, attacker, defender, move) {\r\n\t\t\tif (move.flags['pulse']) {\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Hydrostatic Pressure\",\r\n\t\tshortDesc: \"Pressure + Mega Launcher\",\r\n\t},\r\n\tgerminate: {\r\n\t\tonAfterUseItem(item, pokemon) {\r\n\t\t\tif (pokemon !== this.effectState.target) return;\r\n\t\t\tpokemon.addVolatile('germinate');\r\n\t\t},\r\n\t\tonTakeItem(item, pokemon) {\r\n\t\t\tpokemon.addVolatile('germinate');\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tpokemon.removeVolatile('germinate');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tonModifyAtkPriority: 5,\r\n\t\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\t\tif (move.type === 'Grass') {\r\n\t\t\t\t\tthis.debug('Germinate boost');\r\n\t\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonModifySpAPriority: 5,\r\n\t\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\t\tif (move.type === 'Grass') {\r\n\t\t\t\t\tthis.debug('Germinate boost');\r\n\t\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonModifySpe(spe, pokemon) {\r\n\t\t\t\tif (!pokemon.item && !pokemon.ignoringAbility()) {\r\n\t\t\t\t\treturn this.chainModify(2);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Germinate\",\r\n\t\tshortDesc: \"This Pokemon's Speed is doubled and its Grass moves deal 1.5x damage after losing its item.\",\r\n\t},\r\n\tsacrifice: {\r\n\t\tonFaint(pokemon) {\r\n\t\t\tpokemon.side.addSlotCondition(pokemon, 'sacrifice');\r\n\t\t},\r\n\t   condition: {\r\n\t\t\tonSwap(target) {\r\n\t\t\t\t if (!target.fainted) {\r\n\t\t\t\t\t  const source = this.effectState.source;\r\n\t\t\t\t\t  const damage = this.heal(target.baseMaxhp / 4, target, target);\r\n\t\t\t\t\t  if (damage) this.add('-heal', target, target.getHealth, '[from] ability: Sacrifice', '[of] ' + this.effectState.source);\r\n\t\t\t\t\t  target.side.removeSlotCondition(target, 'sacrifice');\r\n\t\t\t\t }\r\n\t\t\t},\r\n\t   },\r\n\t\tname: \"Sacrifice\",\r\n\t\tshortDesc: \"When this Pokemon faints, the replacement is healed by 1/4 of its max HP.\",\r\n\t},\r\n\tsunlitflight: {\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (['sunnyday', 'desolateland'].includes(pokemon.effectiveWeather())) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\t// add levitate effects in scripts\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Sunlit Flight\",\r\n\t\tshortDesc: \"Levitate + Chlorophyll\",\r\n\t},\r\n\telectricdust: {\r\n\t\tonModifySecondaries(secondaries) {\r\n\t\t\tthis.debug('Electric Dust prevent secondary');\r\n\t\t\treturn secondaries.filter(effect => !!(effect.self || effect.dustproof));\r\n\t\t},\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Electric') {\r\n\t\t\t\tif (!this.boost({spe: 1})) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Electric Dust');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Electric Dust\",\r\n\t\tshortDesc: \"Shield Dust + Motor Drive\",\r\n\t},\r\n\tvitalscales: {\r\n\t\tonSourceModifyDamage(damage, source, target, move) {\r\n\t\t\tif (move.category === 'Special') {\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.status === 'slp') {\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Vital Scales');\r\n\t\t\t\tpokemon.cureStatus();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSetStatus(status, target, source, effect) {\r\n\t\t\tif (status.id !== 'slp') return;\r\n\t\t\tif ((effect as Move)?.status) {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Vital Scales');\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonTryAddVolatile(status, target) {\r\n\t\t\tif (status.id === 'yawn') {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Vital Scales');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Vital Scales\",\r\n\t\tshortDesc: \"Ice Scales + Vital Spirit\",\r\n\t},\r\n\tcareless: {\r\n\t\tonBasePowerPriority: 23,\r\n\t\tonBasePower(basePower, attacker, defender, move) {\r\n\t\t\tif (move.recoil || move.hasCrashDamage) {\r\n\t\t\t\tthis.debug('Careless boost');\r\n\t\t\t\treturn this.chainModify([4915, 4096]);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, pokemon) {\r\n\t\t\tif (pokemon.status) {\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Careless\",\r\n\t\tshortDesc: \"Reckless + Guts\", // add guts burn drop immunity in scripts\r\n\t},\r\n\tlithoproof: {\r\n\t\tonSourceModifyDamage(damage, source, target, move) {\r\n\t\t\tif (target.getMoveHitData(move).typeMod > 0) {\r\n\t\t\t\tthis.debug('Lithoproof neutralize');\r\n\t\t\t\treturn this.chainModify(0.75);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryHit(pokemon, target, move) {\r\n\t\t\tif (move.flags['bullet']) {\r\n\t\t\t\tthis.add('-immune', pokemon, '[from] ability: Lithoproof');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Lithoproof\",\r\n\t\tshortDesc: \"Solid Rock + Bulletproof\",\r\n\t},\r\n\tshockhorror: {\r\n\t\tonPreStart(pokemon) {\r\n\t\t\tthis.add('-ability', pokemon, 'Shock Horror');\r\n\t\t\tthis.effectState.unnerved = true;\r\n\t\t},\r\n\t\tonStart(pokemon) {\r\n\t\t\tif (this.effectState.unnerved) return;\r\n\t\t\tthis.add('-ability', pokemon, 'Shock Horror');\r\n\t\t\tthis.effectState.unnerved = true;\r\n\t\t},\r\n\t\tonEnd() {\r\n\t\t\tthis.effectState.unnerved = false;\r\n\t\t},\r\n\t\tonFoeTryEatItem() {\r\n\t\t\treturn !this.effectState.unnerved;\r\n\t\t},\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Electric') {\r\n\t\t\t\tif (!this.boost({spa: 1})) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Shock Horror');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyRedirectTarget(target, source, source2, move) {\r\n\t\t\tif (move.type !== 'Electric' || move.flags['pledgecombo']) return;\r\n\t\t\tconst redirectTarget = ['randomNormal', 'adjacentFoe'].includes(move.target) ? 'normal' : move.target;\r\n\t\t\tif (this.validTarget(this.effectState.target, source, redirectTarget)) {\r\n\t\t\t\tif (move.smartTarget) move.smartTarget = false;\r\n\t\t\t\tif (this.effectState.target !== target) {\r\n\t\t\t\t\tthis.add('-activate', this.effectState.target, 'ability: Shock Horror');\r\n\t\t\t\t}\r\n\t\t\t\treturn this.effectState.target;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Shock Horror\",\r\n\t\tshortDesc: \"Lightning Rod + Unnerve\",\r\n\t},\r\n\tmovemastery: {\r\n\t\tonModifyDamage(damage, source, target, move) {\r\n\t\t\tif (!move) return;\r\n\t\t\tconst effectiveness = target.getMoveHitData(move).typeMod;\r\n\t\t\tif (effectiveness < 0) {\r\n\t\t\t\tthis.debug('Move Mastery boost');\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t} else if (effectiveness > 0) {\r\n\t\t\t\tthis.debug('Move Mastery boost');\r\n\t\t\t\treturn this.chainModify([5120, 4096]);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Move Mastery\",\r\n\t\tshortDesc: \"This Pokemon's SE moves deal 1.25x damage, and its NvE moves deal 2x damage.\",\r\n\t},\r\n\titemlockdown: {\r\n\t\tonStart(source) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const pokemon of source.side.foe.active) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-ability', source, 'Item Lockdown');\r\n\t\t\t\t\tthis.add('-item', pokemon, pokemon.getItem().name, '[from] ability: Item Lockdown', '[of] ' + source, '[identify]');\r\n\t\t\t\t}\r\n\t\t\t\tactivated = true;\r\n\t\t\t\tif (!pokemon.volatiles['embargo']) {\r\n\t\t\t\t\tpokemon.addVolatile('embargo');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnySwitchIn(pokemon) {\r\n\t\t\tconst source = this.effectState.target;\r\n\t\t\tif (pokemon === source) return;\r\n\t\t\tfor (const target of source.side.foe.active) {\r\n\t\t\t\tif (!target.volatiles['embargo']) {\r\n\t\t\t\t\ttarget.addVolatile('embargo');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tconst source = this.effectState.target;\r\n\t\t\tfor (const target of source.side.foe.active) {\r\n\t\t\t\ttarget.removeVolatile('embargo');\r\n\t\t\t}\r\n\t\t},\r\n\t\tname: \"Item Lockdown\",\r\n\t\tshortDesc: \"Identifies the foe's items on switch-in. Foes can't use their items while this Pokemon is active.\",\r\n\t},\r\n\tspeedy: {\r\n\t\tonResidualOrder: 28,\r\n\t\tonResidualSubOrder: 2,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif (pokemon.activeTurns) {\r\n\t\t\t\tthis.boost({spe: 1});\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceAfterFaint(length, target, source, effect) {\r\n\t\t\tif (effect && effect.effectType === 'Move') {\r\n\t\t\t\tthis.boost({spe: length}, source);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Speedy\",\r\n\t\tshortDesc: \"At the end of every turn and after KOing a foe, this Pokemon's Speed goes up by 1 stage.\",\r\n\t},\r\n\tseamonster: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const target of pokemon.adjacentFoes()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-ability', pokemon, 'Sea Monster', 'boost');\r\n\t\t\t\t\tactivated = true;\r\n\t\t\t\t}\r\n\t\t\t\tif (target.volatiles['substitute']) {\r\n\t\t\t\t\tthis.add('-immune', target);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.boost({atk: -1}, target, pokemon, null, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Water' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Sea Monster boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpAPriority: 5,\r\n\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Water' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Sea Monster boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Sea Monster\",\r\n\t\tshortDesc: \"Intimidate + Torrent\",\r\n\t},\r\n\tbladeedge: {\r\n\t\tonBasePowerPriority: 19,\r\n\t\tonBasePower(basePower, attacker, defender, move) {\r\n\t\t\tif (move.flags['slicing']) {\r\n\t\t\t\tthis.debug('Blade Edge boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceAfterFaint(length, target, source, effect) {\r\n\t\t\tif (effect && effect.effectType === 'Move') {\r\n\t\t\t\tthis.boost({atk: length}, source);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Blade Edge\",\r\n\t\tshortDesc: \"Moxie + Sharpness\",\r\n\t},\r\n\tarmorconfidence: {\r\n\t\tonSourceAfterFaint(length, target, source, effect) {\r\n\t\t\tif (effect && effect.effectType === 'Move') {\r\n\t\t\t\tthis.boost({atk: length}, source);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonCriticalHit: false,\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Armor Confidence\",\r\n\t\tshortDesc: \"Moxie + Shell Armor\",\r\n\t},\r\n\tjoltspores: {\r\n\t\tonStart(source) {\r\n\t\t\tthis.field.setTerrain('electricterrain');\r\n\t\t},\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tthis.field.setTerrain('electricterrain');\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Jolt Spores\",\r\n\t\tshortDesc: \"Sets Electric Terrain on switch-in or when hit by a move.\",\r\n\t},\r\n\trespark: {\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Electric') {\r\n\t\t\t\tif (!this.boost({spa: 1})) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Respark');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyRedirectTarget(target, source, source2, move) {\r\n\t\t\tif (move.type !== 'Electric' || move.flags['pledgecombo']) return;\r\n\t\t\tconst redirectTarget = ['randomNormal', 'adjacentFoe'].includes(move.target) ? 'normal' : move.target;\r\n\t\t\tif (this.validTarget(this.effectState.target, source, redirectTarget)) {\r\n\t\t\t\tif (move.smartTarget) move.smartTarget = false;\r\n\t\t\t\tif (this.effectState.target !== target) {\r\n\t\t\t\t\tthis.add('-activate', this.effectState.target, 'ability: Respark');\r\n\t\t\t\t}\r\n\t\t\t\treturn this.effectState.target;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tpokemon.heal(pokemon.baseMaxhp / 3);\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Respark\",\r\n\t\tshortDesc: \"Regenerator + Lightning Rod\",\r\n\t},\r\n\tfriendlyprank: {\r\n\t\tonAnyModifyDamage(damage, source, target, move) {\r\n\t\t\tif (target !== this.effectState.target && target.isAlly(this.effectState.target)) {\r\n\t\t\t\tthis.debug('Friendly Prank weaken');\r\n\t\t\t\treturn this.chainModify(0.75);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFoeTryMove(target, source, move) {\r\n\t\t\tconst targetAllExceptions = ['perishsong', 'flowershield', 'rototiller'];\r\n\t\t\tif (move.target === 'foeSide' || (move.target === 'all' && !targetAllExceptions.includes(move.id))) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (((target !== this.effectState.target && target.isAlly(this.effectState.target)) || move.target === 'all')\r\n\t\t\t\t && move.priority > 0.1 && move.pranksterBoosted) {\r\n\t\t\t\tthis.attrLastMove('[still]');\r\n\t\t\t\tthis.add('cant', this.effectState.target, 'ability: Friendly Prank', move, '[of] ' + target);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Friendly Prank\",\r\n\t\tshortDesc: \"This Pokemon's allies take 0.75x damage from attacks and are immune to Prankster-boosted moves.\",\r\n\t},\r\n\tberrydiet: {\r\n\t\tonEatItem(item, pokemon) {\r\n\t\t\tthis.heal(pokemon.baseMaxhp / 3);\r\n\t\t},\r\n\t\tonAfterUseItem(item, pokemon) {\r\n\t\t\tif (pokemon !== this.effectState.target) return;\r\n\t\t\tpokemon.addVolatile('berrydiet');\r\n\t\t},\r\n\t\tonTakeItem(item, pokemon) {\r\n\t\t\tpokemon.addVolatile('berrydiet');\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tpokemon.removeVolatile('berrydiet');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tonModifySpe(spe, pokemon) {\r\n\t\t\t\tif (!pokemon.item && !pokemon.ignoringAbility()) {\r\n\t\t\t\t\treturn this.chainModify(2);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Berry Diet\",\r\n\t\tshortDesc: \"Cheek Pouch + Unburden\",\r\n\t},\r\n\ttoxicologist: {\r\n\t\tonBasePowerPriority: 30,\r\n\t\tonBasePower(basePower, attacker, defender, move) {\r\n\t\t\tconst basePowerAfterMultiplier = this.modify(basePower, this.event.modifier);\r\n\t\t\tthis.debug('Base Power: ' + basePowerAfterMultiplier);\r\n\t\t\tif (basePowerAfterMultiplier <= 60) {\r\n\t\t\t\tthis.debug('Toxicologist boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceDamagingHit(damage, target, source, move) {\r\n\t\t\tif (!target.hasAbility('shielddust') && !target.hasItem('covertcloak')\r\n\t\t\t\t \t&& this.checkMoveMakesContact(move, target, source) && this.randomChance(3,10)) {\r\n\t\t\t\t\ttarget.trySetStatus('psn', source);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Toxicologist\",\r\n\t\tshortDesc: \"Poison Touch + Technician\",\r\n\t},\r\n\tinflame: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const target of pokemon.adjacentFoes()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-ability', pokemon, 'Inflame', 'boost');\r\n\t\t\t\t\tactivated = true;\r\n\t\t\t\t}\r\n\t\t\t\tif (target.volatiles['substitute']) {\r\n\t\t\t\t\tthis.add('-immune', target);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.boost({atk: -1}, target, pokemon, null, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Fire' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Inflame boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpAPriority: 5,\r\n\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Fire' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Inflame boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Inflame\",\r\n\t\tshortDesc: \"Blaze + Intimidate\",\r\n\t},\r\n\tblazingpassion: {\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Fire' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Blazing Passion boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpAPriority: 5,\r\n\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Fire' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Blazing Passion boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBasePowerPriority: 23,\r\n\t\tonBasePower(basePower, attacker, defender, move) {\r\n\t\t\tif (move.recoil || move.hasCrashDamage) {\r\n\t\t\t\tthis.debug('Blazing Passion boost');\r\n\t\t\t\treturn this.chainModify([4915, 4096]);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Blazing Passion\",\r\n\t\tshortDesc: \"Reckless + Blaze\",\r\n\t},\r\n\trevitalize: {\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (!source.volatiles['disable'] && !move.flags['futuremove'] && move.id !== 'struggle' && !move.isMax && this.randomChance(3, 10)) {\r\n\t\t\t\tsource.addVolatile('disable', this.effectState.target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tpokemon.heal(pokemon.baseMaxhp / 3);\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Revitalize\",\r\n\t\tshortDesc: \"Cursed Body + Regenerator\",\r\n\t},\r\n\tgrowinggrass: {\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (['sunnyday', 'desolateland'].includes(pokemon.effectiveWeather())) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.volatiles['confusion']) {\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Growing Grass');\r\n\t\t\t\tpokemon.removeVolatile('confusion');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryAddVolatile(status, pokemon) {\r\n\t\t\tif (status.id === 'confusion') return null;\r\n\t\t},\r\n\t\tonHit(target, source, move) {\r\n\t\t\tif (move?.volatileStatus === 'confusion') {\r\n\t\t\t\tthis.add('-immune', target, 'confusion', '[from] ability: Growing Grass');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (boost.atk && ['Intimidate', 'Underestimate', 'Migrate', 'Incorporate', 'Hunger Fate', 'Eliminate', 'Dominate', 'Obliterate',\r\n\t\t\t\t  'Sea Monster', 'Inflame', 'Brave Look', 'Venom Glare'].includes(effect.name)) {\r\n\t\t\t\tdelete boost.atk;\r\n\t\t\t\tthis.add('-fail', target, 'unboost', 'Attack', '[from] ability: Growing Grass', '[of] ' + target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Growing Grass\",\r\n\t\tshortDesc: \"Own Tempo + Chlorophyll\",\r\n\t},\r\n\thealthylunch: {\r\n\t\tonDamagingHit(damage, target, source, effect) {\r\n\t\t\tthis.boost({def: 1});\r\n\t\t},\r\n\t\tonResidualOrder: 28,\r\n\t\tonResidualSubOrder: 2,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif (this.field.isWeather(['sunnyday', 'desolateland']) || this.randomChance(1, 2)) {\r\n\t\t\t\tif (pokemon.hp && !pokemon.item && this.dex.items.get(pokemon.lastItem).isBerry) {\r\n\t\t\t\t\tpokemon.setItem(pokemon.lastItem);\r\n\t\t\t\t\tpokemon.lastItem = '';\r\n\t\t\t\t\tthis.add('-item', pokemon, pokemon.getItem(), '[from] ability: Healthy Lunch');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Healthy Lunch\",\r\n\t\tshortDesc: \"Stamina + Harvest\",\r\n\t},\r\n\tinnerpower: {\r\n\t\tonTryAddVolatile(status, target, source) {\r\n\t\t\tif (status.id === 'flinch') {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Inner Power');\r\n\t\t\t\tthis.damage(source.baseMaxhp / 8, source, target);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (boost.atk && ['Intimidate', 'Underestimate', 'Migrate', 'Incorporate', 'Hunger Fate', 'Eliminate', 'Dominate', 'Obliterate',\r\n\t\t\t\t  'Sea Monster', 'Inflame', 'Brave Look', 'Venom Glare'].includes(effect.name)) {\r\n\t\t\t\tdelete boost.atk;\r\n\t\t\t\tthis.add('-fail', target, 'unboost', 'Attack', '[from] ability: Inner Power', '[of] ' + target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Inner Power\",\r\n\t\tshortDesc: \"This Pokemon can't be flinched and foes that attempt to flinch this Pokemon lose 1/8 of their max HP.\",\r\n\t},\r\n\tfriendlylooks: {\r\n\t\tonAnyModifyDamage(damage, source, target, move) {\r\n\t\t\tif (target !== this.effectState.target && target.isAlly(this.effectState.target)) {\r\n\t\t\t\tthis.debug('Friendly Looks weaken');\r\n\t\t\t\treturn this.chainModify(0.75);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceModifyAccuracyPriority: -1,\r\n\t\tonSourceModifyAccuracy(accuracy) {\r\n\t\t\tif (typeof accuracy !== 'number') return;\r\n\t\t\tthis.debug('Friendly Looks - enhancing accuracy');\r\n\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Friendly Looks\",\r\n\t\tshortDesc: \"Friend Guard + Compound Eyes\",\r\n\t},\r\n\tfreakyeyes: {\r\n\t\tonPreStart(pokemon) {\r\n\t\t\tthis.add('-ability', pokemon, 'Freaky Eyes');\r\n\t\t\tthis.effectState.unnerved = true;\r\n\t\t},\r\n\t\tonStart(pokemon) {\r\n\t\t\tif (this.effectState.unnerved) return;\r\n\t\t\tthis.add('-ability', pokemon, 'Freaky Eyes');\r\n\t\t\tthis.effectState.unnerved = true;\r\n\t\t},\r\n\t\tonEnd() {\r\n\t\t\tthis.effectState.unnerved = false;\r\n\t\t},\r\n\t\tonFoeTryEatItem() {\r\n\t\t\treturn !this.effectState.unnerved;\r\n\t\t},\r\n\t\tonSourceModifyAccuracyPriority: -1,\r\n\t\tonSourceModifyAccuracy(accuracy) {\r\n\t\t\tif (typeof accuracy !== 'number') return;\r\n\t\t\tthis.debug('freakyeyes - enhancing accuracy');\r\n\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Freaky Eyes\",\r\n\t\tshortDesc: \"Compound Eyes + Unnerve\",\r\n\t},\r\n\tdustybugs: {\r\n\t\tonBasePowerPriority: 21,\r\n\t\tonBasePower(basePower, pokemon, target, move) {\r\n\t\t\tif (move.secondaries && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Dusty Bugs boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySecondaries(secondaries) {\r\n\t\t\tthis.debug('Dusty Bugs prevent secondary');\r\n\t\t\treturn secondaries.filter(effect => !!(effect.self || effect.dustproof));\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Dusty Bugs\",\r\n\t\tshortDesc: \"At 1/3 or less of its max HP, 1.5x damage on moves with secondary effects. Immune to secondary effects.\",\r\n\t},\r\n\thydrophilic: {\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Water') {\r\n\t\t\t\tif (!this.heal(target.baseMaxhp / 4)) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Hydrophilic');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (['raindance', 'primordialsea'].includes(pokemon.effectiveWeather())) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Hydrophilic\",\r\n\t\tshortDesc: \"Water Absorb + Swift Swim\",\r\n\t},\r\n\tdesertshot: {\r\n\t\tonModifyDamage(damage, source, target, move) {\r\n\t\t\tif (target.getMoveHitData(move).crit) {\r\n\t\t\t\tthis.debug('Desert Shot boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonImmunity(type, pokemon) {\r\n\t\t\tif (type === 'sandstorm') return false;\r\n\t\t},\r\n\t\tonModifyAccuracyPriority: -1,\r\n\t\tonModifyAccuracy(accuracy) {\r\n\t\t\tif (typeof accuracy !== 'number') return;\r\n\t\t\tif (this.field.isWeather('sandstorm')) {\r\n\t\t\t\tthis.debug('Desert Shot - decreasing accuracy');\r\n\t\t\t\treturn this.chainModify([3277, 4096]);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Desert Shot\",\r\n\t\tshortDesc: \"Sand Veil + Sniper\",\r\n\t},\r\n\tgoowiththeflow: {\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.volatiles['confusion']) {\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Goo With The Flow');\r\n\t\t\t\tpokemon.removeVolatile('confusion');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryAddVolatile(status, pokemon) {\r\n\t\t\tif (status.id === 'confusion') return null;\r\n\t\t},\r\n\t\tonHit(target, source, move) {\r\n\t\t\tif (move?.volatileStatus === 'confusion') {\r\n\t\t\t\tthis.add('-immune', target, 'confusion', '[from] ability: Goo With The Flow');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (source && target === source) return;\r\n\t\t\tif (boost.spe && boost.spe < 0) {\r\n\t\t\t\tdelete boost.spe;\r\n\t\t\t\tif (!(effect as ActiveMove).secondaries) {\r\n\t\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"Speed\", \"[from] ability: Goo With The Flow\", \"[of] \" + target);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (boost.atk && ['Intimidate', 'Underestimate', 'Migrate', 'Incorporate', 'Hunger Fate', 'Eliminate', 'Dominate', 'Obliterate',\r\n\t\t\t\t  'Sea Monster', 'Inflame', 'Brave Look', 'Venom Glare'].includes(effect.name)) {\r\n\t\t\t\tdelete boost.atk;\r\n\t\t\t\tthis.add('-fail', target, 'unboost', 'Attack', '[from] ability: Goo With The Flow', '[of] ' + target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Goo With The Flow\",\r\n\t\tshortDesc: \"This Pokemon can't be confused or have its Speed lowered.\",\r\n\t},\r\n\tmurkywater: {\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Water' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Murky Water boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpAPriority: 5,\r\n\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Water' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Murky Water boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyMovePriority: -1,\r\n\t\tonModifyMove(move) {\r\n\t\t\tif (move.category !== \"Status\") {\r\n\t\t\t\tthis.debug('Adding Murky Water flinch');\r\n\t\t\t\tif (!move.secondaries) move.secondaries = [];\r\n\t\t\t\tfor (const secondary of move.secondaries) {\r\n\t\t\t\t\tif (secondary.volatileStatus === 'flinch') return;\r\n\t\t\t\t}\r\n\t\t\t\tmove.secondaries.push({\r\n\t\t\t\t\tchance: 10,\r\n\t\t\t\t\tvolatileStatus: 'flinch',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Murky Water\",\r\n\t\tshortDesc: \"Torrent + Stench\",\r\n\t},\r\n\tdawnriser: {\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (['sunnyday', 'desolateland'].includes(pokemon.effectiveWeather())) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t}, // implement this is conditions.ts\r\n\t\tflags: {},\r\n\t\tname: \"Dawn Riser\",\r\n\t\tshortDesc: \"Chlorophyll + Early Bird\",\r\n\t},\r\n\tkeenswim: {\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (source && target === source) return;\r\n\t\t\tif (boost.accuracy && boost.accuracy < 0) {\r\n\t\t\t\tdelete boost.accuracy;\r\n\t\t\t\tif (!(effect as ActiveMove).secondaries) {\r\n\t\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"accuracy\", \"[from] ability: Keen Swim\", \"[of] \" + target);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyMove(move) {\r\n\t\t\tmove.ignoreEvasion = true;\r\n\t\t},\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (['raindance', 'primordialsea'].includes(pokemon.effectiveWeather())) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Keen Swim\",\r\n\t\tshortDesc: \"Keen Eye + Swift Swim\",\r\n\t},\r\n\toverguts: {\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Grass' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Overguts boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\t\t\t\r\n\t\t\tif (pokemon.status) {\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t}, // implement burn drop ignore in scripts.ts\r\n\t\tonModifySpAPriority: 5,\r\n\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Grass' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Overguts boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Overguts\",\r\n\t\tshortDesc: \"Guts + Overgrow\",\r\n\t},\r\n\tbulletveil: {\r\n\t\tonImmunity(type, pokemon) {\r\n\t\t\tif (type === 'sandstorm') return false;\r\n\t\t},\r\n\t\tonModifyAccuracyPriority: -1,\r\n\t\tonModifyAccuracy(accuracy) {\r\n\t\t\tif (typeof accuracy !== 'number') return;\r\n\t\t\tif (this.field.isWeather('sandstorm')) {\r\n\t\t\t\tthis.debug('Bullet Veil - decreasing accuracy');\r\n\t\t\t\treturn this.chainModify([3277, 4096]);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryHit(pokemon, target, move) {\r\n\t\t\tif (move.flags['bullet']) {\r\n\t\t\t\tthis.add('-immune', pokemon, '[from] ability: Bullet Veil');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Bullet Veil\",\r\n\t\tshortDesc: \"Sand Veil + Bulletproof\",\r\n\t},\r\n\tgreenthumbs: {\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Grass' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Green Thumbs boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpAPriority: 5,\r\n\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Grass' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Green Thumbs boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonResidualOrder: 5,\r\n\t\tonResidualSubOrder: 3,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif (pokemon.hp && pokemon.status && this.randomChance(33, 100)) {\r\n\t\t\t\tthis.debug('shed skin');\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Green Thumbs');\r\n\t\t\t\tpokemon.cureStatus();\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Green Thumbs\",\r\n\t\tshortDesc: \"Shed Skin + Overgrow\",\r\n\t},\r\n\tweatherpreview: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tfor (const target of pokemon.foes()) {\r\n\t\t\t\tfor (const moveSlot of target.moveSlots) {\r\n\t\t\t\t\tconst move = this.dex.moves.get(moveSlot.move);\r\n\t\t\t\t\tif (move.category === 'Status') continue;\r\n\t\t\t\t\tconst moveType = move.id === 'hiddenpower' ? target.hpType : move.type;\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tthis.dex.getImmunity(moveType, pokemon) && this.dex.getEffectiveness(moveType, pokemon) > 0 ||\r\n\t\t\t\t\t\tmove.ohko\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tthis.add('-ability', pokemon, 'Weather Preview');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonImmunity(type, pokemon) {\r\n\t\t\tif (type === 'hail') return false;\r\n\t\t},\r\n\t\tonModifyAccuracyPriority: -1,\r\n\t\tonModifyAccuracy(accuracy) {\r\n\t\t\tif (typeof accuracy !== 'number') return;\r\n\t\t\tif (this.field.isWeather(['hail', 'snow'])) {\r\n\t\t\t\tthis.debug('Weather Preview - decreasing accuracy');\r\n\t\t\t\treturn this.chainModify([3277, 4096]);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Weather Preview\",\r\n\t\tshortDesc: \"Snow Cloak + Anticipation\",\r\n\t},\r\n\tsnowlayers: {\r\n\t\tonStart(source) {\r\n\t\t\tthis.field.setWeather('snow');\r\n\t\t},\r\n\t\tonModifySTAB(stab, source, target, move) {\r\n\t\t\tif (move.forceSTAB || source.hasType(move.type)) {\r\n\t\t\t\tif (stab === 2) {\r\n\t\t\t\t\treturn 2.25;\r\n\t\t\t\t}\r\n\t\t\t\treturn 2;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Snow Layers\",\r\n\t\tshortDesc: \"Snow Warning + Adaptability\",\r\n\t},\r\n\tvisuallearner: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tif (pokemon.adjacentFoes().some(foeActive => foeActive.ability === 'noability')) {\r\n\t\t\t\tthis.effectState.gaveUp = true;\r\n\t\t\t}\r\n\t\t\tif (pokemon.hasItem('Ability Shield')) {\r\n\t\t\t\tthis.add('-block', pokemon, 'item: Ability Shield');\r\n\t\t\t\tthis.effectState.gaveUp = true;\r\n\t\t\t}\r\n\t\t\tfor (const target of pokemon.foes()) {\r\n\t\t\t\tif (target.item) {\r\n\t\t\t\t\tthis.add('-item', target, target.getItem().name, '[from] ability: Visual Learner', '[of] ' + pokemon, '[identify]');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (!pokemon.isStarted || this.effectState.gaveUp) return;\r\n\t\t\tconst possibleTargets = pokemon.adjacentFoes().filter(\r\n\t\t\t\ttarget => !target.getAbility().flags['notrace'] && target.ability !== 'noability'\r\n\t\t\t);\r\n\t\t\tif (!possibleTargets.length) return;\r\n\t\t\tconst target = this.sample(possibleTargets);\r\n\t\t\tconst ability = target.getAbility();\r\n\t\t\tif (pokemon.setAbility(ability)) {\r\n\t\t\t\tthis.add('-ability', pokemon, ability, '[from] ability: Visual Learner', '[of] ' + target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1},\r\n\t\tname: \"Visual Learner\",\r\n\t\tshortDesc: \"Trace + Frisk\",\r\n\t},\r\n\tsunaway: {\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (['sunnyday', 'desolateland'].includes(pokemon.effectiveWeather())) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Sun Away\",\r\n\t\tshortDesc: \"If Sunny Day is active, this Pokemon's Speed is doubled.\",\r\n\t},\r\n\tdurianbreath: {\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (['sunnyday', 'desolateland'].includes(pokemon.effectiveWeather())) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyMovePriority: -1,\r\n\t\tonModifyMove(move) {\r\n\t\t\tif (move.category !== \"Status\") {\r\n\t\t\t\tthis.debug('Adding Durian Breath flinch');\r\n\t\t\t\tif (!move.secondaries) move.secondaries = [];\r\n\t\t\t\tfor (const secondary of move.secondaries) {\r\n\t\t\t\t\tif (secondary.volatileStatus === 'flinch') return;\r\n\t\t\t\t}\r\n\t\t\t\tmove.secondaries.push({\r\n\t\t\t\t\tchance: 10,\r\n\t\t\t\t\tvolatileStatus: 'flinch',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Durian Breath\",\r\n\t\tshortDesc: \"Stench + Chlorophyll\",\r\n\t},\r\n\tfastflame: {\r\n\t\tonFlinch(damage, target, source, move) {\r\n\t\t\tthis.boost({spe: 2}, target, target);\r\n\t\t\tsource.trySetStatus('brn', target);\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Fast Flame\",\r\n\t\tshortDesc: \"If this Pokemon flinches, its Speed is raised by 1 stage and the attacker is burned.\",\r\n\t},\r\n\tbravelook: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const target of pokemon.adjacentFoes()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-ability', pokemon, 'Brave Look', 'boost');\r\n\t\t\t\t\tactivated = true;\r\n\t\t\t\t}\r\n\t\t\t\tif (target.volatiles['substitute']) {\r\n\t\t\t\t\tthis.add('-immune', target);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.boost({atk: -1}, target, pokemon, null, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (source && target === source) return;\r\n\t\t\tif (boost.accuracy && boost.accuracy < 0) {\r\n\t\t\t\tdelete boost.accuracy;\r\n\t\t\t\tif (!(effect as ActiveMove).secondaries) {\r\n\t\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"accuracy\", \"[from] ability: Brave Look\", \"[of] \" + target);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyMove(move) {\r\n\t\t\tmove.ignoreEvasion = true;\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Brave Look\",\r\n\t\tshortDesc: \"Intimidate + Keen Eye\",\r\n\t},\r\n\tlongmoxie: {\r\n\t\tonModifyMove(move) {\r\n\t\t\tdelete move.flags['contact'];\r\n\t\t},\r\n\t\tonSourceAfterFaint(length, target, source, effect) {\r\n\t\t\tif (effect && effect.effectType === 'Move') {\r\n\t\t\t\tthis.boost({atk: length}, source);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Long Moxie\",\r\n\t\tshortDesc: \"Long Reach + Moxie\",\r\n\t},\r\n\tspeedyfire: {\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Fire') {\r\n\t\t\t\tmove.accuracy = true;\r\n\t\t\t\tif (!target.addVolatile('speedyfire')) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Speedy Fire');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tpokemon.removeVolatile('speedyfire');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true, \r\n\t\t\tonStart(target) {\r\n\t\t\t\tthis.add('-start', target, 'ability: Speedy Fire');\r\n\t\t\t},\r\n\t\t\tonModifyAtkPriority: 5,\r\n\t\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\t\tif (move.type === 'Fire' && attacker.hasAbility('speedyfire')) {\r\n\t\t\t\t\tthis.debug('Speedy Fire boost');\r\n\t\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonModifySpAPriority: 5,\r\n\t\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\t\tif (move.type === 'Fire' && attacker.hasAbility('speedyfire')) {\r\n\t\t\t\t\tthis.debug('Speedy Fire boost');\r\n\t\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonEnd(target) {\r\n\t\t\t\tthis.add('-end', target, 'ability: Speedy Fire', '[silent]');\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Speedy Fire\",\r\n\t\tshortDesc: \"This Pokemon's Fire attacks do 1.5x damage if hit by one Fire move; Fire immunity.\",\r\n\t},\r\n\tghoulfire: {\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && ['Bug', 'Dark', 'Fire', 'Ghost'].includes(move.type)) {\r\n\t\t\t\tif (!this.boost({spe: 1})) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Ghoul Fire');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAfterBoost(boost, target, source, effect) {\r\n\t\t\tif (['Intimidate', 'Underestimate', 'Migrate', 'Incorporate', 'Hunger Fate', 'Eliminate', 'Dominate', 'Obliterate',\r\n\t\t\t\t  'Sea Monster', 'Inflame', 'Brave Look', 'Venom Glare'].includes(effect.name)) {\r\n\t\t\t\tthis.boost({spe: 1});\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Ghoul Fire\",\r\n\t\tshortDesc: \"Speed is raised 1 stage if hit by a Bug-, Dark-, Fire- or Ghost-type move; Immunity to those types.\",\r\n\t},\r\n\trekindle: {\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tpokemon.heal(pokemon.baseMaxhp / 3);\r\n\t\t},\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Fire') {\r\n\t\t\t\tmove.accuracy = true;\r\n\t\t\t\tif (!target.addVolatile('rekindle')) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Rekindle');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tpokemon.removeVolatile('rekindle');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true, \r\n\t\t\tonStart(target) {\r\n\t\t\t\tthis.add('-start', target, 'ability: Rekindle');\r\n\t\t\t},\r\n\t\t\tonModifyAtkPriority: 5,\r\n\t\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\t\tif (move.type === 'Fire' && attacker.hasAbility('rekindle')) {\r\n\t\t\t\t\tthis.debug('Rekindle boost');\r\n\t\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonModifySpAPriority: 5,\r\n\t\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\t\tif (move.type === 'Fire' && attacker.hasAbility('rekindle')) {\r\n\t\t\t\t\tthis.debug('Rekindle boost');\r\n\t\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonEnd(target) {\r\n\t\t\t\tthis.add('-end', target, 'ability: Rekindle', '[silent]');\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Rekindle\",\r\n\t\tshortDesc: \"Regenerator + Flash Fire\",\r\n\t},\r\n\troughbody: {\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (source && target === source) return;\r\n\t\t\tlet showMsg = false;\r\n\t\t\tlet i: BoostID;\r\n\t\t\tfor (i in boost) {\r\n\t\t\t\tif (boost[i]! < 0) {\r\n\t\t\t\t\tdelete boost[i];\r\n\t\t\t\t\tshowMsg = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (showMsg && !(effect as ActiveMove).secondaries && effect.id !== 'octolock') {\r\n\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"[from] ability: Rough Body\", \"[of] \" + target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceModifyAtkPriority: 6,\r\n\t\tonSourceModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Fire') {\r\n\t\t\t\tthis.debug('Rough Body Atk weaken');\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceModifySpAPriority: 5,\r\n\t\tonSourceModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Fire') {\r\n\t\t\t\tthis.debug('Rough Body SpA weaken');\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (effect && effect.id === 'brn') {\r\n\t\t\t\treturn damage / 2;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Rough Body\",\r\n\t\tshortDesc: \"Clear Body + Heatproof\",\r\n\t},\r\n\taromatricks: {\r\n\t\tonAllyTryAddVolatile(status, target, source, effect) {\r\n\t\t\tif (['attract', 'disable', 'encore', 'healblock', 'taunt', 'torment'].includes(status.id)) {\r\n\t\t\t\tif (effect.effectType === 'Move') {\r\n\t\t\t\t\tconst effectHolder = this.effectState.target;\r\n\t\t\t\t\tthis.add('-block', target, 'ability: Aroma Tricks', '[of] ' + effectHolder);\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTakeItem(item, pokemon, source) {\r\n\t\t\tif (!this.activeMove) throw new Error(\"Battle.activeMove is null\");\r\n\t\t\tif (!pokemon.hp || pokemon.item === 'stickybarb') return;\r\n\t\t\tif ((source && source !== pokemon) || this.activeMove.id === 'knockoff') {\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Aroma Tricks');\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Aroma Tricks\",\r\n\t\tshortDesc: \"Protects allies from losing their items, as well as Attract, Taunt, Disable, Encore, Torment, and Heal Block.\",\r\n\t},\r\n\thungryeyes: {\r\n\t\tonStart(pokemon) { // implement gluttony effects in items\r\n\t\t\tpokemon.abilityState.gluttony = true;\r\n\t\t},\r\n\t\tonDamage(item, pokemon) {\r\n\t\t\tpokemon.abilityState.gluttony = true;\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (source && target === source) return;\r\n\t\t\tif (boost.accuracy && boost.accuracy < 0) {\r\n\t\t\t\tdelete boost.accuracy;\r\n\t\t\t\tif (!(effect as ActiveMove).secondaries) {\r\n\t\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"accuracy\", \"[from] ability: Hungry Eyes\", \"[of] \" + target);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyMove(move) {\r\n\t\t\tmove.ignoreEvasion = true;\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Hungry Eyes\",\r\n\t\tshortDesc: \"Gluttony + Keen Eye\",\r\n\t},\r\n\tinnerfat: {\r\n\t\tonSourceModifyAtkPriority: 6,\r\n\t\tonSourceModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Ice' || move.type === 'Fire') {\r\n\t\t\t\tthis.debug('Inner Fat weaken');\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceModifySpAPriority: 5,\r\n\t\tonSourceModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Ice' || move.type === 'Fire') {\r\n\t\t\t\tthis.debug('Inner Fat weaken');\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryAddVolatile(status, pokemon) {\r\n\t\t\tif (status.id === 'flinch') return null;\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (boost.atk && ['Intimidate', 'Underestimate', 'Migrate', 'Incorporate', 'Hunger Fate', 'Eliminate', 'Dominate', 'Obliterate',\r\n\t\t\t\t  'Sea Monster', 'Inflame', 'Brave Look', 'Venom Glare'].includes(effect.name)) {\r\n\t\t\t\tdelete boost.atk;\r\n\t\t\t\tthis.add('-fail', target, 'unboost', 'Attack', '[from] ability: Inner Fat', '[of] ' + target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Inner Fat\",\r\n\t\tshortDesc: \"Inner Focus + Thick Fat\",\r\n\t},\r\n\tcutefruit: {\r\n\t\tonTryHeal(damage, target, source, effect) {\r\n\t\t\tif (!effect) return;\r\n\t\t\tif (effect.name === 'Berry Juice' || effect.name === 'Leftovers') {\r\n\t\t\t\tthis.add('-activate', target, 'ability: Cute Fruit');\r\n\t\t\t}\r\n\t\t\tif ((effect as Item).isBerry) return this.chainModify(2);\r\n\t\t},\r\n\t\tonChangeBoost(boost, target, source, effect) {\r\n\t\t\tif (effect && (effect as Item).isBerry) {\r\n\t\t\t\tlet b: BoostID;\r\n\t\t\t\tfor (b in boost) {\r\n\t\t\t\t\tboost[b]! *= 2;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceModifyDamagePriority: -1,\r\n\t\tonSourceModifyDamage(damage, source, target, move) {\r\n\t\t\tif (target.abilityState.berryWeaken) {\r\n\t\t\t\ttarget.abilityState.berryWeaken = false;\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryEatItemPriority: -1,\r\n\t\tonTryEatItem(item, pokemon) {\r\n\t\t\tthis.add('-activate', pokemon, 'ability: Cute Fruit');\r\n\t\t},\r\n\t\tonEatItem(item, pokemon) {\r\n\t\t\tconst weakenBerries = [\r\n\t\t\t\t'Babiri Berry', 'Charti Berry', 'Chilan Berry', 'Chople Berry', 'Coba Berry', 'Colbur Berry', 'Haban Berry', 'Kasib Berry', 'Kebia Berry', 'Occa Berry', 'Passho Berry', 'Payapa Berry', 'Rindo Berry', 'Roseli Berry', 'Shuca Berry', 'Tanga Berry', 'Wacan Berry', 'Yache Berry',\r\n\t\t\t];\r\n\t\t\tpokemon.abilityState.berryWeaken = weakenBerries.includes(item.name);\r\n\t\t},\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (this.checkMoveMakesContact(move, source, target) && this.randomChance(3, 10)) {\r\n\t\t\t\tsource.addVolatile('attract', this.effectState.target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Cute Fruit\",\r\n\t\tshortDesc: \"Ripen + Cute Charm\",\r\n\t},\r\n\tlunchwithfriends: {\r\n\t\tonStart(pokemon) { // implement gluttony effects in items\r\n\t\t\tpokemon.abilityState.gluttony = true;\r\n\t\t},\r\n\t\tonDamage(item, pokemon) {\r\n\t\t\tpokemon.abilityState.gluttony = true;\r\n\t\t},\r\n\t\tonAnyModifyDamage(damage, source, target, move) {\r\n\t\t\tif (target !== this.effectState.target && target.isAlly(this.effectState.target)) {\r\n\t\t\t\tthis.debug('Lunch With Friends weaken');\r\n\t\t\t\treturn this.chainModify(0.75);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Lunch With Friends\",\r\n\t\tshortDesc: \"Gluttony + Friend Guard\",\r\n\t},\r\n\tirondiet: {\r\n\t\tonPreStart(pokemon) {\r\n\t\t\tthis.add('-ability', pokemon, 'Unnerve');\r\n\t\t\tthis.effectState.unnerved = true;\r\n\t\t},\r\n\t\tonStart(pokemon) {\r\n\t\t\tif (this.effectState.unnerved) return;\r\n\t\t\tthis.add('-ability', pokemon, 'Unnerve');\r\n\t\t\tthis.effectState.unnerved = true;\r\n\t\t},\r\n\t\tonEnd() {\r\n\t\t\tthis.effectState.unnerved = false;\r\n\t\t},\r\n\t\tonFoeTryEatItem(pokemon) {\r\n\t\t\tconst target = pokemon.isAdjacent(this.effectState.target);\r\n\t\t\tif (target.hasType('Steel')) {\r\n\t\t\t\treturn !this.effectState.unnerved;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Iron Diet\",\r\n\t\tshortDesc: \"Prevents opposing Steel-type Pokemon from eating berries.\",\r\n\t},\r\n\tunfriendguard: {\r\n\t\tonAnyModifyDamage(damage, source, target, move) {\r\n\t\t\tif (target !== this.effectState.target && target.isAlly(this.effectState.target)) {\r\n\t\t\t\tthis.debug('Unfriend Guard weaken');\r\n\t\t\t\treturn this.chainModify(0.75);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyInvulnerabilityPriority: 1,\r\n\t\tonAnyInvulnerability(target, source, move) {\r\n\t\t\tif (move && (source === this.effectState.target || target === this.effectState.target)) return 0;\r\n\t\t},\r\n\t\tonAnyAccuracy(accuracy, target, source, move) {\r\n\t\t\tif (move && (source === this.effectState.target || target === this.effectState.target)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn accuracy;\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Unfriend Guard\",\r\n\t\tshortDesc: \"Friend Guard + No Guard\",\r\n\t},\r\n\tsheerbird: {\r\n\t\tonModifyMove(move, pokemon) {\r\n\t\t\tif (move.secondaries) {\r\n\t\t\t\tdelete move.secondaries;\r\n\t\t\t\tdelete move.self;\r\n\t\t\t\tif (move.id === 'clangoroussoulblaze') delete move.selfBoost;\r\n\t\t\t\t// Actual negation of `AfterMoveSecondary` effects implemented in scripts.js\r\n\t\t\t\tmove.hasSheerForce = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBasePowerPriority: 21,\r\n\t\tonBasePower(basePower, pokemon, target, move) {\r\n\t\t\tif (move.hasSheerForce) return this.chainModify([5325, 4096]);\r\n\t\t},\r\n\t\t// implement early bird effects in conditions\r\n\t\tflags: {},\r\n\t\tname: \"Sheer Bird\",\r\n\t\tshortDesc: \"Sheer Force + Early Bird\",\r\n\t},\r\n\trobin: {\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk) {\r\n\t\t\treturn this.modify(atk, 1.5);\r\n\t\t},\r\n\t\tonSourceModifyAccuracyPriority: -1,\r\n\t\tonSourceModifyAccuracy(accuracy, target, source, move) {\r\n\t\t\tif (move.category === 'Physical' && typeof accuracy === 'number') {\r\n\t\t\t\treturn this.chainModify([3277, 4096]);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAfterMoveSecondarySelf(source, target, move) {\r\n\t\t\tif (move && target && source.switchFlag !== true && target !== source && move.category === 'Physical') {\r\n\t\t\t\tif (source.item || source.volatiles['gem'] || move.id === 'fling') return;\r\n\t\t\t\tconst yourItem = target.takeItem(source);\r\n\t\t\t\tif (!yourItem) return;\r\n\t\t\t\tif (!source.setItem(yourItem)) {\r\n\t\t\t\t\ttarget.item = yourItem.id;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.add('-item', source, yourItem, '[from] ability: Robin', '[of] ' + target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Robin\",\r\n\t\tshortDesc: \"This Pokemon's physical attacks deal 1.5x damage and steal items, but have 0.8x accuracy.\",\r\n\t},\r\n\tquickstart: {\r\n\t\tshortDesc: \"On switch-in, this Pokemon's Attack and Speed are doubled for 5 turns.\",\r\n\t\tonStart(pokemon) {\r\n\t\t\tpokemon.addVolatile('quickstart');\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tdelete pokemon.volatiles['quickstart'];\r\n\t\t\tthis.add('-end', pokemon, 'Quickstart', '[silent]');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tduration: 5,\r\n\t\t\tonStart(target) {\r\n\t\t\t\tthis.add('-start', target, 'ability: Quickstart');\r\n\t\t\t},\r\n\t\t\tonModifyAtkPriority: 5,\r\n\t\t\tonModifyAtk(atk, pokemon) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t},\r\n\t\t\tonModifySpe(spe, pokemon) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t},\r\n\t\t\tonEnd(target) {\r\n\t\t\t\tthis.add('-end', target, 'Quickstart');\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Quickstart\",\r\n    },\r\n\tsummerbugs: {\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (['sunnyday', 'desolateland'].includes(pokemon.effectiveWeather())) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Bug' && ['sunnyday', 'desolateland'].includes(attacker.effectiveWeather())) {\r\n\t\t\t\tthis.debug('Summer Bugs boost');\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpAPriority: 5,\r\n\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Bug' && ['sunnyday', 'desolateland'].includes(attacker.effectiveWeather())) {\r\n\t\t\t\tthis.debug('Summer Bugs boost');\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Summer Bugs\",\r\n\t\tshortDesc: \"In Sun, this Pokemon's Speed is doubled and its Bug moves deal 2x damage.\",\r\n\t},\r\n\tsolarpanel: {\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (['sunnyday', 'desolateland'].includes(pokemon.effectiveWeather())) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAllyBasePowerPriority: 22,\r\n\t\tonAllyBasePower(basePower, attacker, defender, move) {\r\n\t\t\tif (attacker !== this.effectState.target && move.category === 'Special') {\r\n\t\t\t\tthis.debug('Solar Panel boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Solar Panel\",\r\n\t\tshortDesc: \"Battery + Chlorophyll\",\r\n\t},\r\n\tstaticdust: {\r\n\t\tonModifySecondaries(secondaries) {\r\n\t\t\tthis.debug('Static Dust prevent secondary');\r\n\t\t\treturn secondaries.filter(effect => !!(effect.self || effect.dustproof));\r\n\t\t},\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (this.checkMoveMakesContact(move, source, target) && this.randomChance(3, 10)) {\r\n\t\t\t\tsource.trySetStatus('par', target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Static Dust\",\r\n\t\tshortDesc: \"Shield Dust + Static\",\r\n\t},\r\n\tgangly: {\r\n\t\tonBasePowerPriority: 23,\r\n\t\tonBasePower(basePower, attacker, defender, move) {\r\n\t\t\tif (move.recoil || move.hasCrashDamage) {\r\n\t\t\t\tthis.debug('Gangly boost');\r\n\t\t\t\treturn this.chainModify([4915, 4096]);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonResidualOrder: 28,\r\n\t\tonResidualSubOrder: 2,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif (pokemon.item) return;\r\n\t\t\tconst pickupTargets = this.getAllActive().filter(target => (\r\n\t\t\t\ttarget.lastItem && target.usedItemThisTurn && pokemon.isAdjacent(target)\r\n\t\t\t));\r\n\t\t\tif (!pickupTargets.length) return;\r\n\t\t\tconst randomTarget = this.sample(pickupTargets);\r\n\t\t\tconst item = randomTarget.lastItem;\r\n\t\t\trandomTarget.lastItem = '';\r\n\t\t\tthis.add('-item', pokemon, this.dex.items.get(item), '[from] ability: Gangly');\r\n\t\t\tpokemon.setItem(item);\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Gangly\",\r\n\t\tshortDesc: \"Reckless + Pickup\",\r\n\t},\r\n\tzappysap: {\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Electric') {\r\n\t\t\t\tif (!this.boost({spa: 1})) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Zappy Sap');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyRedirectTarget(target, source, source2, move) {\r\n\t\t\tif (move.type !== 'Electric' || move.flags['pledgecombo']) return;\r\n\t\t\tconst redirectTarget = ['randomNormal', 'adjacentFoe'].includes(move.target) ? 'normal' : move.target;\r\n\t\t\tif (this.validTarget(this.effectState.target, source, redirectTarget)) {\r\n\t\t\t\tif (move.smartTarget) move.smartTarget = false;\r\n\t\t\t\tif (this.effectState.target !== target) {\r\n\t\t\t\t\tthis.add('-activate', this.effectState.target, 'ability: Zappy Sap');\r\n\t\t\t\t}\r\n\t\t\t\treturn this.effectState.target;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Zappy Sap\",\r\n\t\tshortDesc: \"This Pokemon draws Electric moves to itself to raise Sp. Atk by 1; Electric immunity.\",\r\n\t},\r\n\trockfeet: {\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (pokemon.status) {\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (effect.id === 'recoil') {\r\n\t\t\t\tif (!this.activeMove) throw new Error(\"Battle.activeMove is null\");\r\n\t\t\t\tif (this.activeMove.id !== 'struggle') return null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Rock Feet\",\r\n\t\tshortDesc: \"Quick Feet + Rock Head\",\r\n\t},\r\n\trivalgroup: {\r\n\t\tonSourceModifyAccuracyPriority: -1,\r\n\t\tonSourceModifyAccuracy(accuracy, attacker, defender, move) {\r\n\t\t\tif (typeof accuracy !== 'number') return;\r\n\t\t\tif (attacker.gender && defender.gender) {\r\n\t\t\t\tif (attacker.gender === defender.gender) {\r\n\t\t\t\t\tthis.debug('rivalgroup - enhancing accuracy');\r\n\t\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.debug('rivalgroup - decreasing accuracy');\r\n\t\t\t\t\treturn this.chainModify([2867, 4096]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Rival Group\",\r\n\t\tshortDesc: \"This Pokemon's moves have 1.3x accuracy on same gendered targets, 0.7x on opposite gendered.\",\r\n\t},\r\n\thitandrun: {\r\n\t\tonBeforeMovePriority: 9,\r\n\t\tonBeforeMove(pokemon, target, move) {\r\n\t\t\tif (move?.category === 'Status') {\r\n\t\t\t\tthis.add('cant', pokemon, 'ability: Hit and Run');\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Hit and Run\",\r\n\t\tshortDesc: \"This Pokemon's status moves have no competitive use.\",\r\n\t},\r\n\tpicktempo: {\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.volatiles['confusion']) {\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Pick Tempo');\r\n\t\t\t\tpokemon.removeVolatile('confusion');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryAddVolatile(status, pokemon) {\r\n\t\t\tif (status.id === 'confusion') return null;\r\n\t\t},\r\n\t\tonHit(target, source, move) {\r\n\t\t\tif (move?.volatileStatus === 'confusion') {\r\n\t\t\t\tthis.add('-immune', target, 'confusion', '[from] ability: Pick Tempo');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAfterMoveSecondary(target, source, move) {\r\n\t\t\tif (source && source !== target && move?.flags['contact']) {\r\n\t\t\t\tif (target.item || target.switchFlag || target.forceSwitchFlag || source.switchFlag === true) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst yourItem = source.takeItem(target);\r\n\t\t\t\tif (!yourItem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!target.setItem(yourItem)) {\r\n\t\t\t\t\tsource.item = yourItem.id;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.add('-enditem', source, yourItem, '[silent]', '[from] ability: Pick Tempo', '[of] ' + source);\r\n\t\t\t\tthis.add('-item', target, yourItem, '[from] ability: Pick Tempo', '[of] ' + source);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (boost.atk && ['Intimidate', 'Underestimate', 'Migrate', 'Incorporate', 'Hunger Fate', 'Eliminate', 'Dominate', 'Obliterate',\r\n\t\t\t\t  'Sea Monster', 'Inflame', 'Brave Look', 'Venom Glare'].includes(effect.name)) {\r\n\t\t\t\tdelete boost.atk;\r\n\t\t\t\tthis.add('-fail', target, 'unboost', 'Attack', '[from] ability: Pick Tempo', '[of] ' + target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Pick Tempo\",\r\n\t\tshortDesc: \"Own Tempo + Pickpocket\",\r\n\t},\r\n\tmoreburdens: {\r\n\t\tonResidualOrder: 28,\r\n\t\tonResidualSubOrder: 2,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif (pokemon.item) return;\r\n\t\t\tconst pickupTargets = this.getAllActive().filter(target => (\r\n\t\t\t\ttarget.lastItem && target.usedItemThisTurn && pokemon.isAdjacent(target)\r\n\t\t\t));\r\n\t\t\tif (!pickupTargets.length) return;\r\n\t\t\tconst randomTarget = this.sample(pickupTargets);\r\n\t\t\tconst item = randomTarget.lastItem;\r\n\t\t\trandomTarget.lastItem = '';\r\n\t\t\tthis.add('-item', pokemon, this.dex.items.get(item), '[from] ability: More Burdens');\r\n\t\t\tpokemon.setItem(item);\r\n\t\t},\r\n\t\tonAfterUseItem(item, pokemon) {\r\n\t\t\tif (pokemon !== this.effectState.target) return;\r\n\t\t\tpokemon.addVolatile('moreburdens');\r\n\t\t},\r\n\t\tonTakeItem(item, pokemon) {\r\n\t\t\tpokemon.addVolatile('moreburdens');\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tpokemon.removeVolatile('moreburdens');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tonModifySpe(spe, pokemon) {\r\n\t\t\t\tif (!pokemon.item && !pokemon.ignoringAbility()) {\r\n\t\t\t\t\treturn this.chainModify(2);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"More Burdens\",\r\n\t\tshortDesc: \"Pickup + Unburden\",\r\n\t},\r\n\tfatcat: {\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Fire' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Fat Cat boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpAPriority: 5,\r\n\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Fire' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Fat Cat boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceModifyAtkPriority: 6,\r\n\t\tonSourceModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Ice' || move.type === 'Fire') {\r\n\t\t\t\tthis.debug('Fat Cat weaken');\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceModifySpAPriority: 5,\r\n\t\tonSourceModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Ice' || move.type === 'Fire') {\r\n\t\t\t\tthis.debug('Fat Cat weaken');\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Fat Cat\",\r\n\t\tshortDesc: \"Thick Fat + Blaze\",\r\n\t},\r\n\tpoisonivy: {\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Grass' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Poison Ivy boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpAPriority: 5,\r\n\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Grass' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Poison Ivy boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Poison Ivy\",\r\n\t\tshortDesc: \"Overgrow + Corrosion\",\r\n\t},\r\n\toffscale: {\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tconst side = source.isAlly(target) ? source.side.foe : source.side;\r\n\t\t\tconst toxicSpikes = side.sideConditions['toxicspikes'];\r\n\t\t\tif (move.category === 'Physical' && (!toxicSpikes || toxicSpikes.layers < 2)) {\r\n\t\t\t\tthis.add('-activate', target, 'ability: Off-Scale');\r\n\t\t\t\tside.addSideCondition('toxicspikes', target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAfterUseItem(item, pokemon) {\r\n\t\t\tif (pokemon !== this.effectState.target) return;\r\n\t\t\tpokemon.addVolatile('offscale');\r\n\t\t},\r\n\t\tonTakeItem(item, pokemon) {\r\n\t\t\tpokemon.addVolatile('offscale');\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tpokemon.removeVolatile('offscale');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tonModifySpe(spe, pokemon) {\r\n\t\t\t\tif (!pokemon.item && !pokemon.ignoringAbility()) {\r\n\t\t\t\t\treturn this.chainModify(2);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Off-Scale\",\r\n\t\tshortDesc: \"Unburden + Toxic Debris\",\r\n\t},\r\n\tlitnitwit: {\r\n\t\tonAnyModifyBoost(boosts, pokemon) {\r\n\t\t\tconst unawareUser = this.effectState.target;\r\n\t\t\tif (unawareUser === pokemon) return;\r\n\t\t\tif (unawareUser === this.activePokemon && pokemon === this.activeTarget) {\r\n\t\t\t\tboosts['def'] = 0;\r\n\t\t\t\tboosts['spd'] = 0;\r\n\t\t\t\tboosts['evasion'] = 0;\r\n\t\t\t}\r\n\t\t\tif (pokemon === this.activePokemon && unawareUser === this.activeTarget) {\r\n\t\t\t\tboosts['atk'] = 0;\r\n\t\t\t\tboosts['def'] = 0;\r\n\t\t\t\tboosts['spa'] = 0;\r\n\t\t\t\tboosts['accuracy'] = 0;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Fire') {\r\n\t\t\t\tmove.accuracy = true;\r\n\t\t\t\tif (!target.addVolatile('litnitwit')) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Litnitwit');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tpokemon.removeVolatile('litnitwit');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true, // doesn't get copied by Baton Pass\r\n\t\t\tonStart(target) {\r\n\t\t\t\tthis.add('-start', target, 'ability: Litnitwit');\r\n\t\t\t},\r\n\t\t\tonModifyAtkPriority: 5,\r\n\t\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\t\tif (move.type === 'Fire' && attacker.hasAbility('litnitwit')) {\r\n\t\t\t\t\tthis.debug('Flash Fire boost');\r\n\t\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonModifySpAPriority: 5,\r\n\t\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\t\tif (move.type === 'Fire' && attacker.hasAbility('litnitwit')) {\r\n\t\t\t\t\tthis.debug('Flash Fire boost');\r\n\t\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonEnd(target) {\r\n\t\t\t\tthis.add('-end', target, 'ability: Litnitwit', '[silent]');\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Litnitwit\",\r\n\t\tshortDesc: \"Unaware + Flash Fire\",\r\n\t},\r\n\tboilingspot: {\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif ((move.type === 'Water' || move.type === 'Fire') && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Boiling Spot boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpAPriority: 5,\r\n\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif ((move.type === 'Water' || move.type === 'Fire') && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Boiling Spot boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Boiling Spot\",\r\n\t\tshortDesc: \"At 1/3 or less of its max HP, this Pokemon's offensive stat is 1.5x with Water & Fire attacks.\",\r\n\t},\r\n\tjuicyaim: {\r\n\t\tonModifyDamage(damage, source, target, move) {\r\n\t\t\tif (target.getMoveHitData(move).crit) {\r\n\t\t\t\tthis.debug('Juicy Aim boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonPreStart(pokemon) {\r\n\t\t\tthis.add('-ability', pokemon, 'Juicy Aim');\r\n\t\t\tthis.effectState.unnerved = true;\r\n\t\t},\r\n\t\tonStart(pokemon) {\r\n\t\t\tif (this.effectState.unnerved) return;\r\n\t\t\tthis.add('-ability', pokemon, 'Juicy Aim');\r\n\t\t\tthis.effectState.unnerved = true;\r\n\t\t},\r\n\t\tonEnd() {\r\n\t\t\tthis.effectState.unnerved = false;\r\n\t\t},\r\n\t\tonFoeTryEatItem() {\r\n\t\t\treturn !this.effectState.unnerved;\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Juicy Aim\",\r\n\t\tshortDesc: \"Sniper + Unnerve\",\r\n\t},\r\n\twindenergy: {\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && (move.type === 'Electric' || move.flags['wind'])) {\r\n\t\t\t\tif (!this.boost({spa: 1})) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Wind Energy');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAllySideConditionStart(target, source, sideCondition) {\r\n\t\t\tconst pokemon = this.effectState.target;\r\n\t\t\tif (sideCondition.id === 'tailwind') {\r\n\t\t\t\tthis.boost({spa: 1}, pokemon, pokemon);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyRedirectTarget(target, source, source2, move) {\r\n\t\t\tif (move.type !== 'Electric' || move.flags['pledgecombo']) return;\r\n\t\t\tconst redirectTarget = ['randomNormal', 'adjacentFoe'].includes(move.target) ? 'normal' : move.target;\r\n\t\t\tif (this.validTarget(this.effectState.target, source, redirectTarget)) {\r\n\t\t\t\tif (move.smartTarget) move.smartTarget = false;\r\n\t\t\t\tif (this.effectState.target !== target) {\r\n\t\t\t\t\tthis.add('-activate', this.effectState.target, 'ability: Wind Energy');\r\n\t\t\t\t}\r\n\t\t\t\treturn this.effectState.target;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Wind Energy\",\r\n\t\tshortDesc: \"Raises the user's SpA by 1 stage when hit by Electric or wind, or when Tailwind begins; Wind & Electric immunity. Redirects Electric.\",\r\n\t},\r\n\tpolarity: {\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (this.checkMoveMakesContact(move, source, target)) {\r\n\t\t\t\tif (this.randomChance(3, 10)) {\r\n\t\t\t\t\tsource.trySetStatus('par', target);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAfterEachBoost(boost, target, source, effect) {\r\n\t\t\tif (!source || target.isAlly(source)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet statsLowered = false;\r\n\t\t\tlet i: BoostID;\r\n\t\t\tfor (i in boost) {\r\n\t\t\t\tif (boost[i]! < 0) {\r\n\t\t\t\t\tstatsLowered = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (statsLowered) {\r\n\t\t\t\tthis.boost({spa: 2}, target, target, null, false, true);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Polarity\",\r\n\t\tshortDesc: \"Competitive + Static\",\r\n\t},\r\n\tteapartyhost: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.add('-message', `${pokemon.name} is hosting a tea party for its side!`);\r\n\t\t\tfor (const ally of pokemon.adjacentAllies()) {\r\n\t\t\t\tthis.heal(ally.baseMaxhp / 4, ally, pokemon);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonResidualOrder: 5,\r\n\t\tonResidualSubOrder: 3,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tfor (const allyActive of pokemon.adjacentAllies()) {\r\n\t\t\t\tif (allyActive.status && this.randomChance(3, 10)) {\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Tea Party Host');\r\n\t\t\t\t\tallyActive.cureStatus();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Tea Party Host\",\r\n\t\tshortDesc: \"Hospitality + Healer\",\r\n\t},\r\n\tsummerheat: {\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (['sunnyday', 'desolateland'].includes(pokemon.effectiveWeather())) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceModifyAtkPriority: 6,\r\n\t\tonSourceModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Fire') {\r\n\t\t\t\tthis.debug('Summer Heat Atk weaken');\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceModifySpAPriority: 5,\r\n\t\tonSourceModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Fire') {\r\n\t\t\t\tthis.debug('Summer Heat SpA weaken');\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (effect && effect.id === 'brn') {\r\n\t\t\t\treturn damage / 2;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Summer Heat\",\r\n\t\tshortDesc: \"Heatproof + Chlorophyll\",\r\n\t},\r\n\tphalacrocoracimorphosis: {\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (!source.hp || !source.isActive || target.isSemiInvulnerable()) return;\r\n\t\t\tif (['bellicramgulping', 'bellicramgorging'].includes(target.species.id)) {\r\n\t\t\t\tthis.damage(source.baseMaxhp / 4, source, target);\r\n\t\t\t\tif (target.species.id === 'bellicramgulping') {\r\n\t\t\t\t\tthis.boost({def: -1}, source, target, null, true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsource.trySetStatus('par', target, move);\r\n\t\t\t\t}\r\n\t\t\t\ttarget.formeChange('bellicram', move);\r\n\t\t\t\ttarget.addVolatile('charge');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceTryPrimaryHit(target, source, move) {\r\n\t\t\tif (move.type === 'Electric' && source.hasAbility('phalacrocoracimorphosis') && source.species.name === 'Bellicram') {\r\n\t\t\t\tconst forme = source.hp <= source.maxhp / 2 ? 'bellicramgorging' : 'bellicramgulping';\r\n\t\t\t\tsource.formeChange(forme, move);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {cantsuppress: 1, notransform: 1},\r\n\t\tname: \"Phalacrocoracimorphosis\",\r\n\t\tshortDesc: \"When hit after Electric move, attacker loses 1/4 max HP and -1 Def/Para, defender is charged.\",\r\n\t},\r\n\tprotodyschronometria: {\r\n\t  shortDesc: \"This Pokemon ignores other Pokemon's Paradox boosters when taking or doing damage.\",\r\n\t\tonAnyModifyAtkPriority: 4,\r\n\t\tonAnyModifyAtk(atk, attacker, defender, move) {\r\n\t\t\t\tconst abilityHolder = this.effectState.target;\r\n\t\t\t\tif (attacker.isAlly(abilityHolder) || attacker.ignoringAbility() || !this.effectState.unnerved) return;\r\n\t\t\t\tif (!move.suppressedParadox) move.suppressedParadox = abilityHolder;\r\n\t\t\t\telse if (move.suppressedParadox !== abilityHolder) return;\r\n\t\t\t\tfor (const paradox of ['protopyre', 'protoneuron', 'prototoxin', 'protolithos', 'protoavian',\r\n\t\t\t\t\t\t\t\t\t\t\t'protorefraction', 'protosynthesis', 'quarkdrive', 'jellyfilleddrive',\r\n\t\t\t\t\t\t\t\t\t\t\t'winddrive', 'heavydrive', 'jadedrive', 'airdrive', 'magicdrive', 'phantomdrive']) {\r\n\t\t\t\t\tif (attacker.hasAbility(paradox)) {\r\n\t\t\t\t\t\tif (attacker?.volatiles[paradox]?.bestStat !== 'atk') return;\r\n\t\t\t\t\t\tthis.debug('Protodyschronometria nullify');\r\n\t\t\t\t\t\treturn this.chainModify([3151, 4096]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t},\r\n\t\tonAnyModifyDefPriority: 5,\r\n\t\tonAnyModifyDef(atk, attacker, defender, move) {\r\n\t\t\t\tconst abilityHolder = this.effectState.target;\r\n\t\t\t\tif (defender.isAlly(abilityHolder) || defender.ignoringAbility() || !this.effectState.unnerved) return;\r\n\t\t\t\tif (!move.suppressedParadox) move.suppressedParadox = abilityHolder;\r\n\t\t\t\telse if (move.suppressedParadox !== abilityHolder) return;\r\n\t\t\t\tfor (const paradox of ['protopyre', 'protoneuron', 'prototoxin', 'protolithos', 'protoavian',\r\n\t\t\t\t\t\t\t\t\t\t\t'protorefraction', 'protosynthesis', 'quarkdrive', 'jellyfilleddrive',\r\n\t\t\t\t\t\t\t\t\t\t\t'winddrive', 'heavydrive', 'jadedrive', 'airdrive', 'magicdrive', 'phantomdrive']) {\r\n\t\t\t\t\tif (defender.hasAbility(paradox)) {\r\n\t\t\t\t\t\tif (defender?.volatiles[paradox]?.bestStat !== 'def') return;\r\n\t\t\t\t\t\tthis.debug('Protodyschronometria nullify');\r\n\t\t\t\t\t\treturn this.chainModify([3151, 4096]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t},\r\n\t\tonAnyModifySpAPriority: 4,\r\n\t\tonAnyModifySpA(atk, attacker, defender, move) {\r\n\t\t\t\tconst abilityHolder = this.effectState.target;\r\n\t\t\t\tif (attacker.isAlly(abilityHolder) || attacker.ignoringAbility() || !this.effectState.unnerved) return;\r\n\t\t\t\tif (!move.suppressedParadox) move.suppressedParadox = abilityHolder;\r\n\t\t\t\telse if (move.suppressedParadox !== abilityHolder) return;\r\n\t\t\t\tfor (const paradox of ['protopyre', 'protoneuron', 'prototoxin', 'protolithos', 'protoavian',\r\n\t\t\t\t\t\t\t\t\t\t\t'protorefraction', 'protosynthesis', 'quarkdrive', 'jellyfilleddrive',\r\n\t\t\t\t\t\t\t\t\t\t\t'winddrive', 'heavydrive', 'jadedrive', 'airdrive', 'magicdrive', 'phantomdrive']) {\r\n\t\t\t\t\tif (attacker.hasAbility(paradox)) {\r\n\t\t\t\t\t\tif (attacker?.volatiles[paradox]?.bestStat !== 'spa') return;\r\n\t\t\t\t\t\tthis.debug('Protodyschronometria nullify');\r\n\t\t\t\t\t\treturn this.chainModify([3151, 4096]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t},\r\n\t\tonAnyModifySpDPriority: 5,\r\n\t\tonAnyModifySpD(atk, attacker, defender, move) {\r\n\t\t\t\tconst abilityHolder = this.effectState.target;\r\n\t\t\t\tif (defender.isAlly(abilityHolder) || defender.ignoringAbility() || !this.effectState.unnerved) return;\r\n\t\t\t\tif (!move.suppressedParadox) move.suppressedParadox = abilityHolder;\r\n\t\t\t\telse if (move.suppressedParadox !== abilityHolder) return;\r\n\t\t\t\tfor (const paradox of ['protopyre', 'protoneuron', 'prototoxin', 'protolithos', 'protoavian',\r\n\t\t\t\t\t\t\t\t\t\t\t'protorefraction', 'protosynthesis', 'quarkdrive', 'jellyfilleddrive',\r\n\t\t\t\t\t\t\t\t\t\t\t'winddrive', 'heavydrive', 'jadedrive', 'airdrive', 'magicdrive', 'phantomdrive']) {\r\n\t\t\t\t\tif (defender.hasAbility(paradox)) {\r\n\t\t\t\t\t\tif (defender?.volatiles[paradox]?.bestStat !== 'spd') return;\r\n\t\t\t\t\t\tthis.debug('Protodyschronometria nullify');\r\n\t\t\t\t\t\treturn this.chainModify([3151, 4096]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t},\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.add('-ability', pokemon, 'Protodyschronometria');\r\n\t\t},\r\n\t\tflags: {breakable: 1, failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, notransform: 1},\r\n\t\tname: \"Protodyschronometria\",\r\n\t\trating: 3,\r\n\t},\r\n\tprotopyre: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.singleEvent('WeatherChange', this.effect, this.effectState, pokemon);\r\n\t\t},\r\n\t\tonWeatherChange(pokemon) {\r\n\t\t\t// Protosynthesis is not affected by Utility Umbrella\r\n\t\t\tif (this.field.isWeather('sunnyday')) {\r\n\t\t\t\tpokemon.addVolatile('protopyre');\r\n\t\t\t} else if (!pokemon.volatiles['protopyre']?.fromBooster) {\r\n\t\t\t\tpokemon.removeVolatile('protopyre');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif ((pokemon.hp <= pokemon.maxhp / 3) || this.field.isWeather('sunnyday')) {\r\n\t\t\t\tpokemon.addVolatile('protopyre');\r\n\t\t\t} else if (!pokemon.volatiles['protopyre']?.fromBooster) {\r\n\t\t\t\tpokemon.removeVolatile('protopyre');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tdelete pokemon.volatiles['protopyre'];\r\n\t\t\tthis.add('-end', pokemon, 'Protopyre', '[silent]');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true,\r\n\t\t\tonStart(pokemon, source, effect) {\r\n\t\t\t\tif (effect?.name === 'Booster Energy') {\r\n\t\t\t\t\tthis.effectState.fromBooster = true;\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Protopyre', '[fromitem]');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Protopyre');\r\n\t\t\t\t}\r\n\t\t\t\tthis.effectState.bestStat = pokemon.getBestStat(false, true);\r\n\t\t\t\tthis.add('-start', pokemon, 'protosynthesis' + this.effectState.bestStat);\r\n\t\t\t},\r\n\t\t\tonModifyAtkPriority: 5,\r\n\t\t\tonModifyAtk(atk, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'atk' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Protopyre atk boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifyDefPriority: 6,\r\n\t\t\tonModifyDef(def, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'def' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Protopyre def boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpAPriority: 5,\r\n\t\t\tonModifySpA(spa, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spa' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Protopyre spa boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpDPriority: 6,\r\n\t\t\tonModifySpD(spd, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spd' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Protopyre spd boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpe(spe, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spe' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Protopyre spe boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t},\r\n\t\t\tonEnd(pokemon) {\r\n\t\t\t\tthis.add('-end', pokemon, 'Protosynthesis');\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, notransform: 1},\r\n\t\tname: \"Protopyre\",\r\n\t\tshortDesc: \"Sunny Day active, Booster Energy used or HP drops below 1/3 max HP: highest stat is 1.3x, or 1.5x if Speed.\",\r\n\t},\r\n\tprotoneuron: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.singleEvent('WeatherChange', this.effect, this.effectState, pokemon);\r\n\t\t},\r\n\t\tonWeatherChange(pokemon) {\r\n\t\t\t// Protosynthesis is not affected by Utility Umbrella\r\n\t\t\tif (this.field.isWeather('sunnyday')) {\r\n\t\t\t\tpokemon.addVolatile('protoneuron');\r\n\t\t\t} else if (!pokemon.volatiles['protoneuron']?.fromBooster) {\r\n\t\t\t\tpokemon.removeVolatile('protoneuron');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && target.isAlly(source) && move.category !== 'Status') {\r\n\t\t\t\tthis.add('-activate', target, 'ability: Protoneuron');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tdelete pokemon.volatiles['protoneuron'];\r\n\t\t\tthis.add('-end', pokemon, 'Protoneuron', '[silent]');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true,\r\n\t\t\tonStart(pokemon, source, effect) {\r\n\t\t\t\tif (effect?.name === 'Booster Energy') {\r\n\t\t\t\t\tthis.effectState.fromBooster = true;\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Protoneuron', '[fromitem]');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Protoneuron');\r\n\t\t\t\t}\r\n\t\t\t\tthis.effectState.bestStat = pokemon.getBestStat(false, true);\r\n\t\t\t\tthis.add('-start', pokemon, 'protosynthesis' + this.effectState.bestStat);\r\n\t\t\t},\r\n\t\t\tonModifyAtkPriority: 5,\r\n\t\t\tonModifyAtk(atk, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'atk' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Protoneuron atk boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifyDefPriority: 6,\r\n\t\t\tonModifyDef(def, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'def' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Protoneuron def boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpAPriority: 5,\r\n\t\t\tonModifySpA(spa, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spa' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Protoneuron spa boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpDPriority: 6,\r\n\t\t\tonModifySpD(spd, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spd' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Protoneuron spd boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpe(spe, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spe' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Protoneuron spe boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t},\r\n\t\t\tonEnd(pokemon) {\r\n\t\t\t\tthis.add('-end', pokemon, 'Protosynthesis');\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, notransform: 1, breakable: 1},\r\n\t\tname: \"Protoneuron\",\r\n\t\tshortDesc: \"Protosynthesis + Telepathy\",\r\n\t},\r\n\tprototoxin: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.singleEvent('WeatherChange', this.effect, this.effectState, pokemon);\r\n\t\t},\r\n\t\tonWeatherChange(pokemon) {\r\n\t\t\t// Protosynthesis is not affected by Utility Umbrella\r\n\t\t\tif (this.field.isWeather('sunnyday')) {\r\n\t\t\t\tpokemon.addVolatile('prototoxin');\r\n\t\t\t} else if (!pokemon.volatiles['prototoxin']?.fromBooster && pokemon.status !== 'psn' && pokemon.status !== 'tox') {\r\n\t\t\t\tpokemon.removeVolatile('prototoxin');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (((pokemon.status === 'psn' || pokemon.status === 'tox'))) {\r\n\t\t\t\tpokemon.addVolatile('prototoxin');\r\n\t\t\t} /*else if (!pokemon.volatiles['prototoxin']?.fromBooster) {\r\n\t\t\t\tpokemon.removeVolatile('prototoxin');\r\n\t\t\t}*/\r\n\t\t},\r\n\t\tonDamagePriority: 1,\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (effect.id === 'psn' || effect.id === 'tox') {\r\n\t\t\t\tthis.heal(target.baseMaxhp / 8);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tdelete pokemon.volatiles['prototoxin'];\r\n\t\t\tthis.add('-end', pokemon, 'Prototoxin', '[silent]');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true,\r\n\t\t\tonStart(pokemon, source, effect) {\r\n\t\t\t\tif (effect?.name === 'Booster Energy') {\r\n\t\t\t\t\tthis.effectState.fromBooster = true;\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Prototoxin', '[fromitem]');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Prototoxin');\r\n\t\t\t\t}\r\n\t\t\t\tthis.effectState.bestStat = pokemon.getBestStat(false, true);\r\n\t\t\t\tthis.add('-start', pokemon, 'protosynthesis' + this.effectState.bestStat);\r\n\t\t\t},\r\n\t\t\tonModifyAtkPriority: 5,\r\n\t\t\tonModifyAtk(atk, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'atk' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Prototoxin atk boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifyDefPriority: 6,\r\n\t\t\tonModifyDef(def, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'def' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Prototoxin def boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpAPriority: 5,\r\n\t\t\tonModifySpA(spa, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spa' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Prototoxin spa boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpDPriority: 6,\r\n\t\t\tonModifySpD(spd, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spd' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Prototoxin spd boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpe(spe, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spe' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Prototoxin spe boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t},\r\n\t\t\tonEnd(pokemon) {\r\n\t\t\t\tthis.add('-end', pokemon, 'Protosynthesis');\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, notransform: 1},\r\n\t\tname: \"Prototoxin\",\r\n\t\tshortDesc: \"Protosynthesis + Poison Heal. Gains Paradox boost when poisoned.\",\r\n\t},\r\n\tprotolithos: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.singleEvent('WeatherChange', this.effect, this.effectState, pokemon);\r\n\t\t},\r\n\t\tonWeatherChange(pokemon) {\r\n\t\t\t// Protosynthesis is not affected by Utility Umbrella\r\n\t\t\tif (this.field.isWeather('sunnyday')) {\r\n\t\t\t\tpokemon.addVolatile('protolithos');\r\n\t\t\t} else if (!pokemon.volatiles['protolithos']?.fromBooster) {\r\n\t\t\t\tpokemon.removeVolatile('protolithos');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (source && target === source) return;\r\n\t\t\tlet showMsg = false;\r\n\t\t\tlet i: BoostID;\r\n\t\t\tfor (i in boost) {\r\n\t\t\t\tif (boost[i]! < 0) {\r\n\t\t\t\t\tdelete boost[i];\r\n\t\t\t\t\tshowMsg = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (showMsg && !(effect as ActiveMove).secondaries && effect.id !== 'octolock') {\r\n\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"[from] ability: Protolithos\", \"[of] \" + target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tdelete pokemon.volatiles['protolithos'];\r\n\t\t\tthis.add('-end', pokemon, 'Protolithos', '[silent]');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true,\r\n\t\t\tonStart(pokemon, source, effect) {\r\n\t\t\t\tif (effect?.name === 'Booster Energy') {\r\n\t\t\t\t\tthis.effectState.fromBooster = true;\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Protolithos', '[fromitem]');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Protolithos');\r\n\t\t\t\t}\r\n\t\t\t\tthis.effectState.bestStat = pokemon.getBestStat(false, true);\r\n\t\t\t\tthis.add('-start', pokemon, 'protosynthesis' + this.effectState.bestStat);\r\n\t\t\t},\r\n\t\t\tonModifyAtkPriority: 5,\r\n\t\t\tonModifyAtk(atk, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'atk' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Protolithos atk boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifyDefPriority: 6,\r\n\t\t\tonModifyDef(def, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'def' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Protolithos def boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpAPriority: 5,\r\n\t\t\tonModifySpA(spa, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spa' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Protolithos spa boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpDPriority: 6,\r\n\t\t\tonModifySpD(spd, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spd' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Protolithos spd boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpe(spe, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spe' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Protolithos spe boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t},\r\n\t\t\tonEnd(pokemon) {\r\n\t\t\t\tthis.add('-end', pokemon, 'Protosynthesis');\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, notransform: 1, breakable: 1},\r\n\t\tname: \"Protolithos\",\r\n\t\tshortDesc: \"Protosynthesis + Clear Body\",\r\n\t},\r\n\tprotoavian: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.effectState.bestStat = pokemon.getBestStat(true, true);\r\n\t\t\tthis.singleEvent('WeatherChange', this.effect, this.effectState, pokemon);\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (source && target === source) return;\r\n\t\t\tconst bestStat = (this.effectState.bestStat ||= target.getBestStat(true, true));\r\n\t\t\tif (boost[bestStat] && boost[bestStat]! < 0) {\r\n\t\t\t\tdelete boost[bestStat];\r\n\t\t\t\tif (!(effect as ActiveMove).secondaries) {\r\n\t\t\t\t\tthis.add(\"-fail\", target, \"unboost\", bestStat, \"[from] ability: Protoavian\", \"[of] \" + target);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonWeatherChange(pokemon) {\r\n\t\t\t// Protosynthesis is not affected by Utility Umbrella\r\n\t\t\tif (this.field.isWeather('sunnyday')) {\r\n\t\t\t\tpokemon.addVolatile('protoavian');\r\n\t\t\t} else if (!pokemon.volatiles['protoavian']?.fromBooster) {\r\n\t\t\t\tpokemon.removeVolatile('protoavian');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tdelete pokemon.volatiles['protoavian'];\r\n\t\t\tthis.add('-end', pokemon, 'Protoavian', '[silent]');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true,\r\n\t\t\tonStart(pokemon, source, effect) {\r\n\t\t\t\tif (effect?.name === 'Booster Energy') {\r\n\t\t\t\t\tthis.effectState.fromBooster = true;\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Protoavian', '[fromitem]');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Protoavian');\r\n\t\t\t\t}\r\n\t\t\t\tthis.effectState.bestStat = pokemon.getBestStat(false, true);\r\n\t\t\t\tthis.add('-start', pokemon, 'protosynthesis' + this.effectState.bestStat);\r\n\t\t\t},\r\n\t\t\tonModifyAtkPriority: 5,\r\n\t\t\tonModifyAtk(atk, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'atk' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Protoavian atk boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifyDefPriority: 6,\r\n\t\t\tonModifyDef(def, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'def' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Protoavian def boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpAPriority: 5,\r\n\t\t\tonModifySpA(spa, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spa' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Protoavian spa boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpDPriority: 6,\r\n\t\t\tonModifySpD(spd, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spd' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Protoavian spd boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpe(spe, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spe' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Protoavian spe boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t},\r\n\t\t\tonEnd(pokemon) {\r\n\t\t\t\tthis.add('-end', pokemon, 'Protosynthesis');\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, notransform: 1, breakable: 1},\r\n\t\tname: \"Protoavian\",\r\n\t\tshortDesc: \"Highest stat can't be dropped by foe. Sunny Day or Booster Energy: highest stat is 1.3x, or 1.5x if Spe.\",\r\n\t},\r\n\tprotorefraction: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.singleEvent('WeatherChange', this.effect, this.effectState, pokemon);\r\n\t\t},\r\n\t\tonWeatherChange(pokemon) {\r\n\t\t\t// Protosynthesis is not affected by Utility Umbrella\r\n\t\t\tif (this.field.isWeather('sunnyday')) {\r\n\t\t\t\tpokemon.addVolatile('protorefraction');\r\n\t\t\t} else if (!pokemon.volatiles['protorefraction']?.fromBooster) {\r\n\t\t\t\tpokemon.removeVolatile('protorefraction');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\t// Don't bounce self stat changes, or boosts that have already bounced\r\n\t\t\tif (!source || target === source || !boost || effect.name === 'Mirror Armor' || effect.name === 'Protorefraction') return;\r\n\t\t\tlet b: BoostID;\r\n\t\t\tfor (b in boost) {\r\n\t\t\t\tif (boost[b]! < 0) {\r\n\t\t\t\t\tif (target.boosts[b] === -6) continue;\r\n\t\t\t\t\tconst negativeBoost: SparseBoostsTable = {};\r\n\t\t\t\t\tnegativeBoost[b] = boost[b];\r\n\t\t\t\t\tdelete boost[b];\r\n\t\t\t\t\tif (source.hp) {\r\n\t\t\t\t\t\tthis.add('-ability', target, 'Protorefraction');\r\n\t\t\t\t\t\tthis.boost(negativeBoost, source, target, null, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tdelete pokemon.volatiles['protorefraction'];\r\n\t\t\tthis.add('-end', pokemon, 'Protorefraction', '[silent]');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true,\r\n\t\t\tonStart(pokemon, source, effect) {\r\n\t\t\t\tif (effect?.name === 'Booster Energy') {\r\n\t\t\t\t\tthis.effectState.fromBooster = true;\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Protorefraction', '[fromitem]');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Protorefraction');\r\n\t\t\t\t}\r\n\t\t\t\tthis.effectState.bestStat = pokemon.getBestStat(false, true);\r\n\t\t\t\tthis.add('-start', pokemon, 'protosynthesis' + this.effectState.bestStat);\r\n\t\t\t},\r\n\t\t\tonModifyAtkPriority: 5,\r\n\t\t\tonModifyAtk(atk, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'atk' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Protorefraction atk boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifyDefPriority: 6,\r\n\t\t\tonModifyDef(def, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'def' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Protorefraction def boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpAPriority: 5,\r\n\t\t\tonModifySpA(spa, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spa' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Protorefraction spa boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpDPriority: 6,\r\n\t\t\tonModifySpD(spd, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spd' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Protorefraction spd boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpe(spe, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spe' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Protorefraction spe boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t},\r\n\t\t\tonEnd(pokemon) {\r\n\t\t\t\tthis.add('-end', pokemon, 'Protosynthesis');\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, notransform: 1, breakable: 1},\r\n\t\tname: \"Protorefraction\",\r\n\t\tshortDesc: \"Protosynthesis + Mirror Armor\",\r\n\t},\r\n\tjellyfilleddrive: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.singleEvent('TerrainChange', this.effect, this.effectState, pokemon);\r\n\t\t},\r\n\t\tonTerrainChange(pokemon) {\r\n\t\t\tif (this.field.isTerrain('electricterrain')) {\r\n\t\t\t\tpokemon.addVolatile('jellyfilleddrive');\r\n\t\t\t} else if (!pokemon.volatiles['jellyfilleddrive']?.fromBooster) {\r\n\t\t\t\tpokemon.removeVolatile('jellyfilleddrive');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tdelete pokemon.volatiles['jellyfilleddrive'];\r\n\t\t\tthis.add('-end', pokemon, 'Jelly-Filled Drive', '[silent]');\r\n\t\t},\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (this.gameType !== 'doubles') return;\r\n\t\t\tconst ally = pokemon.allies()[0];\r\n\t\t\tif (!ally || pokemon.baseSpecies.baseSpecies !== 'Iron Onigiri' || ally.baseSpecies.baseSpecies !== 'Great Dozo') {\r\n\t\t\t\t// Handle any edge cases\r\n\t\t\t\tif (pokemon.getVolatile('commanding')) pokemon.removeVolatile('commanding');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!pokemon.getVolatile('commanding')) {\r\n\t\t\t\t// If Great Dozo already was commanded this fails\r\n\t\t\t\tif (ally.getVolatile('commanded')) return;\r\n\t\t\t\t// Cancel all actions this turn for pokemon if applicable\r\n\t\t\t\tthis.queue.cancelAction(pokemon);\r\n\t\t\t\t// Add volatiles to both pokemon\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Jelly-Filled Drive', '[of] ' + ally);\r\n\t\t\t\tpokemon.addVolatile('commanding');\r\n\t\t\t\tally.addVolatile('commanded', pokemon);\r\n\t\t\t\tif (pokemon.species.name === 'Iron Onigiri-Droopy') {\r\n\t\t\t\t\tally.addVolatile('droopyboost', pokemon);\r\n\t\t\t\t} else if (pokemon.species.name === 'Iron Onigiri-Stretchy') {\r\n\t\t\t\t\tally.addVolatile('stretchyboost', pokemon);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tally.addVolatile('curlyboost', pokemon);\r\n\t\t\t\t}\r\n\t\t\t\t// Continued in conditions.ts in the volatiles\r\n\t\t\t} else {\r\n\t\t\t\tif (!ally.fainted) return;\r\n\t\t\t\tpokemon.removeVolatile('commanding');\r\n\t\t\t}\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true,\r\n\t\t\tonStart(pokemon, source, effect) {\r\n\t\t\t\tif (effect?.name === 'Booster Energy') {\r\n\t\t\t\t\tthis.effectState.fromBooster = true;\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Jelly-Filled Drive', '[fromitem]');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Jelly-Filled Drive');\r\n\t\t\t\t}\r\n\t\t\t\tthis.effectState.bestStat = pokemon.getBestStat(false, true);\r\n\t\t\t\tthis.add('-start', pokemon, 'quarkdrive' + this.effectState.bestStat);\r\n\t\t\t},\r\n\t\t\tonModifyAtkPriority: 5,\r\n\t\t\tonModifyAtk(atk, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'atk' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Jelly-Filled Drive atk boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifyDefPriority: 6,\r\n\t\t\tonModifyDef(def, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'def' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Jelly-Filled Drive def boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpAPriority: 5,\r\n\t\t\tonModifySpA(spa, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spa' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Jelly-Filled Drive spa boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpDPriority: 6,\r\n\t\t\tonModifySpD(spd, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spd' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Jelly-Filled Drive spd boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpe(spe, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spe' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Jelly-Filled Drive spe boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t},\r\n\t\t\tonEnd(pokemon) {\r\n\t\t\t\tthis.add('-end', pokemon, 'Quark Drive');\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, notransform: 1},\r\n\t\tname: \"Jelly-Filled Drive\",\r\n\t\tshortDesc: \"Quark Drive + Commander. Gives Great Dozo a Paradox boost based on Iron Onigiri form.\",\r\n\t},\r\n\twinddrive: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.singleEvent('TerrainChange', this.effect, this.effectState, pokemon);\r\n\t\t\tif (pokemon.side.sideConditions['tailwind']) {\r\n\t\t\t\tpokemon.addVolatile('winddrive');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTerrainChange(pokemon) {\r\n\t\t\tif (this.field.isTerrain('electricterrain')) {\r\n\t\t\t\tpokemon.addVolatile('winddrive');\r\n\t\t\t} else if (!pokemon.volatiles['winddrive']?.fromBooster && !pokemon.side.sideConditions['tailwind']) {\r\n\t\t\t\tpokemon.removeVolatile('winddrive');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.flags['wind']) {\r\n\t\t\t\tif (!target.addVolatile('winddrive')) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Wind Drive');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAllySideConditionStart(target, source, sideCondition) {\r\n\t\t\tconst pokemon = this.effectState.target;\r\n\t\t\tif (sideCondition.id === 'tailwind') {\r\n\t\t\t\tpokemon.addVolatile('winddrive');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tdelete pokemon.volatiles['winddrive'];\r\n\t\t\tthis.add('-end', pokemon, 'Wind Drive', '[silent]');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true,\r\n\t\t\tonStart(pokemon, source, effect) {\r\n\t\t\t\tif (effect?.name === 'Booster Energy') {\r\n\t\t\t\t\tthis.effectState.fromBooster = true;\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Wind Drive', '[fromitem]');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Wind Drive');\r\n\t\t\t\t}\r\n\t\t\t\tthis.effectState.bestStat = pokemon.getBestStat(false, true);\r\n\t\t\t\tthis.add('-start', pokemon, 'quarkdrive' + this.effectState.bestStat);\r\n\t\t\t},\r\n\t\t\tonModifyAtkPriority: 5,\r\n\t\t\tonModifyAtk(atk, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'atk' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Wind Drive atk boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifyDefPriority: 6,\r\n\t\t\tonModifyDef(def, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'def' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Wind Drive def boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpAPriority: 5,\r\n\t\t\tonModifySpA(spa, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spa' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Wind Drive spa boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpDPriority: 6,\r\n\t\t\tonModifySpD(spd, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spd' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Wind Drive spd boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpe(spe, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spe' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Wind Drive spe boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t},\r\n\t\t\tonEnd(pokemon) {\r\n\t\t\t\tthis.add('-end', pokemon, 'Quark Drive');\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, notransform: 1, breakable: 1},\r\n\t\tname: \"Wind Drive\",\r\n\t\tshortDesc: \"Electric Terrain active, Booster Energy used, hit by a wind move, or Tailwind begins: highest stat is 1.3x, or 1.5x if Speed. Wind move immunity.\",\r\n\t},\r\n\theavydrive: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.singleEvent('TerrainChange', this.effect, this.effectState, pokemon);\r\n\t\t},\r\n\t\tonTerrainChange(pokemon) {\r\n\t\t\tif (this.field.isTerrain('electricterrain')) {\r\n\t\t\t\tpokemon.addVolatile('heavydrive');\r\n\t\t\t} else if (!pokemon.volatiles['heavydrive']?.fromBooster) {\r\n\t\t\t\tpokemon.removeVolatile('heavydrive');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyWeightPriority: 1,\r\n\t\tonModifyWeight(weighthg) {\r\n\t\t\treturn weighthg * 2;\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tdelete pokemon.volatiles['heavydrive'];\r\n\t\t\tthis.add('-end', pokemon, 'Heavy Drive', '[silent]');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true,\r\n\t\t\tonStart(pokemon, source, effect) {\r\n\t\t\t\tif (effect?.name === 'Booster Energy') {\r\n\t\t\t\t\tthis.effectState.fromBooster = true;\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Heavy Drive', '[fromitem]');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Heavy Drive');\r\n\t\t\t\t}\r\n\t\t\t\tthis.effectState.bestStat = pokemon.getBestStat(false, true);\r\n\t\t\t\tthis.add('-start', pokemon, 'quarkdrive' + this.effectState.bestStat);\r\n\t\t\t},\r\n\t\t\tonModifyAtkPriority: 5,\r\n\t\t\tonModifyAtk(atk, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'atk' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Heavy Drive atk boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifyDefPriority: 6,\r\n\t\t\tonModifyDef(def, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'def' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Heavy Drive def boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpAPriority: 5,\r\n\t\t\tonModifySpA(spa, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spa' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Heavy Drive spa boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpDPriority: 6,\r\n\t\t\tonModifySpD(spd, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spd' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Heavy Drive spd boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpe(spe, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spe' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Heavy Drive spe boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t},\r\n\t\t\tonEnd(pokemon) {\r\n\t\t\t\tthis.add('-end', pokemon, 'Quark Drive');\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, notransform: 1, breakable: 1},\r\n\t\tname: \"Heavy Drive\",\r\n\t\tshortDesc: \"Quark Drive + Heavy Metal\",\r\n\t},\r\n\tjadedrive: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.effectState.bestStat = pokemon.getBestStat(true, true);\r\n\t\t\tthis.singleEvent('TerrainChange', this.effect, this.effectState, pokemon);\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (source && target === source) return;\r\n\t\t\tconst bestStat = (this.effectState.bestStat ||= target.getBestStat(true, true));\r\n\t\t\tif (boost[bestStat] && boost[bestStat]! < 0) {\r\n\t\t\t\tdelete boost[bestStat];\r\n\t\t\t\tif (!(effect as ActiveMove).secondaries) {\r\n\t\t\t\t\tthis.add(\"-fail\", target, \"unboost\", bestStat, \"[from] ability: Jade Drive\", \"[of] \" + target);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTerrainChange(pokemon) {\r\n\t\t\tif (this.field.isTerrain('electricterrain')) {\r\n\t\t\t\tpokemon.addVolatile('jadedrive');\r\n\t\t\t} else if (!pokemon.volatiles['jadedrive']?.fromBooster) {\r\n\t\t\t\tpokemon.removeVolatile('jadedrive');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tdelete pokemon.volatiles['jadedrive'];\r\n\t\t\tthis.add('-end', pokemon, 'Jade Drive', '[silent]');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true,\r\n\t\t\tonStart(pokemon, source, effect) {\r\n\t\t\t\tif (effect?.name === 'Booster Energy') {\r\n\t\t\t\t\tthis.effectState.fromBooster = true;\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Jade Drive', '[fromitem]');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Jade Drive');\r\n\t\t\t\t}\r\n\t\t\t\tthis.effectState.bestStat = pokemon.getBestStat(false, true);\r\n\t\t\t\tthis.add('-start', pokemon, 'quarkdrive' + this.effectState.bestStat);\r\n\t\t\t},\r\n\t\t\tonModifyAtkPriority: 5,\r\n\t\t\tonModifyAtk(atk, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'atk' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Jade Drive atk boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifyDefPriority: 6,\r\n\t\t\tonModifyDef(def, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'def' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Jade Drive def boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpAPriority: 5,\r\n\t\t\tonModifySpA(spa, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spa' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Jade Drive spa boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpDPriority: 6,\r\n\t\t\tonModifySpD(spd, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spd' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Jade Drive spd boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpe(spe, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spe' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Jade Drive spe boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t},\r\n\t\t\tonEnd(pokemon) {\r\n\t\t\t\tthis.add('-end', pokemon, 'Quark Drive');\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, notransform: 1, breakable: 1},\r\n\t\tname: \"Jade Drive\",\r\n\t\tshortDesc: \"Highest stat can't be dropped by foe. Electric Terrain or Booster Energy: highest stat is 1.3x, or 1.5x if Spe.\",\r\n\t},\r\n\tairdrive: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.singleEvent('TerrainChange', this.effect, this.effectState, pokemon);\r\n\t\t},\r\n\t\tonTerrainChange(pokemon) {\r\n\t\t\tif (this.field.isTerrain('electricterrain')) {\r\n\t\t\t\tpokemon.addVolatile('airdrive');\r\n\t\t\t} else if (!pokemon.volatiles['airdrive']?.fromBooster) {\r\n\t\t\t\tpokemon.removeVolatile('airdrive');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tdelete pokemon.volatiles['airdrive'];\r\n\t\t\tthis.add('-end', pokemon, 'Air Drive', '[silent]');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true,\r\n\t\t\tonStart(pokemon, source, effect) {\r\n\t\t\t\tif (effect?.name === 'Booster Energy') {\r\n\t\t\t\t\tthis.effectState.fromBooster = true;\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Air Drive', '[fromitem]');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Air Drive');\r\n\t\t\t\t}\r\n\t\t\t\tthis.effectState.bestStat = pokemon.getBestStat(false, true);\r\n\t\t\t\tthis.add('-start', pokemon, 'quarkdrive' + this.effectState.bestStat);\r\n\t\t\t},\r\n\t\t\tonModifyAtkPriority: 5,\r\n\t\t\tonModifyAtk(atk, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'atk' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Air Drive atk boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifyDefPriority: 6,\r\n\t\t\tonModifyDef(def, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'def' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Air Drive def boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpAPriority: 5,\r\n\t\t\tonModifySpA(spa, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spa' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Air Drive spa boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpDPriority: 6,\r\n\t\t\tonModifySpD(spd, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spd' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Air Drive spd boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpe(spe, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spe' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Air Drive spe boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t},\r\n\t\t\tonEnd(pokemon) {\r\n\t\t\t\tthis.add('-end', pokemon, 'Quark Drive');\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, notransform: 1},\r\n\t\tname: \"Air Drive\",\r\n\t\tshortDesc: \"Quark Drive + Levitate\",\r\n\t},\r\n\tmagicdrive: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.singleEvent('TerrainChange', this.effect, this.effectState, pokemon);\r\n\t\t},\r\n\t\tonTerrainChange(pokemon) {\r\n\t\t\tif (this.field.isTerrain('electricterrain')) {\r\n\t\t\t\tpokemon.addVolatile('magicdrive');\r\n\t\t\t} else if (!pokemon.volatiles['magicdrive']?.fromBooster) {\r\n\t\t\t\tpokemon.removeVolatile('magicdrive');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAfterMoveSecondarySelf(source, target, move) {\r\n\t\t\tif (!move || !target || source.switchFlag === true) return;\r\n\t\t\tif (target !== source && move.category !== 'Status') {\r\n\t\t\t\tif (source.item || source.volatiles['gem'] || move.id === 'fling') return;\r\n\t\t\t\tconst yourItem = target.takeItem(source);\r\n\t\t\t\tif (!yourItem) return;\r\n\t\t\t\tif (!source.setItem(yourItem)) {\r\n\t\t\t\t\ttarget.item = yourItem.id; // bypass setItem so we don't break choicelock or anything\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.add('-item', source, yourItem, '[from] ability: Magic Drive', '[of] ' + target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tdelete pokemon.volatiles['magicdrive'];\r\n\t\t\tthis.add('-end', pokemon, 'Magic Drive', '[silent]');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true,\r\n\t\t\tonStart(pokemon, source, effect) {\r\n\t\t\t\tif (effect?.name === 'Booster Energy') {\r\n\t\t\t\t\tthis.effectState.fromBooster = true;\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Light Drive', '[fromitem]');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Light Drive');\r\n\t\t\t\t}\r\n\t\t\t\tthis.effectState.bestStat = pokemon.getBestStat(false, true);\r\n\t\t\t\tthis.add('-start', pokemon, 'quarkdrive' + this.effectState.bestStat);\r\n\t\t\t},\r\n\t\t\tonModifyAtkPriority: 5,\r\n\t\t\tonModifyAtk(atk, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'atk' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Magic Drive atk boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifyDefPriority: 6,\r\n\t\t\tonModifyDef(def, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'def' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Magic Drive def boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpAPriority: 5,\r\n\t\t\tonModifySpA(spa, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spa' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Magic Drive spa boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpDPriority: 6,\r\n\t\t\tonModifySpD(spd, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spd' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Magic Drive spd boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpe(spe, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spe' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Magic Drive spe boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t},\r\n\t\t\tonEnd(pokemon) {\r\n\t\t\t\tthis.add('-end', pokemon, 'Quark Drive');\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, notransform: 1},\r\n\t\tname: \"Magic Drive\",\r\n\t\tshortDesc: \"Quark Drive + Magician\",\r\n\t},\r\n\tphantomdrive: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.singleEvent('TerrainChange', this.effect, this.effectState, pokemon);\r\n\t\t},\r\n\t\tonTerrainChange(pokemon) {\r\n\t\t\tif (this.field.isTerrain('electricterrain')) {\r\n\t\t\t\tpokemon.addVolatile('phantomdrive');\r\n\t\t\t} else if (!pokemon.volatiles['phantomdrive']?.fromBooster) {\r\n\t\t\t\tpokemon.removeVolatile('phantomdrive');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyMove(move) {\r\n\t\t\tdelete move.flags['contact'];\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tdelete pokemon.volatiles['phantomdrive'];\r\n\t\t\tthis.add('-end', pokemon, 'Phantom Drive', '[silent]');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true,\r\n\t\t\tonStart(pokemon, source, effect) {\r\n\t\t\t\tif (effect?.name === 'Booster Energy') {\r\n\t\t\t\t\tthis.effectState.fromBooster = true;\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Light Drive', '[fromitem]');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Light Drive');\r\n\t\t\t\t}\r\n\t\t\t\tthis.effectState.bestStat = pokemon.getBestStat(false, true);\r\n\t\t\t\tthis.add('-start', pokemon, 'quarkdrive' + this.effectState.bestStat);\r\n\t\t\t},\r\n\t\t\tonModifyAtkPriority: 5,\r\n\t\t\tonModifyAtk(atk, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'atk' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Phantom Drive atk boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifyDefPriority: 6,\r\n\t\t\tonModifyDef(def, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'def' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Phantom Drive def boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpAPriority: 5,\r\n\t\t\tonModifySpA(spa, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spa' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Phantom Drive spa boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpDPriority: 6,\r\n\t\t\tonModifySpD(spd, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spd' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Phantom Drive spd boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpe(spe, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spe' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Phantom Drive spe boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t},\r\n\t\t\tonEnd(pokemon) {\r\n\t\t\t\tthis.add('-end', pokemon, 'Quark Drive');\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, notransform: 1},\r\n\t\tname: \"Phantom Drive\",\r\n\t\tshortDesc: \"Quark Drive + Long Reach\",\r\n\t},\r\n\tembodyaspectcornerstone: {\r\n\t\tinherit: true,\r\n\t\tonStart(pokemon) {\r\n\t\t\tif (pokemon.baseSpecies.name === 'Ogereena-Cornerstone-Tera' && !this.effectState.embodied) {\r\n\t\t\t\tthis.effectState.embodied = true;\r\n\t\t\t\tthis.boost({def: 1}, pokemon);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tembodyaspecthearthflame: {\r\n\t\tinherit: true,\r\n\t\tonStart(pokemon) {\r\n\t\t\tif (pokemon.baseSpecies.name === 'Ogereena-Hearthflame-Tera' && !this.effectState.embodied) {\r\n\t\t\t\tthis.effectState.embodied = true;\r\n\t\t\t\tthis.boost({atk: 1}, pokemon);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tembodyaspectteal: {\r\n\t\tinherit: true,\r\n\t\tonStart(pokemon) {\r\n\t\t\tif (pokemon.baseSpecies.name === 'Ogereena-Teal-Tera' && !this.effectState.embodied) {\r\n\t\t\t\tthis.effectState.embodied = true;\r\n\t\t\t\tthis.boost({spe: 1}, pokemon);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tembodyaspectwellspring: {\r\n\t\tinherit: true,\r\n\t\tonStart(pokemon) {\r\n\t\t\tif (pokemon.baseSpecies.name === 'Ogereena-Wellspring-Tera' && !this.effectState.embodied) {\r\n\t\t\t\tthis.effectState.embodied = true;\r\n\t\t\t\tthis.boost({spd: 1}, pokemon);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tcomedycentral: {\r\n\t\tonModifyPriority(priority, pokemon, target, move) {\r\n\t\t\tif (move?.category === 'Status') {\r\n\t\t\t\tmove.pranksterBoosted = true;\r\n\t\t\t\treturn priority + 1;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyRedirectTarget(target, source, source2, move) {\r\n\t\t\tif (move.category !== 'Status' || move.flags['pledgecombo']) return;\r\n\t\t\tconst redirectTarget = ['randomNormal', 'adjacentFoe'].includes(move.target) ? 'normal' : move.target;\r\n\t\t\tif (this.validTarget(this.effectState.target, source, redirectTarget)) {\r\n\t\t\t\tif (move.smartTarget) move.smartTarget = false;\r\n\t\t\t\tif (this.effectState.target !== target) {\r\n\t\t\t\t\tthis.add('-activate', this.effectState.target, 'ability: Comedy Central');\r\n\t\t\t\t}\r\n\t\t\t\treturn this.effectState.target;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Comedy Central\",\r\n\t\tshortDesc: \"User's status moves have +1 priority. Draws status moves to itself.\",\r\n\t},\r\n\tbrilliantbugs: {\r\n\t\tonModifySpAPriority: 5,\r\n\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\tfor (const allyActive of attacker.allies()) {\r\n\t\t\t\tif (allyActive.hasType('Bug')) {\r\n\t\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t\t} else if (attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\t\tthis.debug('Brilliant Bugs boost');\r\n\t\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Brilliant Bugs\",\r\n\t\tshortDesc: \"At 1/3 max HP, or if this Pok\u00E9mon's ally is a Bug-Type, this Pokemon's Sp. Atk is 1.5x.\",\r\n\t},\r\n\tslapstick: {\r\n\t\tonModifyPriority(priority, pokemon, target, move) {\r\n\t\t\tif (move?.category === 'Status') {\r\n\t\t\t\tmove.pranksterBoosted = true;\r\n\t\t\t\treturn priority + 1;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Electric') {\r\n\t\t\t\tif (!this.heal(target.baseMaxhp / 4)) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Slapstick');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Slapstick\",\r\n\t\tshortDesc: \"Prankster + Volt Absorb\",\r\n\t},\r\n\tnegativeawareness: {\r\n\t\tonModifySpAPriority: 5,\r\n\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\tfor (const allyActive of attacker.allies()) {\r\n\t\t\t\tif (allyActive.volatiles['attract'] || allyActive.volatiles['taunt']) {\r\n\t\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.volatiles['attract']) {\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Negative Awareness');\r\n\t\t\t\tpokemon.removeVolatile('attract');\r\n\t\t\t\tthis.add('-end', pokemon, 'move: Attract', '[from] ability: Negative Awareness');\r\n\t\t\t}\r\n\t\t\tif (pokemon.volatiles['taunt']) {\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Negative Awareness');\r\n\t\t\t\tpokemon.removeVolatile('taunt');\r\n\t\t\t\t// Taunt's volatile already sends the -end message when removed\r\n\t\t\t}\r\n\t\t},\r\n\t\tonImmunity(type, pokemon) {\r\n\t\t\tif (type === 'attract') return false;\r\n\t\t},\r\n\t\tonTryHit(pokemon, target, move) {\r\n\t\t\tif (move.id === 'attract' || move.id === 'captivate' || move.id === 'taunt') {\r\n\t\t\t\tthis.add('-immune', pokemon, '[from] ability: Negative Awareness');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (boost.atk && ['Intimidate', 'Underestimate', 'Migrate', 'Incorporate', 'Hunger Fate', 'Eliminate', 'Dominate', 'Obliterate',\r\n\t\t\t\t  'Sea Monster', 'Inflame', 'Brave Look', 'Venom Glare'].includes(effect.name)) {\r\n\t\t\t\tdelete boost.atk;\r\n\t\t\t\tthis.add('-fail', target, 'unboost', 'Attack', '[from] ability: Negative Awareness', '[of] ' + target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Negative Awareness\",\r\n\t\tshortDesc: \"At 1/3 max HP, or if this Pok\u00E9mon's ally is a Bug-Type, this Pokemon's Sp. Atk is 1.5x.\",\r\n\t},\r\n\tsmellthecourage: {\r\n\t\tonAllyTryAddVolatile(status, target, source, effect) {\r\n\t\t\tif (['attract', 'disable', 'encore', 'healblock', 'taunt', 'torment'].includes(status.id)) {\r\n\t\t\t\tif (effect.effectType === 'Move') {\r\n\t\t\t\t\tconst effectHolder = this.effectState.target;\r\n\t\t\t\t\tthis.add('-block', target, 'ability: Smell The Courage', '[of] ' + effectHolder);\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSetStatus(status, target, source, effect) {\r\n\t\t\tif (!['psn', 'tox', 'frz', 'par', 'slp', 'brn'].includes(status.id)) return;\r\n\t\t\tif ((effect as Move)?.status) {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Smell The Courage');\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonAllySetStatus(status, target, source, effect) {\r\n\t\t\tif (!['psn', 'tox', 'frz', 'par', 'slp', 'brn'].includes(status.id)) return;\r\n\t\t\tif ((effect as Move)?.status) {\r\n\t\t\t\tconst effectHolder = this.effectState.target;\r\n\t\t\t\tthis.add('-block', target, 'ability: Smell The Courage', '[of] ' + effectHolder);\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Smell The Courage\",\r\n\t\tshortDesc: \"Protects user/allies from status, Attract, Disable, Encore, Heal Block, Taunt, and Torment.\",\r\n\t},\r\n\tfeedingfrenzy: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tpokemon.abilityState.gluttony = true;\r\n\t\t},\r\n\t\tonDamage(item, pokemon) {\r\n\t\t\tpokemon.abilityState.gluttony = true;\r\n\t\t},\r\n\t\tonEatItem(item, pokemon) {\r\n\t\t\tpokemon.addVolatile('feedingfrenzy');\r\n\t\t},\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Fire') {\r\n\t\t\t\tmove.accuracy = true;\r\n\t\t\t\tif (!target.addVolatile('feedingfrenzy')) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Feeding Frenzy');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tpokemon.removeVolatile('feedingfrenzy');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true,\r\n\t\t\tonStart(target) {\r\n\t\t\t\tthis.add('-start', target, 'ability: Feeding Frenzy');\r\n\t\t\t},\r\n\t\t\tonModifyAtkPriority: 5,\r\n\t\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\t\tif (move.type === 'Fire' && attacker.hasAbility('feedingfrenzy')) {\r\n\t\t\t\t\tthis.debug('Feeding Frenzy boost');\r\n\t\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonModifySpAPriority: 5,\r\n\t\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\t\tif (move.type === 'Fire' && attacker.hasAbility('feedingfrenzy')) {\r\n\t\t\t\t\tthis.debug('Feeding Frenzy boost');\r\n\t\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonEnd(target) {\r\n\t\t\t\tthis.add('-end', target, 'ability: Feeding Frenzy', '[silent]');\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Feeding Frenzy\",\r\n\t\tshortDesc: \"Effects of Gluttony & Flash Fire. User gains Flash Fire when it eats a berry.\",\r\n\t},\r\n\tskincare: {\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (this.checkMoveMakesContact(move, source, target, true)) {\r\n\t\t\t\tif (this.randomChance(3, 10)) {\r\n\t\t\t\t\tthis.add('-ability', target, 'Skincare');\r\n\t\t\t\t\tthis.boost({spa: 1}, target, target, null, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Water') {\r\n\t\t\t\tif (!this.boost({spa: 1})) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Skincare');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyRedirectTarget(target, source, source2, move) {\r\n\t\t\tif (move.type !== 'Water' || move.flags['pledgecombo']) return;\r\n\t\t\tconst redirectTarget = ['randomNormal', 'adjacentFoe'].includes(move.target) ? 'normal' : move.target;\r\n\t\t\tif (this.validTarget(this.effectState.target, source, redirectTarget)) {\r\n\t\t\t\tif (move.smartTarget) move.smartTarget = false;\r\n\t\t\t\tif (this.effectState.target !== target) {\r\n\t\t\t\t\tthis.add('-activate', this.effectState.target, 'ability: Skincare');\r\n\t\t\t\t}\r\n\t\t\t\treturn this.effectState.target;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Skincare\",\r\n\t\tshortDesc: \"Effects of Storm Drain. 30% chance of +1 SpA when hit by contact.\",\r\n\t},\r\n\texcavate: {\r\n\t\tonModifyTypePriority: -1,\r\n\t\tonModifyType(move, pokemon) {\r\n\t\t\tconst noModifyType = [\r\n\t\t\t\t'judgment', 'multiattack', 'naturalgift', 'revelationdance', 'technoblast', 'terrainpulse', 'weatherball',\r\n\t\t\t];\r\n\t\t\tif (move.type === 'Normal' && !noModifyType.includes(move.id) &&\r\n\t\t\t\t!(move.isZ && move.category !== 'Status') && !(move.name === 'Tera Blast' && pokemon.terastallized)) {\r\n\t\t\t\tmove.type = 'Ground';\r\n\t\t\t\tmove.typeChangerBoosted = this.effect;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBasePowerPriority: 23,\r\n\t\tonBasePower(basePower, pokemon, target, move) {\r\n\t\t\tif (move.typeChangerBoosted === this.effect) return this.chainModify([4915, 4096]);\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Excavate\",\r\n\t\tshortDesc: \"This Pokemon's Normal-type moves become Ground type and have 1.2x power.\",\r\n\t},\r\n\tsynchscale: {\r\n\t\tonAfterSetStatus(status, target, source, effect) {\r\n\t\t\tif (!source || source === target) return;\r\n\t\t\tif (effect && effect.id === 'toxicspikes') return;\r\n\t\t\tif (status.id === 'slp' || status.id === 'frz') return;\r\n\t\t\tthis.add('-activate', target, 'ability: Synchscale');\r\n\t\t\t// Hack to make status-prevention abilities think Synchronize is a status move\r\n\t\t\t// and show messages when activating against it.\r\n\t\t\tsource.trySetStatus(status, target, {status: status.id, id: 'synchscale'} as Effect);\r\n\t\t},\r\n\t\tonModifyDefPriority: 6,\r\n\t\tonModifyDef(def, pokemon) {\r\n\t\t\tif (pokemon.status) {\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Synchscale\",\r\n\t\tshortDesc: \"Synchronize + Marvel Scale\",\r\n\t},\r\n\tmetagaming: {\r\n\t\tonTryAddVolatile(status, pokemon) {\r\n\t\t\tif (status.id === 'flinch') return null;\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (boost.atk && ['Intimidate', 'Underestimate', 'Migrate', 'Incorporate', 'Hunger Fate', 'Eliminate', 'Dominate', 'Obliterate',\r\n\t\t\t\t  'Sea Monster', 'Inflame', 'Brave Look', 'Venom Glare'].includes(effect.name)) {\r\n\t\t\t\tdelete boost.atk;\r\n\t\t\t\tthis.boost({spa: 2}, target, target, null, false, true);\r\n\t\t\t\tthis.add('-fail', target, 'unboost', 'Attack', '[from] ability: Metagaming', '[of] ' + target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAfterEachBoost(boost, target, source, effect) {\r\n\t\t\tif (!source || target.isAlly(source)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet statsLowered = false;\r\n\t\t\tlet i: BoostID;\r\n\t\t\tfor (i in boost) {\r\n\t\t\t\tif (boost[i]! < 0) {\r\n\t\t\t\t\tstatsLowered = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (statsLowered) {\r\n\t\t\t\tthis.boost({spa: 2}, target, target, null, false, true);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Metagaming\",\r\n\t\tshortDesc: \"Inner Focus + Competitive. Competitive still activates when Intimidated.\",\r\n\t},\r\n\tpeabrain: {\r\n\t\tonSetStatus(status, target, source, effect) {\r\n\t\t\tif (['sunnyday', 'desolateland'].includes(target.effectiveWeather())) {\r\n\t\t\t\tif ((effect as Move)?.status) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Pea Brain');\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryAddVolatile(status, target) {\r\n\t\t\tif (status.id === 'yawn' && ['sunnyday', 'desolateland'].includes(target.effectiveWeather())) {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Pea Brain');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (effect.id === 'recoil') {\r\n\t\t\t\tif (!this.activeMove) throw new Error(\"Battle.activeMove is null\");\r\n\t\t\t\tif (this.activeMove.id !== 'struggle') return null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Pea Brain\",\r\n\t\tshortDesc: \"Leaf Guard + Rock Head\",\r\n\t},\r\n\tsharpshooter: {\r\n\t\tonBasePowerPriority: 19,\r\n\t\tonBasePower(basePower, attacker, defender, move) {\r\n\t\t\tif (move.flags['slicing']) {\r\n\t\t\t\tthis.debug('Sharpshooter boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (this.field.isWeather('sandstorm')) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonImmunity(type, pokemon) {\r\n\t\t\tif (type === 'sandstorm') return false;\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Sharpshooter\",\r\n\t\tshortDesc: \"Sharpness + Sand Rush\",\r\n\t},\r\n\ttectonicpower: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.add('-ability', pokemon, 'Tectonic Power');\r\n\t\t\tthis.add('-message', `${pokemon.name} is breaking ground!`);\r\n\t\t},\r\n\t\tonModifyMove(move) {\r\n\t\t\tmove.ignoreAbility = true;\r\n\t\t},\r\n\t\tonBasePowerPriority: 21,\r\n\t\tonBasePower(basePower, attacker, defender, move) {\r\n\t\t\tif (this.field.isWeather('sandstorm')) {\r\n\t\t\t\tif (move.type === 'Rock' || move.type === 'Ground' || move.type === 'Steel') {\r\n\t\t\t\t\tthis.debug('Tectonic Power boost');\r\n\t\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonImmunity(type, pokemon) {\r\n\t\t\tif (type === 'sandstorm') return false;\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Tectonic Power\",\r\n\t\tshortDesc: \"Mold Breaker + Sand Force\",\r\n\t},\r\n\tdinomight: {\r\n\t\tonModifyMove(move, pokemon) {\r\n\t\t\tif (move.secondaries) {\r\n\t\t\t\tdelete move.secondaries;\r\n\t\t\t\t// Technically not a secondary effect, but it is negated\r\n\t\t\t\tdelete move.self;\r\n\t\t\t\tif (move.id === 'clangoroussoulblaze') delete move.selfBoost;\r\n\t\t\t\t// Actual negation of `AfterMoveSecondary` effects implemented in scripts.js\r\n\t\t\t\tmove.hasSheerForce = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBasePowerPriority: 21,\r\n\t\tonBasePower(basePower, pokemon, target, move) {\r\n\t\t\tif (move.hasSheerForce) return this.chainModify([5325, 4096]);\r\n\t\t},\r\n\t\tonModifySecondaries(secondaries) {\r\n\t\t\tif (this.field.isWeather('sandstorm') && this.randomChance(1, 4)) { \r\n\t\t\t\tthis.debug('Dino Might prevent secondary');\r\n\t\t\t\treturn secondaries.filter(effect => !!(effect.self || effect.dustproof));\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Dino Might\",\r\n\t\tshortDesc: \"Effects of Sheer Force. If Sandstorm is active, secondary effects have a 25% to not activate on this Pokemon.\",\r\n\t},\r\n\tsoulstone: {\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Rock') {\r\n\t\t\t\tthis.debug('Soulstone boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpAPriority: 5,\r\n\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Rock') {\r\n\t\t\t\tthis.debug('Soulstone boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (this.field.isWeather('sandstorm')) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonImmunity(type, pokemon) {\r\n\t\t\tif (type === 'sandstorm') return false;\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Soulstone\",\r\n\t\tshortDesc: \"Sand Rush + Rocky Payload\",\r\n\t},\r\n\tgrimplumage: {\r\n\t\tonSourceModifyDamage(damage, source, target, move) {\r\n\t\t\tlet mod = 1;\r\n\t\t\tif (move.type === 'Fire') mod *= 2;\r\n\t\t\tif (move.flags['contact']) mod /= 2;\r\n\t\t\treturn this.chainModify(mod);\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (source && target === source) return;\r\n\t\t\tif (boost.def && boost.def < 0) {\r\n\t\t\t\tdelete boost.def;\r\n\t\t\t\tif (!(effect as ActiveMove).secondaries && effect.id !== 'octolock') {\r\n\t\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"Defense\", \"[from] ability: Grim Plumage\", \"[of] \" + target);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Grim Plumage\",\r\n\t\tshortDesc: \"Fluffy + Big Pecks\",\r\n\t},\r\n\twetbugs: {\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (['raindance', 'primordialsea'].includes(pokemon.effectiveWeather())) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Bug' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Wet Bugs boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpAPriority: 5,\r\n\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Bug' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Wet Bugs boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Wet Bugs\",\r\n\t\tshortDesc: \"Swift Swim + Swarm\",\r\n\t},\r\n\ttintedveil: {\r\n\t\tonModifyDamage(damage, source, target, move) {\r\n\t\t\tif (target.getMoveHitData(move).typeMod < 0) {\r\n\t\t\t\tthis.debug('Tinted Veil boost');\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.status === 'brn') {\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Tinted Veil');\r\n\t\t\t\tpokemon.cureStatus();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSetStatus(status, target, source, effect) {\r\n\t\t\tif (status.id !== 'brn') return;\r\n\t\t\tif ((effect as Move)?.status) {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Tinted Veil');\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Tinted Veil\",\r\n\t\tshortDesc: \"Water Veil + Tinted Lens\",\r\n\t},\r\n\tpolarpower: {\r\n\t\tonModifyMove(move, pokemon) {\r\n\t\t\tif (move.secondaries) {\r\n\t\t\t\tdelete move.secondaries;\r\n\t\t\t\t// Technically not a secondary effect, but it is negated\r\n\t\t\t\tdelete move.self;\r\n\t\t\t\tif (move.id === 'clangoroussoulblaze') delete move.selfBoost;\r\n\t\t\t\t// Actual negation of `AfterMoveSecondary` effects implemented in scripts.js\r\n\t\t\t\tmove.hasSheerForce = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBasePowerPriority: 21,\r\n\t\tonBasePower(basePower, pokemon, target, move) {\r\n\t\t\tif (move.hasSheerForce) return this.chainModify([5325, 4096]);\r\n\t\t},\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (this.field.isWeather(['hail', 'snow'])) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Polar Power\",\r\n\t\tshortDesc: \"Sheer Force + Slush Rush\",\r\n\t},\r\n\tmarinemenace: {\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (['raindance', 'primordialsea'].includes(pokemon.effectiveWeather())) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Water' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Marine Menace boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpAPriority: 5,\r\n\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Water' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Marine Menace boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Marine Menace\",\r\n\t\tshortDesc: \"Torrent + Swift Swim\",\r\n\t},\r\n\tglacier: {\r\n\t\tonTryHit(pokemon, target, move) {\r\n\t\t\tif (move.ohko) {\r\n\t\t\t\tthis.add('-immune', pokemon, '[from] ability: Glacier');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonDamagePriority: -30,\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (target.hp === target.maxhp && damage >= target.hp && effect && effect.effectType === 'Move') {\r\n\t\t\t\tthis.add('-ability', target, 'Glacier');\r\n\t\t\t\treturn target.hp - 1;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceModifyAtkPriority: 6,\r\n\t\tonSourceModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Ice' || move.type === 'Fire') {\r\n\t\t\t\tthis.debug('Glacier weaken');\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceModifySpAPriority: 5,\r\n\t\tonSourceModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Ice' || move.type === 'Fire') {\r\n\t\t\t\tthis.debug('Glacier weaken');\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Glacier\",\r\n\t\tshortDesc: \"Sturdy + Thick Fat\",\r\n\t},\r\n\tfrostbite: {\r\n\t\tonModifyMove(move, pokemon) {\r\n\t\t\tif (move.secondaries) {\r\n\t\t\t\tdelete move.secondaries;\r\n\t\t\t\t// Technically not a secondary effect, but it is negated\r\n\t\t\t\tdelete move.self;\r\n\t\t\t\tif (move.id === 'clangoroussoulblaze') delete move.selfBoost;\r\n\t\t\t\t// Actual negation of `AfterMoveSecondary` effects implemented in scripts.js\r\n\t\t\t\tmove.hasSheerForce = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBasePowerPriority: 19,\r\n\t\tonBasePower(basePower, attacker, defender, move) {\r\n\t\t\tif (move.hasSheerForce) return this.chainModify([5325, 4096]);\r\n\t\t\tif (move.flags['bite']) {\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Frostbite\",\r\n\t\tshortDesc: \"Strong Jaw + Sheer Force\",\r\n\t},\r\n\tabominable: {\r\n\t\tonWeather(target, source, effect) {\r\n\t\t\tif (effect.id === 'hail' || effect.id === 'snow') {\r\n\t\t\t\tthis.heal(target.baseMaxhp / 16);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonImmunity(type, pokemon) {\r\n\t\t\tif (type === 'hail') return false;\r\n\t\t},\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (this.field.isWeather(['hail', 'snow'])) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Abominable\",\r\n\t\tshortDesc: \"Ice Body + Slush Rush\",\r\n\t},\r\n\thumourless: {\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (((move.priority > 0.1) || move.flags['sound']) && target !== source) {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Humourless');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAllyTryHitSide(target, source, move) {\r\n\t\t\tif ((move.priority > 0.1) || move.flags['sound']) {\r\n\t\t\t\tthis.add('-immune', this.effectState.target, '[from] ability: Humourless');\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Humourless\",\r\n\t\tshortDesc: \"This Pok\u00E9mon is immune to Sound-based moves and priority moves.\",\r\n\t},\r\n\ttorsion: {\r\n\t\tonDamagePriority: 1,\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (effect?.effectType === 'Move' && ['klefikyu', 'klefikyuunlocked'].includes(target.species.id)) {\r\n\t\t\t\tthis.add('-activate', target, 'ability: Torsion');\r\n\t\t\t\tthis.effectState.busted = true;\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonCriticalHit(target, source, move) {\r\n\t\t\tif (!target) return;\r\n\t\t\tif (!['klefikyu', 'klefikyutotem'].includes(target.species.id)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst hitSub = target.volatiles['substitute'] && !move.flags['bypasssub'] && !(move.infiltrates && this.gen >= 6);\r\n\t\t\tif (hitSub) return;\r\n\r\n\t\t\tif (!target.runImmunity(move.type)) return;\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonEffectiveness(typeMod, target, type, move) {\r\n\t\t\tif (!target || move.category === 'Status') return;\r\n\t\t\tif (!['klefikyu', 'klefikyutotem'].includes(target.species.id)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst hitSub = target.volatiles['substitute'] && !move.flags['bypasssub'] && !(move.infiltrates && this.gen >= 6);\r\n\t\t\tif (hitSub) return;\r\n\r\n\t\t\tif (!target.runImmunity(move.type)) return;\r\n\t\t\treturn 0;\r\n\t\t},\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (['klefikyu', 'klefikyutotem'].includes(pokemon.species.id) && this.effectState.busted) {\r\n\t\t\t\tconst speciesid = pokemon.species.id === 'klefikyutotem' ? 'Klefikyu-Unlocked-Totem' : 'Klefikyu-Unlocked';\r\n\t\t\t\tpokemon.formeChange(speciesid, this.effect, true);\r\n\t\t\t\tthis.damage(pokemon.baseMaxhp / 8, pokemon, pokemon, this.dex.species.get(speciesid));\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyPriority(priority, pokemon, target, move) {\r\n\t\t\tif (move?.category === 'Status' && pokemon.species.id === 'klefikyuunlocked') {\r\n\t\t\t\tmove.pranksterBoosted = true;\r\n\t\t\t\treturn priority + 1;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {\r\n\t\t\tfailroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, cantsuppress: 1,\r\n\t\t\tbreakable: 1, notransform: 1,\r\n\t\t},\r\n\t\tname: \"Torsion\",\r\n\t\tshortDesc: \"Effects of Disguise. Gains the effects of Prankster when disguise is broken.\",\r\n\t},\r\n\taerialforce: {\r\n\t\t// airborneness implemented in scripts.ts:Pokemon#isGrounded\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, attacker, defender) {\r\n\t\t\tif (!defender.activeTurns) {\r\n\t\t\t\tthis.debug('Aerial Force boost');\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpAPriority: 5,\r\n\t\tonModifySpA(atk, attacker, defender) {\r\n\t\t\tif (!defender.activeTurns) {\r\n\t\t\t\tthis.debug('Aerial Force boost');\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Aerial Force\",\r\n\t\tshortDesc: \"Levitate + Stakeout\",\r\n\t},\r\n\tsomnoproof: {\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.status === 'slp') {\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Somnoproof');\r\n\t\t\t\tpokemon.cureStatus();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSetStatus(status, target, source, effect) {\r\n\t\t\tif (status.id !== 'slp') return;\r\n\t\t\tif ((effect as Move)?.status) {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Somnoproof');\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonTryAddVolatile(status, target) {\r\n\t\t\tif (status.id === 'yawn') {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Somnoproof');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceModifyAtkPriority: 6,\r\n\t\tonSourceModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Fire') {\r\n\t\t\t\tthis.debug('Somnoproof Atk weaken');\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceModifySpAPriority: 5,\r\n\t\tonSourceModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Fire') {\r\n\t\t\t\tthis.debug('Somnoproof SpA weaken');\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (effect && effect.id === 'brn') {\r\n\t\t\t\treturn damage / 2;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Somnoproof\",\r\n\t\tshortDesc: \"Heatproof + Insomnia\",\r\n\t},\r\n\tfightandflight: {\r\n\t\t// airborneness implemented in scripts.ts:Pokemon#isGrounded\r\n\t\tonAfterEachBoost(boost, target, source, effect) {\r\n\t\t\tif (!source || target.isAlly(source)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet statsLowered = false;\r\n\t\t\tlet i: BoostID;\r\n\t\t\tfor (i in boost) {\r\n\t\t\t\tif (boost[i]! < 0) {\r\n\t\t\t\t\tstatsLowered = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (statsLowered) {\r\n\t\t\t\tthis.boost({atk: 2}, target, target, null, false, true);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Fight and Flight\",\r\n\t\tshortDesc: \"Levitate + Defiant\",\r\n\t},\r\n\tangershield: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tif (pokemon.baseSpecies.baseSpecies !== 'Miniklaw' || pokemon.transformed) return;\r\n\t\t\tif (pokemon.hp > pokemon.maxhp / 2) {\r\n\t\t\t\tif (pokemon.species.forme !== 'Meteor') {\r\n\t\t\t\t\tpokemon.formeChange('Miniklaw-Meteor');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (pokemon.species.forme === 'Meteor') {\r\n\t\t\t\t\tpokemon.formeChange(pokemon.set.species);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (\r\n\t\t\t\teffect.effectType === \"Move\" &&\r\n\t\t\t\t!effect.multihit &&\r\n\t\t\t\t(!effect.negateSecondary && !(effect.hasSheerForce && source.hasAbility('sheerforce')))\r\n\t\t\t) {\r\n\t\t\t\tthis.effectState.checkedAngerShell = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis.effectState.checkedAngerShell = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryEatItem(item) {\r\n\t\t\tconst healingItems = [\r\n\t\t\t\t'aguavberry', 'enigmaberry', 'figyberry', 'iapapaberry', 'magoberry', 'sitrusberry', 'wikiberry', 'oranberry', 'berryjuice',\r\n\t\t\t];\r\n\t\t\tif (healingItems.includes(item.id)) {\r\n\t\t\t\treturn this.effectState.checkedAngerShell;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\tonAfterMoveSecondary(target, source, move) {\r\n\t\t\tthis.effectState.checkedAngerShell = true;\r\n\t\t\tif (!source || source === target || !target.hp || !move.totalDamage) return;\r\n\t\t\tconst lastAttackedBy = target.getLastAttackedBy();\r\n\t\t\tif (!lastAttackedBy) return;\r\n\t\t\tconst damage = move.multihit ? move.totalDamage : lastAttackedBy.damage;\r\n\t\t\tif (target.hp <= target.maxhp / 2 && target.hp + damage > target.maxhp / 2) {\r\n\t\t\t\tthis.boost({atk: 1, spa: 1, spe: 1, def: -1, spd: -1}, target, target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonResidualOrder: 29,\r\n\t\tonResidual(pokemon) {\r\n\t\t\tif (pokemon.baseSpecies.baseSpecies !== 'Miniklaw' || pokemon.transformed || !pokemon.hp) return;\r\n\t\t\tif (pokemon.hp > pokemon.maxhp / 2) {\r\n\t\t\t\tif (pokemon.species.forme !== 'Meteor') {\r\n\t\t\t\t\tpokemon.formeChange('Miniklaw-Meteor');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (pokemon.species.forme === 'Meteor') {\r\n\t\t\t\t\tpokemon.formeChange(pokemon.set.species);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSetStatus(status, target, source, effect) {\r\n\t\t\tif (target.species.id !== 'Miniklawmeteor' || target.transformed) return;\r\n\t\t\tif ((effect as Move)?.status) {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Anger Shield');\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonTryAddVolatile(status, target) {\r\n\t\t\tif (target.species.id !== 'Miniklawmeteor' || target.transformed) return;\r\n\t\t\tif (status.id !== 'yawn') return;\r\n\t\t\tthis.add('-immune', target, '[from] ability: Anger Shield');\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, cantsuppress: 1},\r\n\t\tname: \"Anger Shield\",\r\n\t\tshortDesc: \"Shields Down + Anger Shell\",\r\n\t},\r\n\thealthydrink: {\r\n\t\tonWeather(target, source, effect) {\r\n\t\t\tif (target.hasItem('utilityumbrella')) return;\r\n\t\t\tif (effect.id === 'raindance' || effect.id === 'primordialsea') {\r\n\t\t\t\tthis.heal(target.baseMaxhp / 16);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSwitchOut(pokemon) {\r\n\t\t\tpokemon.heal(pokemon.baseMaxhp / 3);\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Healthy Drink\",\r\n\t\tshortDesc: \"Rain Dish + Regenerator\",\r\n\t},\r\n\tloveofruin: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tif (this.suppressingAbility(pokemon)) return;\r\n\t\t\tthis.add('-ability', pokemon, 'Love of Ruin');\r\n\t\t\tthis.add('-message', `The ${pokemon.name}'s Love of Ruin weakened the Attack of all surrounding Pokemon!`);\r\n\t\t},\r\n\t\tonAnyModifyAtk(atk, source, target, move) {\r\n\t\t\tconst abilityHolder = this.effectState.target;\r\n\t\t\tif (source.hasAbility('Love of Ruin')) return;\r\n\t\t\tif (!move.ruinedAtk) move.ruinedAtk = abilityHolder;\r\n\t\t\tif (move.ruinedAtk !== abilityHolder) return;\r\n\t\t\tthis.debug('Love of Ruin Atk drop');\r\n\t\t\treturn this.chainModify(0.75);\r\n\t\t},\r\n\t\tonImmunity(type, pokemon) {\r\n\t\t\tif (type === 'sandstorm' || type === 'hail' || type === 'powder') return false;\r\n\t\t},\r\n\t\tonTryHitPriority: 1,\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (move.flags['powder'] && target !== source && this.dex.getImmunity('powder', target)) {\r\n\t\t\t\tthis.add('-immune', target, '[from] ability: Love of Ruin');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Love of Ruin\",\r\n\t\tshortDesc: \"Tablets of Ruin + Overcoat\",\r\n\t},\r\n\tdogofruin: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tif (this.suppressingAbility(pokemon)) return;\r\n\t\t\tthis.add('-ability', pokemon, 'Dog of Ruin');\r\n\t\t\tthis.add('-message', `The ${pokemon.name}'s Dog of Ruin weakened the Defense of all surrounding Pokemon!`);\r\n\t\t},\r\n\t\tonAnyModifyDef(def, target, source, move) {\r\n\t\t\tconst abilityHolder = this.effectState.target;\r\n\t\t\tif (target.hasAbility('Dog of Ruin')) return;\r\n\t\t\tif (!move.ruinedDef?.hasAbility('Dog of Ruin')) move.ruinedDef = abilityHolder;\r\n\t\t\tif (move.ruinedDef !== abilityHolder) return;\r\n\t\t\tthis.debug('Dog of Ruin Def drop');\r\n\t\t\treturn this.chainModify(0.75);\r\n\t\t},\r\n\t\tonDragOutPriority: 1,\r\n\t\tonDragOut(pokemon) {\r\n\t\t\tthis.add('-activate', pokemon, 'ability: Dog of Ruin');\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Dog of Ruin\",\r\n\t\tshortDesc: \"Effects of Sword of Ruin. This Pokemon can't be forced to switch out.\",\r\n\t},\r\n\tautomatonofruin: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tif (this.suppressingAbility(pokemon)) return;\r\n\t\t\tthis.add('-ability', pokemon, 'Automaton of Ruin');\r\n\t\t\tthis.add('-message', `The ${pokemon.name}'s Automaton of Ruin weakened the Special Attack of all surrounding Pokemon!`);\r\n\t\t},\r\n\t\tonAnyModifySpA(spa, source, target, move) {\r\n\t\t\tconst abilityHolder = this.effectState.target;\r\n\t\t\tif (source.hasAbility('Automaton of Ruin')) return;\r\n\t\t\tif (!move.ruinedSpA) move.ruinedSpA = abilityHolder;\r\n\t\t\tif (move.ruinedSpA !== abilityHolder) return;\r\n\t\t\tthis.debug('Automaton of Ruin SpA drop');\r\n\t\t\treturn this.chainModify(0.75);\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (source && target === source) return;\r\n\t\t\tlet showMsg = false;\r\n\t\t\tlet i: BoostID;\r\n\t\t\tfor (i in boost) {\r\n\t\t\t\tif (boost[i]! < 0) {\r\n\t\t\t\t\tdelete boost[i];\r\n\t\t\t\t\tshowMsg = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (showMsg && !(effect as ActiveMove).secondaries && effect.id !== 'octolock') {\r\n\t\t\t\tthis.add(\"-fail\", target, \"unboost\", \"[from] ability: Automaton of Ruin\", \"[of] \" + target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Automaton of Ruin\",\r\n\t\tshortDesc: \"Vessel of Ruin + Clear Body\",\r\n\t},\r\n\tpoultryofruin: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tif (this.suppressingAbility(pokemon)) return;\r\n\t\t\tthis.add('-ability', pokemon, 'Poultry of Ruin');\r\n\t\t\tthis.add('-message', `The ${pokemon.name}'s Poultry of Ruin weakened the Special Defense of all surrounding Pokemon!`);\r\n\t\t},\r\n\t\tonAnyModifySpD(spd, target, source, move) {\r\n\t\t\tconst abilityHolder = this.effectState.target;\r\n\t\t\tif (target.hasAbility('Poultry of Ruin')) return;\r\n\t\t\tif (!move.ruinedSpD?.hasAbility('Poultry of Ruin')) move.ruinedSpD = abilityHolder;\r\n\t\t\tif (move.ruinedSpD !== abilityHolder) return;\r\n\t\t\tthis.debug('Poultry of Ruin SpD drop');\r\n\t\t\treturn this.chainModify(0.75);\r\n\t\t},\r\n\t\tonModifyAtkPriority: 5,\r\n\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Fire' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Poultry of Ruin boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySpAPriority: 5,\r\n\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.type === 'Fire' && attacker.hp <= attacker.maxhp / 3) {\r\n\t\t\t\tthis.debug('Poultry of Ruin boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Poultry of Ruin\",\r\n\t\tshortDesc: \"Beads of Ruin + Blaze\",\r\n\t},\r\n\troyalguard: {\r\n\t\tonFoeTryMove(target, source, move) {\r\n\t\t\tconst targetAllExceptions = ['perishsong', 'flowershield', 'rototiller'];\r\n\t\t\tif (move.target === 'foeSide' || (move.target === 'all' && !targetAllExceptions.includes(move.id))) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst dazzlingHolder = this.effectState.target;\r\n\t\t\tif ((source.isAlly(dazzlingHolder) || move.target === 'all') && move.priority > 0.1) {\r\n\t\t\t\tthis.attrLastMove('[still]');\r\n\t\t\t\tthis.add('cant', dazzlingHolder, 'ability: Royal Guard', move, '[of] ' + target);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAfterEachBoost(boost, target, source, effect) {\r\n\t\t\tif (!source || target.isAlly(source)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet statsLowered = false;\r\n\t\t\tlet i: BoostID;\r\n\t\t\tfor (i in boost) {\r\n\t\t\t\tif (boost[i]! < 0) {\r\n\t\t\t\t\tstatsLowered = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (statsLowered) {\r\n\t\t\t\tthis.boost({atk: 2}, target, target, null, false, true);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Royal Guard\",\r\n\t\tshortDesc: \"Queenly Majesty + Defiant\",\r\n\t},\r\n\ttoxiclinks: {\r\n\t\tonSourceDamagingHit(damage, target, source, move) {\r\n\t\t\t// Despite not being a secondary, Shield Dust / Covert Cloak block Toxic Chain's effect\r\n\t\t\tif (target.hasAbility('shielddust') || target.hasItem('covertcloak')) return;\r\n\r\n\t\t\tif (this.randomChance(3, 10)) {\r\n\t\t\t\ttarget.trySetStatus('tox', source);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifyMove(move) {\r\n\t\t\tif (move.multihit && Array.isArray(move.multihit) && move.multihit.length) {\r\n\t\t\t\tmove.multihit = move.multihit[1];\r\n\t\t\t}\r\n\t\t\tif (move.multiaccuracy) {\r\n\t\t\t\tdelete move.multiaccuracy;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Toxic Links\",\r\n\t\tshortDesc: \"Toxic Chain + Skill Link\",\r\n\t},\r\n\tbrutebird: {\r\n\t\tonModifyMove(move, pokemon) {\r\n\t\t\tif (move.secondaries) {\r\n\t\t\t\tdelete move.secondaries;\r\n\t\t\t\t// Technically not a secondary effect, but it is negated\r\n\t\t\t\tdelete move.self;\r\n\t\t\t\tif (move.id === 'clangoroussoulblaze') delete move.selfBoost;\r\n\t\t\t\t// Actual negation of `AfterMoveSecondary` effects implemented in scripts.js\r\n\t\t\t\tmove.hasSheerForce = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBasePowerPriority: 21,\r\n\t\tonBasePower(basePower, pokemon, target, move) {\r\n\t\t\tif (move.hasSheerForce) return this.chainModify([5325, 4096]);\r\n\t\t},\r\n\t\tonDragOutPriority: 1,\r\n\t\tonDragOut(pokemon) {\r\n\t\t\tthis.add('-activate', pokemon, 'ability: Guard Dog');\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (boost.atk && ['Intimidate', 'Underestimate', 'Migrate', 'Incorporate', 'Hunger Fate', 'Eliminate', 'Dominate', 'Obliterate',\r\n\t\t\t\t  'Sea Monster', 'Inflame', 'Brave Look', 'Venom Glare'].includes(effect.name)) {\r\n\t\t\t\tdelete boost.atk;\r\n\t\t\t\tthis.boost({atk: 1}, target, target, null, false, true);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Brute Bird\",\r\n\t\tshortDesc: \"Guard Dog + Sheer Force\",\r\n\t},\r\n\tvenomglare: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tlet activated = false;\r\n\t\t\tfor (const target of pokemon.adjacentFoes()) {\r\n\t\t\t\tif (!activated) {\r\n\t\t\t\t\tthis.add('-ability', pokemon, 'Venom Glare', 'boost');\r\n\t\t\t\t\tactivated = true;\r\n\t\t\t\t}\r\n\t\t\t\tif (target.volatiles['substitute']) {\r\n\t\t\t\t\tthis.add('-immune', target);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.boost({atk: -1}, target, pokemon, null, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceDamagingHit(damage, target, source, move) {\r\n\t\t\t// Despite not being a secondary, Shield Dust / Covert Cloak block Toxic Chain's effect\r\n\t\t\tif (target.hasAbility('shielddust') || target.hasItem('covertcloak')) return;\r\n\r\n\t\t\tif (this.randomChance(3, 10)) {\r\n\t\t\t\ttarget.trySetStatus('tox', source);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Venom Glare\",\r\n\t\tshortDesc: \"Toxic Chain + Intimidate\",\r\n\t},\r\n\thydrotechnic: {\r\n\t\tonModifySpe(spe, pokemon) {\r\n\t\t\tif (['raindance', 'primordialsea'].includes(pokemon.effectiveWeather())) {\r\n\t\t\t\treturn this.chainModify(2);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBasePowerPriority: 30,\r\n\t\tonBasePower(basePower, attacker, defender, move) {\r\n\t\t\tconst basePowerAfterMultiplier = this.modify(basePower, this.event.modifier);\r\n\t\t\tthis.debug('Base Power: ' + basePowerAfterMultiplier);\r\n\t\t\tif (basePowerAfterMultiplier <= 60) {\r\n\t\t\t\tthis.debug('Hydrotechnic boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Hydrotechnic\",\r\n\t\tshortDesc: \"Technician + Swift Swim\",\r\n\t},\r\n\ttoxicdrive: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tthis.singleEvent('TerrainChange', this.effect, this.effectState, pokemon);\r\n\t\t},\r\n\t\tonTerrainChange(pokemon) {\r\n\t\t\tif (this.field.isTerrain('electricterrain')) {\r\n\t\t\t\tpokemon.addVolatile('toxicdrive');\r\n\t\t\t} else if (!pokemon.volatiles['toxicdrive']?.fromBooster) {\r\n\t\t\t\tpokemon.removeVolatile('toxicdrive');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceDamagingHit(damage, target, source, move) {\r\n\t\t\t// Despite not being a secondary, Shield Dust / Covert Cloak block Toxic Chain's effect\r\n\t\t\tif (target.hasAbility('shielddust') || target.hasItem('covertcloak')) return;\r\n\r\n\t\t\tif (this.randomChance(3, 10)) {\r\n\t\t\t\ttarget.trySetStatus('tox', source);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tdelete pokemon.volatiles['toxicdrive'];\r\n\t\t\tthis.add('-end', pokemon, 'Toxic Drive', '[silent]');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true,\r\n\t\t\tonStart(pokemon, source, effect) {\r\n\t\t\t\tif (effect?.name === 'Booster Energy') {\r\n\t\t\t\t\tthis.effectState.fromBooster = true;\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Toxic Drive', '[fromitem]');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.add('-activate', pokemon, 'ability: Toxic Drive');\r\n\t\t\t\t}\r\n\t\t\t\tthis.effectState.bestStat = pokemon.getBestStat(false, true);\r\n\t\t\t\tthis.add('-start', pokemon, 'quarkdrive' + this.effectState.bestStat);\r\n\t\t\t},\r\n\t\t\tonModifyAtkPriority: 5,\r\n\t\t\tonModifyAtk(atk, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'atk' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Toxic Drive atk boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifyDefPriority: 6,\r\n\t\t\tonModifyDef(def, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'def' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Toxic Drive def boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpAPriority: 5,\r\n\t\t\tonModifySpA(spa, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spa' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Toxic Drive spa boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpDPriority: 6,\r\n\t\t\tonModifySpD(spd, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spd' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Toxic Drive spd boost');\r\n\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t},\r\n\t\t\tonModifySpe(spe, pokemon) {\r\n\t\t\t\tif (this.effectState.bestStat !== 'spe' || pokemon.ignoringAbility()) return;\r\n\t\t\t\tthis.debug('Toxic Drive spe boost');\r\n\t\t\t\treturn this.chainModify(1.5);\r\n\t\t\t},\r\n\t\t\tonEnd(pokemon) {\r\n\t\t\t\tthis.add('-end', pokemon, 'Quark Drive');\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {failroleplay: 1, noreceiver: 1, noentrain: 1, notrace: 1, failskillswap: 1, notransform: 1},\r\n\t\tname: \"Toxic Drive\",\r\n\t\tshortDesc: \"Toxic Chain + Quark Drive\",\r\n\t},\r\n\tstresseating: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tfor (const target of pokemon.foes()) {\r\n\t\t\t\tfor (const moveSlot of target.moveSlots) {\r\n\t\t\t\t\tconst move = this.dex.moves.get(moveSlot.move);\r\n\t\t\t\t\tif (move.category === 'Status') continue;\r\n\t\t\t\t\tconst moveType = move.id === 'hiddenpower' ? target.hpType : move.type;\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tthis.dex.getImmunity(moveType, pokemon) && this.dex.getEffectiveness(moveType, pokemon) > 0 ||\r\n\t\t\t\t\t\tmove.ohko\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tthis.add('-ability', pokemon, 'Stress Eating');\r\n\t\t\t\t\t\tif (pokemon.getItem().isBerry) {\r\n\t\t\t\t\t\t\tpokemon.eatItem(true);\r\n\t\t\t\t\t\t\tthis.add('-message', `${pokemon.name}'s ate its berry!`);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Stress Eating\",\r\n\t\tshortDesc: \"On switch-in, this Pokemon shudders and attempts to eat its berry if any foe has a supereffective or OHKO move.\",\r\n\t},\r\n\tafatpability: {\r\n\t\tonSourceModifyAtkPriority: 6,\r\n\t\tonSourceModifyAtk(atk, attacker, defender, move) {\r\n\t\t\tif (move.forceSTAB || attacker.hasType(move.type)) {\r\n\t\t\t\tthis.debug('Afatpability weaken');\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSourceModifySpAPriority: 5,\r\n\t\tonSourceModifySpA(atk, attacker, defender, move) {\r\n\t\t\tif (move.forceSTAB || attacker.hasType(move.type)) {\r\n\t\t\t\tthis.debug('Afatpability weaken');\r\n\t\t\t\treturn this.chainModify(0.5);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Afatpability\",\r\n\t\tshortDesc: \"This Pokemon takes half damage from STAB moves.\",\r\n\t},\r\n\tnudibranch: {\r\n\t\tonModifySTAB(stab, source, target, move) {\r\n\t\t\tif (move.forceSTAB || source.hasType(move.type)) {\r\n\t\t\t\tif (stab === 2) {\r\n\t\t\t\t\treturn 2.25;\r\n\t\t\t\t}\r\n\t\t\t\treturn 2;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryHit(target, source, move) {\r\n\t\t\tif (target !== source && move.type === 'Water') {\r\n\t\t\t\tif (!this.boost({spa: 1})) {\r\n\t\t\t\t\tthis.add('-immune', target, '[from] ability: Nudibranch');\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAnyRedirectTarget(target, source, source2, move) {\r\n\t\t\tif (move.type !== 'Water' || move.flags['pledgecombo']) return;\r\n\t\t\tconst redirectTarget = ['randomNormal', 'adjacentFoe'].includes(move.target) ? 'normal' : move.target;\r\n\t\t\tif (this.validTarget(this.effectState.target, source, redirectTarget)) {\r\n\t\t\t\tif (move.smartTarget) move.smartTarget = false;\r\n\t\t\t\tif (this.effectState.target !== target) {\r\n\t\t\t\t\tthis.add('-activate', this.effectState.target, 'ability: Nudibranch');\r\n\t\t\t\t}\r\n\t\t\t\treturn this.effectState.target;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Nudibranch\",\r\n\t\tshortDesc: \"Storm Drain + Adaptability\",\r\n\t},\r\n\tsandscatter: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tfor (const target of pokemon.foes()) {\r\n\t\t\t\tfor (const moveSlot of target.moveSlots) {\r\n\t\t\t\t\tconst move = this.dex.moves.get(moveSlot.move);\r\n\t\t\t\t\tif (move.category === 'Status') continue;\r\n\t\t\t\t\tconst moveType = move.id === 'hiddenpower' ? target.hpType : move.type;\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tthis.dex.getImmunity(moveType, pokemon) && this.dex.getEffectiveness(moveType, pokemon) > 0 ||\r\n\t\t\t\t\t\tmove.ohko\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tthis.add('-ability', pokemon, 'Sand Scatter');\r\n\t\t\t\t\t\tpokemon.addVolatile('sandscatter');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tpokemon.removeVolatile('sandscatter');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true, // doesn't get copied by Baton Pass\r\n\t\t\tonStart(target) {\r\n\t\t\t\tthis.add('-start', target, 'ability: Sand Scatter');\r\n\t\t\t},\r\n\t\t\tonModifyAtkPriority: 5,\r\n\t\t\tonModifyAtk(atk, attacker, defender, move) {\r\n\t\t\t\tif (move.type === 'Rock' || move.type === 'Ground' || move.type === 'Steel') {\r\n\t\t\t\t\tthis.debug('Sand Scatter boost');\r\n\t\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonModifySpAPriority: 5,\r\n\t\t\tonModifySpA(atk, attacker, defender, move) {\r\n\t\t\t\tif (move.type === 'Rock' || move.type === 'Ground' || move.type === 'Steel') {\r\n\t\t\t\t\tthis.debug('Sand Scatter boost');\r\n\t\t\t\t\treturn this.chainModify([5325, 4096]);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonEnd(target) {\r\n\t\t\t\tthis.add('-end', target, 'ability: Sand Scatter', '[silent]');\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Sand Scatter\",\r\n\t\tshortDesc: \"On switch-in, shudders if any foe has a SE/OHKO move. After shuddering, user's Ground/Rock/Steel attacks do 1.3x.\",\r\n\t},\r\n\tgoldfishbrain: {\r\n\t\tonModifySTAB(stab, source, target, move) {\r\n\t\t\tif (move.forceSTAB || source.hasType(move.type)) {\r\n\t\t\t\tif (stab === 2) {\r\n\t\t\t\t\treturn 2.25;\r\n\t\t\t\t}\r\n\t\t\t\treturn 2;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.volatiles['attract']) {\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Goldfish Brain');\r\n\t\t\t\tpokemon.removeVolatile('attract');\r\n\t\t\t\tthis.add('-end', pokemon, 'move: Attract', '[from] ability: Goldfish Brain');\r\n\t\t\t}\r\n\t\t\tif (pokemon.volatiles['taunt']) {\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Goldfish Brain');\r\n\t\t\t\tpokemon.removeVolatile('taunt');\r\n\t\t\t\t// Taunt's volatile already sends the -end message when removed\r\n\t\t\t}\r\n\t\t},\r\n\t\tonImmunity(type, pokemon) {\r\n\t\t\tif (type === 'attract') return false;\r\n\t\t},\r\n\t\tonTryHit(pokemon, target, move) {\r\n\t\t\tif (move.id === 'attract' || move.id === 'captivate' || move.id === 'taunt') {\r\n\t\t\t\tthis.add('-immune', pokemon, '[from] ability: Goldfish Brain');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (boost.atk && ['Intimidate', 'Underestimate', 'Migrate', 'Incorporate', 'Hunger Fate', 'Eliminate', 'Dominate', 'Obliterate',\r\n\t\t\t\t  'Sea Monster', 'Inflame', 'Brave Look', 'Venom Glare'].includes(effect.name)) {\r\n\t\t\t\tdelete boost.atk;\r\n\t\t\t\tthis.add('-fail', target, 'unboost', 'Attack', '[from] ability: Goldfish Brain', '[of] ' + target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Goldfish Brain\",\r\n\t\tshortDesc: \"Oblivious + Adaptability\",\r\n\t},\r\n\toverprepared: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tfor (const target of pokemon.foes()) {\r\n\t\t\t\tfor (const moveSlot of target.moveSlots) {\r\n\t\t\t\t\tconst move = this.dex.moves.get(moveSlot.move);\r\n\t\t\t\t\tif (move.category === 'Status') continue;\r\n\t\t\t\t\tconst moveType = move.id === 'hiddenpower' ? target.hpType : move.type;\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tthis.dex.getImmunity(moveType, pokemon) && this.dex.getEffectiveness(moveType, pokemon) > 0 ||\r\n\t\t\t\t\t\tmove.ohko\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tthis.add('-ability', pokemon, 'Overprepared');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySTAB(stab, source, target, move) {\r\n\t\t\tif (move.forceSTAB || source.hasType(move.type)) {\r\n\t\t\t\tif (stab === 2) {\r\n\t\t\t\t\treturn 2.25;\r\n\t\t\t\t}\r\n\t\t\t\treturn 2;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Overprepared\",\r\n\t\tshortDesc: \"Anticipation + Adaptability\",\r\n\t},\r\n\trockability: {\r\n\t\tonDamage(damage, target, source, effect) {\r\n\t\t\tif (effect.id === 'recoil') {\r\n\t\t\t\tif (!this.activeMove) throw new Error(\"Battle.activeMove is null\");\r\n\t\t\t\tif (this.activeMove.id !== 'struggle') return null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonModifySTAB(stab, source, target, move) {\r\n\t\t\tif (move.forceSTAB || source.hasType(move.type)) {\r\n\t\t\t\tif (stab === 2) {\r\n\t\t\t\t\treturn 2.25;\r\n\t\t\t\t}\r\n\t\t\t\treturn 2;\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Rockability\",\r\n\t\tshortDesc: \"Rock Head + Adaptability\",\r\n\t},\r\n\tpocketsand: {\r\n\t\tonStart(pokemon) {\r\n\t\t\tfor (const target of pokemon.foes()) {\r\n\t\t\t\tfor (const moveSlot of target.moveSlots) {\r\n\t\t\t\t\tconst move = this.dex.moves.get(moveSlot.move);\r\n\t\t\t\t\tif (move.category === 'Status') continue;\r\n\t\t\t\t\tconst moveType = move.id === 'hiddenpower' ? target.hpType : move.type;\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tthis.dex.getImmunity(moveType, pokemon) && this.dex.getEffectiveness(moveType, pokemon) > 0 ||\r\n\t\t\t\t\t\tmove.ohko\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tthis.add('-ability', pokemon, 'Pocket Sand');\r\n\t\t\t\t\t\tpokemon.addVolatile('pocketsand');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonEnd(pokemon) {\r\n\t\t\tpokemon.removeVolatile('pocketsand');\r\n\t\t},\r\n\t\tcondition: {\r\n\t\t\tnoCopy: true, // doesn't get copied by Baton Pass\r\n\t\t\tonStart(target) {\r\n\t\t\t\tthis.add('-start', target, 'ability: Pocket Sand');\r\n\t\t\t},\r\n\t\t\tonModifyAccuracyPriority: -1,\r\n\t\t\tonModifyAccuracy(accuracy) {\r\n\t\t\t\tif (typeof accuracy !== 'number') return;\r\n\t\t\t\tthis.debug('Pocket Sand - decreasing accuracy');\r\n\t\t\t\treturn this.chainModify([3277, 4096]);\r\n\t\t\t},\r\n\t\t\tonEnd(target) {\r\n\t\t\t\tthis.add('-end', target, 'ability: Pocket Sand', '[silent]');\r\n\t\t\t},\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Pocket Sand\",\r\n\t\tshortDesc: \"On switch-in, shudders if any foe has a SE/OHKO move. After shuddering, this Pokemon's evasiveness is 1.25x.\",\r\n\t},\r\n\tfrightenedcub: {\r\n\t\tonDamagingHit(damage, target, source, move) {\r\n\t\t\tif (['Dark', 'Bug', 'Ghost', 'Water'].includes(move.type)) {\r\n\t\t\t\tthis.boost({spe: 1});\r\n\t\t\t}\r\n\t\t},\r\n\t\tonAfterBoost(boost, target, source, effect) {\r\n\t\t\tif (boost.atk && ['Intimidate', 'Underestimate', 'Migrate', 'Incorporate', 'Hunger Fate', 'Eliminate', 'Dominate', 'Obliterate',\r\n\t\t\t\t  'Sea Monster', 'Inflame', 'Brave Look', 'Venom Glare'].includes(effect.name)) {\r\n\t\t\t\tthis.boost({spe: 1});\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {},\r\n\t\tname: \"Frightened Cub\",\r\n\t\tshortDesc: \"Speed is raised 1 stage if hit by a Bug-, Dark-, Water-, or Ghost-type attack, or Intimidated.\",\r\n\t},\r\n\ticeage: {\r\n\t\tonModifyMove(move, pokemon) {\r\n\t\t\tif (move.secondaries) {\r\n\t\t\t\tdelete move.secondaries;\r\n\t\t\t\t// Technically not a secondary effect, but it is negated\r\n\t\t\t\tdelete move.self;\r\n\t\t\t\tif (move.id === 'clangoroussoulblaze') delete move.selfBoost;\r\n\t\t\t\t// Actual negation of `AfterMoveSecondary` effects implemented in scripts.js\r\n\t\t\t\tmove.hasSheerForce = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBasePowerPriority: 21,\r\n\t\tonBasePower(basePower, pokemon, target, move) {\r\n\t\t\tif (move.hasSheerForce) return this.chainModify([5325, 4096]);\r\n\t\t},\r\n\t\tonUpdate(pokemon) {\r\n\t\t\tif (pokemon.volatiles['confusion']) {\r\n\t\t\t\tthis.add('-activate', pokemon, 'ability: Ice Age');\r\n\t\t\t\tpokemon.removeVolatile('confusion');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryAddVolatile(status, pokemon) {\r\n\t\t\tif (status.id === 'confusion') return null;\r\n\t\t},\r\n\t\tonHit(target, source, move) {\r\n\t\t\tif (move?.volatileStatus === 'confusion') {\r\n\t\t\t\tthis.add('-immune', target, 'confusion', '[from] ability: Ice Age');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonTryBoost(boost, target, source, effect) {\r\n\t\t\tif (boost.atk && ['Intimidate', 'Underestimate', 'Migrate', 'Incorporate', 'Hunger Fate', 'Eliminate', 'Dominate', 'Obliterate',\r\n\t\t\t\t  'Sea Monster', 'Inflame', 'Brave Look', 'Venom Glare'].includes(effect.name)) {\r\n\t\t\t\tdelete boost.atk;\r\n\t\t\t\tthis.add('-fail', target, 'unboost', 'Attack', '[from] ability: Ice Age', '[of] ' + target);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Ice Age\",\r\n\t\tshortDesc: \"Sheer Force + Own Tempo\",\r\n\t},\r\n\tsnowproblem: {\r\n\t\tonWeather(target, source, effect) {\r\n\t\t\tif (effect.id === 'hail' || effect.id === 'snow') {\r\n\t\t\t\tthis.heal(target.baseMaxhp / 16);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonImmunity(type, pokemon) {\r\n\t\t\tif (type === 'hail') return false;\r\n\t\t},\r\n\t\tonModifyAccuracyPriority: -1,\r\n\t\tonModifyAccuracy(accuracy) {\r\n\t\t\tif (typeof accuracy !== 'number') return;\r\n\t\t\tif (this.field.isWeather(['hail', 'snow'])) {\r\n\t\t\t\tthis.debug('Snow Problem - decreasing accuracy');\r\n\t\t\t\treturn this.chainModify([3277, 4096]);\r\n\t\t\t}\r\n\t\t},\r\n\t\tflags: {breakable: 1},\r\n\t\tname: \"Snow Problem\",\r\n\t\tshortDesc: \"If Snow is active, this Pokemon heals 1/16 of its max HP each turn and its evasiveness is 1.25x.\",\r\n\t},\r\n};\r\n"],
  "mappings": "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",
  "names": ["source", "pokemon", "attacker", "source2", "target"]
}
